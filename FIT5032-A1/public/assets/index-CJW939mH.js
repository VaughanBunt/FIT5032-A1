(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Df(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const vt={},jo=[],Ms=()=>{},jy=()=>!1,qu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Vf=t=>t.startsWith("onUpdate:"),Cn=Object.assign,Lf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},iA=Object.prototype.hasOwnProperty,lt=(t,e)=>iA.call(t,e),Ae=Array.isArray,Bo=t=>Bl(t)==="[object Map]",ua=t=>Bl(t)==="[object Set]",Bm=t=>Bl(t)==="[object Date]",Me=t=>typeof t=="function",Gt=t=>typeof t=="string",Hs=t=>typeof t=="symbol",Tt=t=>t!==null&&typeof t=="object",By=t=>(Tt(t)||Me(t))&&Me(t.then)&&Me(t.catch),qy=Object.prototype.toString,Bl=t=>qy.call(t),oA=t=>Bl(t).slice(8,-1),Hy=t=>Bl(t)==="[object Object]",Mf=t=>Gt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ul=Df(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hu=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},aA=/-(\w)/g,fs=Hu(t=>t.replace(aA,(e,n)=>n?n.toUpperCase():"")),lA=/\B([A-Z])/g,oo=Hu(t=>t.replace(lA,"-$1").toLowerCase()),zu=Hu(t=>t.charAt(0).toUpperCase()+t.slice(1)),td=Hu(t=>t?`on${zu(t)}`:""),ei=(t,e)=>!Object.is(t,e),zc=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},zy=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},uu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let qm;const Wu=()=>qm||(qm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ku(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Gt(s)?dA(s):Ku(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Gt(t)||Tt(t))return t}const cA=/;(?![^(]*\))/g,uA=/:([^]+)/,hA=/\/\*[^]*?\*\//g;function dA(t){const e={};return t.replace(hA,"").split(cA).forEach(n=>{if(n){const s=n.split(uA);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Xt(t){let e="";if(Gt(t))e=t;else if(Ae(t))for(let n=0;n<t.length;n++){const s=Xt(t[n]);s&&(e+=s+" ")}else if(Tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const fA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pA=Df(fA);function Wy(t){return!!t||t===""}function mA(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=ql(t[s],e[s]);return n}function ql(t,e){if(t===e)return!0;let n=Bm(t),s=Bm(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Hs(t),s=Hs(e),n||s)return t===e;if(n=Ae(t),s=Ae(e),n||s)return n&&s?mA(t,e):!1;if(n=Tt(t),s=Tt(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(l&&!u||!l&&u||!ql(t[o],e[o]))return!1}}return String(t)===String(e)}function Ff(t,e){return t.findIndex(n=>ql(n,e))}const Ky=t=>!!(t&&t.__v_isRef===!0),ye=t=>Gt(t)?t:t==null?"":Ae(t)||Tt(t)&&(t.toString===qy||!Me(t.toString))?Ky(t)?ye(t.value):JSON.stringify(t,Gy,2):String(t),Gy=(t,e)=>Ky(e)?Gy(t,e.value):Bo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[nd(s,i)+" =>"]=r,n),{})}:ua(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>nd(n))}:Hs(e)?nd(e):Tt(e)&&!Ae(e)&&!Hy(e)?String(e):e,nd=(t,e="")=>{var n;return Hs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let En;class Qy{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=En,!e&&En&&(this.index=(En.scopes||(En.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=En;try{return En=this,e()}finally{En=n}}}on(){++this._on===1&&(this.prevScope=En,En=this)}off(){this._on>0&&--this._on===0&&(En=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Jy(t){return new Qy(t)}function Yy(){return En}function gA(t,e=!1){En&&En.cleanups.push(t)}let Et;const sd=new WeakSet;class Xy{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,En&&En.active&&En.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sd.has(this)&&(sd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ev(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hm(this),tv(this);const e=Et,n=ys;Et=this,ys=!0;try{return this.fn()}finally{nv(this),Et=e,ys=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)jf(e);this.deps=this.depsTail=void 0,Hm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Md(this)&&this.run()}get dirty(){return Md(this)}}let Zy=0,hl,dl;function ev(t,e=!1){if(t.flags|=8,e){t.next=dl,dl=t;return}t.next=hl,hl=t}function Uf(){Zy++}function $f(){if(--Zy>0)return;if(dl){let e=dl;for(dl=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;hl;){let e=hl;for(hl=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function tv(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function nv(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),jf(s),_A(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Md(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(sv(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function sv(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Rl)||(t.globalVersion=Rl,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Md(t))))return;t.flags|=2;const e=t.dep,n=Et,s=ys;Et=t,ys=!0;try{tv(t);const r=t.fn(t._value);(e.version===0||ei(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Et=n,ys=s,nv(t),t.flags&=-3}}function jf(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)jf(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function _A(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let ys=!0;const rv=[];function fr(){rv.push(ys),ys=!1}function pr(){const t=rv.pop();ys=t===void 0?!0:t}function Hm(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Et;Et=void 0;try{e()}finally{Et=n}}}let Rl=0;class yA{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Bf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Et||!ys||Et===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Et)n=this.activeLink=new yA(Et,this),Et.deps?(n.prevDep=Et.depsTail,Et.depsTail.nextDep=n,Et.depsTail=n):Et.deps=Et.depsTail=n,iv(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Et.depsTail,n.nextDep=void 0,Et.depsTail.nextDep=n,Et.depsTail=n,Et.deps===n&&(Et.deps=s)}return n}trigger(e){this.version++,Rl++,this.notify(e)}notify(e){Uf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{$f()}}}function iv(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)iv(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const hu=new WeakMap,Gi=Symbol(""),Fd=Symbol(""),Cl=Symbol("");function Tn(t,e,n){if(ys&&Et){let s=hu.get(t);s||hu.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Bf),r.map=s,r.key=n),r.track()}}function or(t,e,n,s,r,i){const o=hu.get(t);if(!o){Rl++;return}const l=u=>{u&&u.trigger()};if(Uf(),e==="clear")o.forEach(l);else{const u=Ae(t),h=u&&Mf(n);if(u&&n==="length"){const d=Number(s);o.forEach((m,_)=>{(_==="length"||_===Cl||!Hs(_)&&_>=d)&&l(m)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),h&&l(o.get(Cl)),e){case"add":u?h&&l(o.get("length")):(l(o.get(Gi)),Bo(t)&&l(o.get(Fd)));break;case"delete":u||(l(o.get(Gi)),Bo(t)&&l(o.get(Fd)));break;case"set":Bo(t)&&l(o.get(Gi));break}}$f()}function vA(t,e){const n=hu.get(t);return n&&n.get(e)}function xo(t){const e=st(t);return e===t?e:(Tn(e,"iterate",Cl),cs(t)?e:e.map(gn))}function Gu(t){return Tn(t=st(t),"iterate",Cl),t}const wA={__proto__:null,[Symbol.iterator](){return rd(this,Symbol.iterator,gn)},concat(...t){return xo(this).concat(...t.map(e=>Ae(e)?xo(e):e))},entries(){return rd(this,"entries",t=>(t[1]=gn(t[1]),t))},every(t,e){return sr(this,"every",t,e,void 0,arguments)},filter(t,e){return sr(this,"filter",t,e,n=>n.map(gn),arguments)},find(t,e){return sr(this,"find",t,e,gn,arguments)},findIndex(t,e){return sr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return sr(this,"findLast",t,e,gn,arguments)},findLastIndex(t,e){return sr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return sr(this,"forEach",t,e,void 0,arguments)},includes(...t){return id(this,"includes",t)},indexOf(...t){return id(this,"indexOf",t)},join(t){return xo(this).join(t)},lastIndexOf(...t){return id(this,"lastIndexOf",t)},map(t,e){return sr(this,"map",t,e,void 0,arguments)},pop(){return Za(this,"pop")},push(...t){return Za(this,"push",t)},reduce(t,...e){return zm(this,"reduce",t,e)},reduceRight(t,...e){return zm(this,"reduceRight",t,e)},shift(){return Za(this,"shift")},some(t,e){return sr(this,"some",t,e,void 0,arguments)},splice(...t){return Za(this,"splice",t)},toReversed(){return xo(this).toReversed()},toSorted(t){return xo(this).toSorted(t)},toSpliced(...t){return xo(this).toSpliced(...t)},unshift(...t){return Za(this,"unshift",t)},values(){return rd(this,"values",gn)}};function rd(t,e,n){const s=Gu(t),r=s[e]();return s!==t&&!cs(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const EA=Array.prototype;function sr(t,e,n,s,r,i){const o=Gu(t),l=o!==t&&!cs(t),u=o[e];if(u!==EA[e]){const m=u.apply(t,i);return l?gn(m):m}let h=n;o!==t&&(l?h=function(m,_){return n.call(this,gn(m),_,t)}:n.length>2&&(h=function(m,_){return n.call(this,m,_,t)}));const d=u.call(o,h,s);return l&&r?r(d):d}function zm(t,e,n,s){const r=Gu(t);let i=n;return r!==t&&(cs(t)?n.length>3&&(i=function(o,l,u){return n.call(this,o,l,u,t)}):i=function(o,l,u){return n.call(this,o,gn(l),u,t)}),r[e](i,...s)}function id(t,e,n){const s=st(t);Tn(s,"iterate",Cl);const r=s[e](...n);return(r===-1||r===!1)&&zf(n[0])?(n[0]=st(n[0]),s[e](...n)):r}function Za(t,e,n=[]){fr(),Uf();const s=st(t)[e].apply(t,n);return $f(),pr(),s}const bA=Df("__proto__,__v_isRef,__isVue"),ov=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hs));function TA(t){Hs(t)||(t=String(t));const e=st(this);return Tn(e,"has",t),e.hasOwnProperty(t)}class av{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?NA:hv:i?uv:cv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Ae(e);if(!r){let u;if(o&&(u=wA[n]))return u;if(n==="hasOwnProperty")return TA}const l=Reflect.get(e,n,$t(e)?e:s);return(Hs(n)?ov.has(n):bA(n))||(r||Tn(e,"get",n),i)?l:$t(l)?o&&Mf(n)?l:l.value:Tt(l)?r?fv(l):ao(l):l}}class lv extends av{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const u=oi(i);if(!cs(s)&&!oi(s)&&(i=st(i),s=st(s)),!Ae(e)&&$t(i)&&!$t(s))return u||(i.value=s),!0}const o=Ae(e)&&Mf(n)?Number(n)<e.length:lt(e,n),l=Reflect.set(e,n,s,$t(e)?e:r);return e===st(r)&&(o?ei(s,i)&&or(e,"set",n,s):or(e,"add",n,s)),l}deleteProperty(e,n){const s=lt(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&or(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Hs(n)||!ov.has(n))&&Tn(e,"has",n),s}ownKeys(e){return Tn(e,"iterate",Ae(e)?"length":Gi),Reflect.ownKeys(e)}}class IA extends av{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const AA=new lv,SA=new IA,RA=new lv(!0);const Ud=t=>t,Dc=t=>Reflect.getPrototypeOf(t);function CA(t,e,n){return function(...s){const r=this.__v_raw,i=st(r),o=Bo(i),l=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,h=r[t](...s),d=n?Ud:e?du:gn;return!e&&Tn(i,"iterate",u?Fd:Gi),{next(){const{value:m,done:_}=h.next();return _?{value:m,done:_}:{value:l?[d(m[0]),d(m[1])]:d(m),done:_}},[Symbol.iterator](){return this}}}}function Vc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function PA(t,e){const n={get(r){const i=this.__v_raw,o=st(i),l=st(r);t||(ei(r,l)&&Tn(o,"get",r),Tn(o,"get",l));const{has:u}=Dc(o),h=e?Ud:t?du:gn;if(u.call(o,r))return h(i.get(r));if(u.call(o,l))return h(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Tn(st(r),"iterate",Gi),r.size},has(r){const i=this.__v_raw,o=st(i),l=st(r);return t||(ei(r,l)&&Tn(o,"has",r),Tn(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,u=st(l),h=e?Ud:t?du:gn;return!t&&Tn(u,"iterate",Gi),l.forEach((d,m)=>r.call(i,h(d),h(m),o))}};return Cn(n,t?{add:Vc("add"),set:Vc("set"),delete:Vc("delete"),clear:Vc("clear")}:{add(r){!e&&!cs(r)&&!oi(r)&&(r=st(r));const i=st(this);return Dc(i).has.call(i,r)||(i.add(r),or(i,"add",r,r)),this},set(r,i){!e&&!cs(i)&&!oi(i)&&(i=st(i));const o=st(this),{has:l,get:u}=Dc(o);let h=l.call(o,r);h||(r=st(r),h=l.call(o,r));const d=u.call(o,r);return o.set(r,i),h?ei(i,d)&&or(o,"set",r,i):or(o,"add",r,i),this},delete(r){const i=st(this),{has:o,get:l}=Dc(i);let u=o.call(i,r);u||(r=st(r),u=o.call(i,r)),l&&l.call(i,r);const h=i.delete(r);return u&&or(i,"delete",r,void 0),h},clear(){const r=st(this),i=r.size!==0,o=r.clear();return i&&or(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=CA(r,t,e)}),n}function qf(t,e){const n=PA(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(lt(n,r)&&r in s?n:s,r,i)}const kA={get:qf(!1,!1)},OA={get:qf(!1,!0)},xA={get:qf(!0,!1)};const cv=new WeakMap,uv=new WeakMap,hv=new WeakMap,NA=new WeakMap;function DA(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function VA(t){return t.__v_skip||!Object.isExtensible(t)?0:DA(oA(t))}function ao(t){return oi(t)?t:Hf(t,!1,AA,kA,cv)}function dv(t){return Hf(t,!1,RA,OA,uv)}function fv(t){return Hf(t,!0,SA,xA,hv)}function Hf(t,e,n,s,r){if(!Tt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=VA(t);if(i===0)return t;const o=r.get(t);if(o)return o;const l=new Proxy(t,i===2?s:n);return r.set(t,l),l}function ti(t){return oi(t)?ti(t.__v_raw):!!(t&&t.__v_isReactive)}function oi(t){return!!(t&&t.__v_isReadonly)}function cs(t){return!!(t&&t.__v_isShallow)}function zf(t){return t?!!t.__v_raw:!1}function st(t){const e=t&&t.__v_raw;return e?st(e):t}function Wf(t){return!lt(t,"__v_skip")&&Object.isExtensible(t)&&zy(t,"__v_skip",!0),t}const gn=t=>Tt(t)?ao(t):t,du=t=>Tt(t)?fv(t):t;function $t(t){return t?t.__v_isRef===!0:!1}function qe(t){return pv(t,!1)}function LA(t){return pv(t,!0)}function pv(t,e){return $t(t)?t:new MA(t,e)}class MA{constructor(e,n){this.dep=new Bf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:st(e),this._value=n?e:gn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||cs(e)||oi(e);e=s?e:st(e),ei(e,n)&&(this._rawValue=e,this._value=s?e:gn(e),this.dep.trigger())}}function qo(t){return $t(t)?t.value:t}const FA={get:(t,e,n)=>e==="__v_raw"?t:qo(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return $t(r)&&!$t(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function mv(t){return ti(t)?t:new Proxy(t,FA)}function UA(t){const e=Ae(t)?new Array(t.length):{};for(const n in t)e[n]=jA(t,n);return e}class $A{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return vA(st(this._object),this._key)}}function jA(t,e,n){const s=t[e];return $t(s)?s:new $A(t,e,n)}class BA{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Bf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Rl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Et!==this)return ev(this,!0),!0}get value(){const e=this.dep.track();return sv(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function qA(t,e,n=!1){let s,r;return Me(t)?s=t:(s=t.get,r=t.set),new BA(s,r,n)}const Lc={},fu=new WeakMap;let qi;function HA(t,e=!1,n=qi){if(n){let s=fu.get(n);s||fu.set(n,s=[]),s.push(t)}}function zA(t,e,n=vt){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:l,call:u}=n,h=L=>r?L:cs(L)||r===!1||r===0?ar(L,1):ar(L);let d,m,_,v,T=!1,b=!1;if($t(t)?(m=()=>t.value,T=cs(t)):ti(t)?(m=()=>h(t),T=!0):Ae(t)?(b=!0,T=t.some(L=>ti(L)||cs(L)),m=()=>t.map(L=>{if($t(L))return L.value;if(ti(L))return h(L);if(Me(L))return u?u(L,2):L()})):Me(t)?e?m=u?()=>u(t,2):t:m=()=>{if(_){fr();try{_()}finally{pr()}}const L=qi;qi=d;try{return u?u(t,3,[v]):t(v)}finally{qi=L}}:m=Ms,e&&r){const L=m,Y=r===!0?1/0:r;m=()=>ar(L(),Y)}const A=Yy(),x=()=>{d.stop(),A&&A.active&&Lf(A.effects,d)};if(i&&e){const L=e;e=(...Y)=>{L(...Y),x()}}let $=b?new Array(t.length).fill(Lc):Lc;const B=L=>{if(!(!(d.flags&1)||!d.dirty&&!L))if(e){const Y=d.run();if(r||T||(b?Y.some((Se,O)=>ei(Se,$[O])):ei(Y,$))){_&&_();const Se=qi;qi=d;try{const O=[Y,$===Lc?void 0:b&&$[0]===Lc?[]:$,v];$=Y,u?u(e,3,O):e(...O)}finally{qi=Se}}}else d.run()};return l&&l(B),d=new Xy(m),d.scheduler=o?()=>o(B,!1):B,v=L=>HA(L,!1,d),_=d.onStop=()=>{const L=fu.get(d);if(L){if(u)u(L,4);else for(const Y of L)Y();fu.delete(d)}},e?s?B(!0):$=d.run():o?o(B.bind(null,!0),!0):d.run(),x.pause=d.pause.bind(d),x.resume=d.resume.bind(d),x.stop=x,x}function ar(t,e=1/0,n){if(e<=0||!Tt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,$t(t))ar(t.value,e,n);else if(Ae(t))for(let s=0;s<t.length;s++)ar(t[s],e,n);else if(ua(t)||Bo(t))t.forEach(s=>{ar(s,e,n)});else if(Hy(t)){for(const s in t)ar(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&ar(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Hl(t,e,n,s){try{return s?t(...s):t()}catch(r){Qu(r,e,n)}}function zs(t,e,n,s){if(Me(t)){const r=Hl(t,e,n,s);return r&&By(r)&&r.catch(i=>{Qu(i,e,n)}),r}if(Ae(t)){const r=[];for(let i=0;i<t.length;i++)r.push(zs(t[i],e,n,s));return r}}function Qu(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||vt;if(e){let l=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](t,u,h)===!1)return}l=l.parent}if(i){fr(),Hl(i,null,10,[t,u,h]),pr();return}}WA(t,n,r,s,o)}function WA(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Vn=[];let Ds=-1;const Ho=[];let zr=null,Do=0;const gv=Promise.resolve();let pu=null;function Ju(t){const e=pu||gv;return t?e.then(this?t.bind(this):t):e}function KA(t){let e=Ds+1,n=Vn.length;for(;e<n;){const s=e+n>>>1,r=Vn[s],i=Pl(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Kf(t){if(!(t.flags&1)){const e=Pl(t),n=Vn[Vn.length-1];!n||!(t.flags&2)&&e>=Pl(n)?Vn.push(t):Vn.splice(KA(e),0,t),t.flags|=1,_v()}}function _v(){pu||(pu=gv.then(vv))}function GA(t){Ae(t)?Ho.push(...t):zr&&t.id===-1?zr.splice(Do+1,0,t):t.flags&1||(Ho.push(t),t.flags|=1),_v()}function Wm(t,e,n=Ds+1){for(;n<Vn.length;n++){const s=Vn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Vn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function yv(t){if(Ho.length){const e=[...new Set(Ho)].sort((n,s)=>Pl(n)-Pl(s));if(Ho.length=0,zr){zr.push(...e);return}for(zr=e,Do=0;Do<zr.length;Do++){const n=zr[Do];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}zr=null,Do=0}}const Pl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vv(t){try{for(Ds=0;Ds<Vn.length;Ds++){const e=Vn[Ds];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Hl(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ds<Vn.length;Ds++){const e=Vn[Ds];e&&(e.flags&=-2)}Ds=-1,Vn.length=0,yv(),pu=null,(Vn.length||Ho.length)&&vv()}}let Kn=null,wv=null;function mu(t){const e=Kn;return Kn=t,wv=t&&t.type.__scopeId||null,e}function an(t,e=Kn,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&ng(-1);const i=mu(e);let o;try{o=t(...r)}finally{mu(i),s._d&&ng(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function gt(t,e){if(Kn===null)return t;const n=eh(Kn),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,l,u=vt]=e[r];i&&(Me(i)&&(i={mounted:i,updated:i}),i.deep&&ar(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function ji(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let u=l.dir[s];u&&(fr(),zs(u,n,8,[t.el,l,t,e]),pr())}}const QA=Symbol("_vte"),JA=t=>t.__isTeleport,YA=Symbol("_leaveCb");function Gf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Gf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ev(t,e){return Me(t)?Cn({name:t.name},e,{setup:t}):t}function bv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function fl(t,e,n,s,r=!1){if(Ae(t)){t.forEach((T,b)=>fl(T,e&&(Ae(e)?e[b]:e),n,s,r));return}if(pl(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&fl(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?eh(s.component):s.el,o=r?null:i,{i:l,r:u}=t,h=e&&e.r,d=l.refs===vt?l.refs={}:l.refs,m=l.setupState,_=st(m),v=m===vt?jy:T=>lt(_,T);if(h!=null&&h!==u){if(Gt(h))d[h]=null,v(h)&&(m[h]=null);else if($t(h)){h.value=null;const T=e;T.k&&(d[T.k]=null)}}if(Me(u))Hl(u,l,12,[o,d]);else{const T=Gt(u),b=$t(u);if(T||b){const A=()=>{if(t.f){const x=T?v(u)?m[u]:d[u]:u.value;if(r)Ae(x)&&Lf(x,i);else if(Ae(x))x.includes(i)||x.push(i);else if(T)d[u]=[i],v(u)&&(m[u]=d[u]);else{const $=[i];u.value=$,t.k&&(d[t.k]=$)}}else T?(d[u]=o,v(u)&&(m[u]=o)):b&&(u.value=o,t.k&&(d[t.k]=o))};o?(A.id=-1,zn(A,n)):A()}}}Wu().requestIdleCallback;Wu().cancelIdleCallback;const pl=t=>!!t.type.__asyncLoader,Tv=t=>t.type.__isKeepAlive;function XA(t,e){Iv(t,"a",e)}function ZA(t,e){Iv(t,"da",e)}function Iv(t,e,n=An){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Yu(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Tv(r.parent.vnode)&&eS(s,e,n,r),r=r.parent}}function eS(t,e,n,s){const r=Yu(e,t,s,!0);Av(()=>{Lf(s[e],r)},n)}function Yu(t,e,n=An,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{fr();const l=Wl(n),u=zs(e,n,t,o);return l(),pr(),u});return s?r.unshift(i):r.push(i),i}}const wr=t=>(e,n=An)=>{(!Ol||t==="sp")&&Yu(t,(...s)=>e(...s),n)},tS=wr("bm"),ai=wr("m"),nS=wr("bu"),sS=wr("u"),rS=wr("bum"),Av=wr("um"),iS=wr("sp"),oS=wr("rtg"),aS=wr("rtc");function lS(t,e=An){Yu("ec",t,e)}const cS="components";function zl(t,e){return hS(cS,t,!0,e)||t}const uS=Symbol.for("v-ndc");function hS(t,e,n=!0,s=!1){const r=Kn||An;if(r){const i=r.type;{const l=ZS(i,!1);if(l&&(l===e||l===fs(e)||l===zu(fs(e))))return i}const o=Km(r[t]||i[t],e)||Km(r.appContext[t],e);return!o&&s?i:o}}function Km(t,e){return t&&(t[e]||t[fs(e)]||t[zu(fs(e))])}function Xi(t,e,n,s){let r;const i=n,o=Ae(t);if(o||Gt(t)){const l=o&&ti(t);let u=!1,h=!1;l&&(u=!cs(t),h=oi(t),t=Gu(t)),r=new Array(t.length);for(let d=0,m=t.length;d<m;d++)r[d]=e(u?h?du(gn(t[d])):gn(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,i)}else if(Tt(t))if(t[Symbol.iterator])r=Array.from(t,(l,u)=>e(l,u,void 0,i));else{const l=Object.keys(t);r=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const d=l[u];r[u]=e(t[d],d,u,i)}}else r=[];return r}const $d=t=>t?Wv(t)?eh(t):$d(t.parent):null,ml=Cn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$d(t.parent),$root:t=>$d(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Rv(t),$forceUpdate:t=>t.f||(t.f=()=>{Kf(t.update)}),$nextTick:t=>t.n||(t.n=Ju.bind(t.proxy)),$watch:t=>NS.bind(t)}),od=(t,e)=>t!==vt&&!t.__isScriptSetup&&lt(t,e),dS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:l,appContext:u}=t;let h;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(od(s,e))return o[e]=1,s[e];if(r!==vt&&lt(r,e))return o[e]=2,r[e];if((h=t.propsOptions[0])&&lt(h,e))return o[e]=3,i[e];if(n!==vt&&lt(n,e))return o[e]=4,n[e];jd&&(o[e]=0)}}const d=ml[e];let m,_;if(d)return e==="$attrs"&&Tn(t.attrs,"get",""),d(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==vt&&lt(n,e))return o[e]=4,n[e];if(_=u.config.globalProperties,lt(_,e))return _[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return od(r,e)?(r[e]=n,!0):s!==vt&&lt(s,e)?(s[e]=n,!0):lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i,type:o}},l){let u,h;return!!(n[l]||t!==vt&&l[0]!=="$"&&lt(t,l)||od(e,l)||(u=i[0])&&lt(u,l)||lt(s,l)||lt(ml,l)||lt(r.config.globalProperties,l)||(h=o.__cssModules)&&h[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:lt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Gm(t){return Ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let jd=!0;function fS(t){const e=Rv(t),n=t.proxy,s=t.ctx;jd=!1,e.beforeCreate&&Qm(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:l,provide:u,inject:h,created:d,beforeMount:m,mounted:_,beforeUpdate:v,updated:T,activated:b,deactivated:A,beforeDestroy:x,beforeUnmount:$,destroyed:B,unmounted:L,render:Y,renderTracked:Se,renderTriggered:O,errorCaptured:I,serverPrefetch:S,expose:N,inheritAttrs:D,components:M,directives:P,filters:ft}=e;if(h&&pS(h,s,null),o)for(const Te in o){const Re=o[Te];Me(Re)&&(s[Te]=Re.bind(n))}if(r){const Te=r.call(n,n);Tt(Te)&&(t.data=ao(Te))}if(jd=!0,i)for(const Te in i){const Re=i[Te],en=Me(Re)?Re.bind(n,n):Me(Re.get)?Re.get.bind(n,n):Ms,vn=!Me(Re)&&Me(Re.set)?Re.set.bind(n):Ms,G=Ze({get:en,set:vn});Object.defineProperty(s,Te,{enumerable:!0,configurable:!0,get:()=>G.value,set:et=>G.value=et})}if(l)for(const Te in l)Sv(l[Te],s,n,Te);if(u){const Te=Me(u)?u.call(n):u;Reflect.ownKeys(Te).forEach(Re=>{Wc(Re,Te[Re])})}d&&Qm(d,t,"c");function je(Te,Re){Ae(Re)?Re.forEach(en=>Te(en.bind(n))):Re&&Te(Re.bind(n))}if(je(tS,m),je(ai,_),je(nS,v),je(sS,T),je(XA,b),je(ZA,A),je(lS,I),je(aS,Se),je(oS,O),je(rS,$),je(Av,L),je(iS,S),Ae(N))if(N.length){const Te=t.exposed||(t.exposed={});N.forEach(Re=>{Object.defineProperty(Te,Re,{get:()=>n[Re],set:en=>n[Re]=en,enumerable:!0})})}else t.exposed||(t.exposed={});Y&&t.render===Ms&&(t.render=Y),D!=null&&(t.inheritAttrs=D),M&&(t.components=M),P&&(t.directives=P),S&&bv(t)}function pS(t,e,n=Ms){Ae(t)&&(t=Bd(t));for(const s in t){const r=t[s];let i;Tt(r)?"default"in r?i=us(r.from||s,r.default,!0):i=us(r.from||s):i=us(r),$t(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Qm(t,e,n){zs(Ae(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Sv(t,e,n,s){let r=s.includes(".")?$v(n,s):()=>n[s];if(Gt(t)){const i=e[t];Me(i)&&zo(r,i)}else if(Me(t))zo(r,t.bind(n));else if(Tt(t))if(Ae(t))t.forEach(i=>Sv(i,e,n,s));else{const i=Me(t.handler)?t.handler.bind(n):e[t.handler];Me(i)&&zo(r,i,t)}}function Rv(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let u;return l?u=l:!r.length&&!n&&!s?u=e:(u={},r.length&&r.forEach(h=>gu(u,h,o,!0)),gu(u,e,o)),Tt(e)&&i.set(e,u),u}function gu(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&gu(t,i,n,!0),r&&r.forEach(o=>gu(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=mS[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const mS={data:Jm,props:Ym,emits:Ym,methods:sl,computed:sl,beforeCreate:Dn,created:Dn,beforeMount:Dn,mounted:Dn,beforeUpdate:Dn,updated:Dn,beforeDestroy:Dn,beforeUnmount:Dn,destroyed:Dn,unmounted:Dn,activated:Dn,deactivated:Dn,errorCaptured:Dn,serverPrefetch:Dn,components:sl,directives:sl,watch:_S,provide:Jm,inject:gS};function Jm(t,e){return e?t?function(){return Cn(Me(t)?t.call(this,this):t,Me(e)?e.call(this,this):e)}:e:t}function gS(t,e){return sl(Bd(t),Bd(e))}function Bd(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Dn(t,e){return t?[...new Set([].concat(t,e))]:e}function sl(t,e){return t?Cn(Object.create(null),t,e):e}function Ym(t,e){return t?Ae(t)&&Ae(e)?[...new Set([...t,...e])]:Cn(Object.create(null),Gm(t),Gm(e??{})):e}function _S(t,e){if(!t)return e;if(!e)return t;const n=Cn(Object.create(null),t);for(const s in e)n[s]=Dn(t[s],e[s]);return n}function Cv(){return{app:null,config:{isNativeTag:jy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yS=0;function vS(t,e){return function(s,r=null){Me(s)||(s=Cn({},s)),r!=null&&!Tt(r)&&(r=null);const i=Cv(),o=new WeakSet,l=[];let u=!1;const h=i.app={_uid:yS++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:t0,get config(){return i.config},set config(d){},use(d,...m){return o.has(d)||(d&&Me(d.install)?(o.add(d),d.install(h,...m)):Me(d)&&(o.add(d),d(h,...m))),h},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),h},component(d,m){return m?(i.components[d]=m,h):i.components[d]},directive(d,m){return m?(i.directives[d]=m,h):i.directives[d]},mount(d,m,_){if(!u){const v=h._ceVNode||Fe(s,r);return v.appContext=i,_===!0?_="svg":_===!1&&(_=void 0),t(v,d,_),u=!0,h._container=d,d.__vue_app__=h,eh(v.component)}},onUnmount(d){l.push(d)},unmount(){u&&(zs(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(d,m){return i.provides[d]=m,h},runWithContext(d){const m=Qi;Qi=h;try{return d()}finally{Qi=m}}};return h}}let Qi=null;function Wc(t,e){if(An){let n=An.provides;const s=An.parent&&An.parent.provides;s===n&&(n=An.provides=Object.create(s)),n[t]=e}}function us(t,e,n=!1){const s=zv();if(s||Qi){let r=Qi?Qi._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Me(e)?e.call(s&&s.proxy):e}}function wS(){return!!(zv()||Qi)}const Pv={},kv=()=>Object.create(Pv),Ov=t=>Object.getPrototypeOf(t)===Pv;function ES(t,e,n,s=!1){const r={},i=kv();t.propsDefaults=Object.create(null),xv(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:dv(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function bS(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,l=st(r),[u]=t.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let m=0;m<d.length;m++){let _=d[m];if(Xu(t.emitsOptions,_))continue;const v=e[_];if(u)if(lt(i,_))v!==i[_]&&(i[_]=v,h=!0);else{const T=fs(_);r[T]=qd(u,l,T,v,t,!1)}else v!==i[_]&&(i[_]=v,h=!0)}}}else{xv(t,e,r,i)&&(h=!0);let d;for(const m in l)(!e||!lt(e,m)&&((d=oo(m))===m||!lt(e,d)))&&(u?n&&(n[m]!==void 0||n[d]!==void 0)&&(r[m]=qd(u,l,m,void 0,t,!0)):delete r[m]);if(i!==l)for(const m in i)(!e||!lt(e,m))&&(delete i[m],h=!0)}h&&or(t.attrs,"set","")}function xv(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,l;if(e)for(let u in e){if(ul(u))continue;const h=e[u];let d;r&&lt(r,d=fs(u))?!i||!i.includes(d)?n[d]=h:(l||(l={}))[d]=h:Xu(t.emitsOptions,u)||(!(u in s)||h!==s[u])&&(s[u]=h,o=!0)}if(i){const u=st(n),h=l||vt;for(let d=0;d<i.length;d++){const m=i[d];n[m]=qd(r,u,m,h[m],t,!lt(h,m))}}return o}function qd(t,e,n,s,r,i){const o=t[n];if(o!=null){const l=lt(o,"default");if(l&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Me(u)){const{propsDefaults:h}=r;if(n in h)s=h[n];else{const d=Wl(r);s=h[n]=u.call(null,e),d()}}else s=u;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!l?s=!1:o[1]&&(s===""||s===oo(n))&&(s=!0))}return s}const TS=new WeakMap;function Nv(t,e,n=!1){const s=n?TS:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},l=[];let u=!1;if(!Me(t)){const d=m=>{u=!0;const[_,v]=Nv(m,e,!0);Cn(o,_),v&&l.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!u)return Tt(t)&&s.set(t,jo),jo;if(Ae(i))for(let d=0;d<i.length;d++){const m=fs(i[d]);Xm(m)&&(o[m]=vt)}else if(i)for(const d in i){const m=fs(d);if(Xm(m)){const _=i[d],v=o[m]=Ae(_)||Me(_)?{type:_}:Cn({},_),T=v.type;let b=!1,A=!0;if(Ae(T))for(let x=0;x<T.length;++x){const $=T[x],B=Me($)&&$.name;if(B==="Boolean"){b=!0;break}else B==="String"&&(A=!1)}else b=Me(T)&&T.name==="Boolean";v[0]=b,v[1]=A,(b||lt(v,"default"))&&l.push(m)}}const h=[o,l];return Tt(t)&&s.set(t,h),h}function Xm(t){return t[0]!=="$"&&!ul(t)}const Qf=t=>t==="_"||t==="_ctx"||t==="$stable",Jf=t=>Ae(t)?t.map(Ls):[Ls(t)],IS=(t,e,n)=>{if(e._n)return e;const s=an((...r)=>Jf(e(...r)),n);return s._c=!1,s},Dv=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Qf(r))continue;const i=t[r];if(Me(i))e[r]=IS(r,i,s);else if(i!=null){const o=Jf(i);e[r]=()=>o}}},Vv=(t,e)=>{const n=Jf(e);t.slots.default=()=>n},Lv=(t,e,n)=>{for(const s in e)(n||!Qf(s))&&(t[s]=e[s])},AS=(t,e,n)=>{const s=t.slots=kv();if(t.vnode.shapeFlag&32){const r=e._;r?(Lv(s,e,n),n&&zy(s,"_",r,!0)):Dv(e,s)}else e&&Vv(t,e)},SS=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=vt;if(s.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:Lv(r,e,n):(i=!e.$stable,Dv(e,r)),o=e}else e&&(Vv(t,e),o={default:1});if(i)for(const l in r)!Qf(l)&&o[l]==null&&delete r[l]},zn=$S;function RS(t){return CS(t)}function CS(t,e){const n=Wu();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:l,createComment:u,setText:h,setElementText:d,parentNode:m,nextSibling:_,setScopeId:v=Ms,insertStaticContent:T}=t,b=(C,k,U,J=null,Z=null,Q=null,ce=void 0,oe=null,ie=!!k.dynamicChildren)=>{if(C===k)return;C&&!el(C,k)&&(J=W(C),et(C,Z,Q,!0),C=null),k.patchFlag===-2&&(ie=!1,k.dynamicChildren=null);const{type:ne,ref:be,shapeFlag:ue}=k;switch(ne){case Zu:A(C,k,U,J);break;case li:x(C,k,U,J);break;case ld:C==null&&$(k,U,J,ce);break;case Dt:M(C,k,U,J,Z,Q,ce,oe,ie);break;default:ue&1?Y(C,k,U,J,Z,Q,ce,oe,ie):ue&6?P(C,k,U,J,Z,Q,ce,oe,ie):(ue&64||ue&128)&&ne.process(C,k,U,J,Z,Q,ce,oe,ie,me)}be!=null&&Z?fl(be,C&&C.ref,Q,k||C,!k):be==null&&C&&C.ref!=null&&fl(C.ref,null,Q,C,!0)},A=(C,k,U,J)=>{if(C==null)s(k.el=l(k.children),U,J);else{const Z=k.el=C.el;k.children!==C.children&&h(Z,k.children)}},x=(C,k,U,J)=>{C==null?s(k.el=u(k.children||""),U,J):k.el=C.el},$=(C,k,U,J)=>{[C.el,C.anchor]=T(C.children,k,U,J,C.el,C.anchor)},B=({el:C,anchor:k},U,J)=>{let Z;for(;C&&C!==k;)Z=_(C),s(C,U,J),C=Z;s(k,U,J)},L=({el:C,anchor:k})=>{let U;for(;C&&C!==k;)U=_(C),r(C),C=U;r(k)},Y=(C,k,U,J,Z,Q,ce,oe,ie)=>{k.type==="svg"?ce="svg":k.type==="math"&&(ce="mathml"),C==null?Se(k,U,J,Z,Q,ce,oe,ie):S(C,k,Z,Q,ce,oe,ie)},Se=(C,k,U,J,Z,Q,ce,oe)=>{let ie,ne;const{props:be,shapeFlag:ue,transition:we,dirs:Ie}=C;if(ie=C.el=o(C.type,Q,be&&be.is,be),ue&8?d(ie,C.children):ue&16&&I(C.children,ie,null,J,Z,ad(C,Q),ce,oe),Ie&&ji(C,null,J,"created"),O(ie,C,C.scopeId,ce,J),be){for(const xe in be)xe!=="value"&&!ul(xe)&&i(ie,xe,null,be[xe],Q,J);"value"in be&&i(ie,"value",null,be.value,Q),(ne=be.onVnodeBeforeMount)&&xs(ne,J,C)}Ie&&ji(C,null,J,"beforeMount");const ve=PS(Z,we);ve&&we.beforeEnter(ie),s(ie,k,U),((ne=be&&be.onVnodeMounted)||ve||Ie)&&zn(()=>{ne&&xs(ne,J,C),ve&&we.enter(ie),Ie&&ji(C,null,J,"mounted")},Z)},O=(C,k,U,J,Z)=>{if(U&&v(C,U),J)for(let Q=0;Q<J.length;Q++)v(C,J[Q]);if(Z){let Q=Z.subTree;if(k===Q||Bv(Q.type)&&(Q.ssContent===k||Q.ssFallback===k)){const ce=Z.vnode;O(C,ce,ce.scopeId,ce.slotScopeIds,Z.parent)}}},I=(C,k,U,J,Z,Q,ce,oe,ie=0)=>{for(let ne=ie;ne<C.length;ne++){const be=C[ne]=oe?Wr(C[ne]):Ls(C[ne]);b(null,be,k,U,J,Z,Q,ce,oe)}},S=(C,k,U,J,Z,Q,ce)=>{const oe=k.el=C.el;let{patchFlag:ie,dynamicChildren:ne,dirs:be}=k;ie|=C.patchFlag&16;const ue=C.props||vt,we=k.props||vt;let Ie;if(U&&Bi(U,!1),(Ie=we.onVnodeBeforeUpdate)&&xs(Ie,U,k,C),be&&ji(k,C,U,"beforeUpdate"),U&&Bi(U,!0),(ue.innerHTML&&we.innerHTML==null||ue.textContent&&we.textContent==null)&&d(oe,""),ne?N(C.dynamicChildren,ne,oe,U,J,ad(k,Z),Q):ce||Re(C,k,oe,null,U,J,ad(k,Z),Q,!1),ie>0){if(ie&16)D(oe,ue,we,U,Z);else if(ie&2&&ue.class!==we.class&&i(oe,"class",null,we.class,Z),ie&4&&i(oe,"style",ue.style,we.style,Z),ie&8){const ve=k.dynamicProps;for(let xe=0;xe<ve.length;xe++){const We=ve[xe],Qt=ue[We],Ct=we[We];(Ct!==Qt||We==="value")&&i(oe,We,Qt,Ct,Z,U)}}ie&1&&C.children!==k.children&&d(oe,k.children)}else!ce&&ne==null&&D(oe,ue,we,U,Z);((Ie=we.onVnodeUpdated)||be)&&zn(()=>{Ie&&xs(Ie,U,k,C),be&&ji(k,C,U,"updated")},J)},N=(C,k,U,J,Z,Q,ce)=>{for(let oe=0;oe<k.length;oe++){const ie=C[oe],ne=k[oe],be=ie.el&&(ie.type===Dt||!el(ie,ne)||ie.shapeFlag&198)?m(ie.el):U;b(ie,ne,be,null,J,Z,Q,ce,!0)}},D=(C,k,U,J,Z)=>{if(k!==U){if(k!==vt)for(const Q in k)!ul(Q)&&!(Q in U)&&i(C,Q,k[Q],null,Z,J);for(const Q in U){if(ul(Q))continue;const ce=U[Q],oe=k[Q];ce!==oe&&Q!=="value"&&i(C,Q,oe,ce,Z,J)}"value"in U&&i(C,"value",k.value,U.value,Z)}},M=(C,k,U,J,Z,Q,ce,oe,ie)=>{const ne=k.el=C?C.el:l(""),be=k.anchor=C?C.anchor:l("");let{patchFlag:ue,dynamicChildren:we,slotScopeIds:Ie}=k;Ie&&(oe=oe?oe.concat(Ie):Ie),C==null?(s(ne,U,J),s(be,U,J),I(k.children||[],U,be,Z,Q,ce,oe,ie)):ue>0&&ue&64&&we&&C.dynamicChildren?(N(C.dynamicChildren,we,U,Z,Q,ce,oe),(k.key!=null||Z&&k===Z.subTree)&&Mv(C,k,!0)):Re(C,k,U,be,Z,Q,ce,oe,ie)},P=(C,k,U,J,Z,Q,ce,oe,ie)=>{k.slotScopeIds=oe,C==null?k.shapeFlag&512?Z.ctx.activate(k,U,J,ce,ie):ft(k,U,J,Z,Q,ce,ie):qt(C,k,ie)},ft=(C,k,U,J,Z,Q,ce)=>{const oe=C.component=GS(C,J,Z);if(Tv(C)&&(oe.ctx.renderer=me),QS(oe,!1,ce),oe.asyncDep){if(Z&&Z.registerDep(oe,je,ce),!C.el){const ie=oe.subTree=Fe(li);x(null,ie,k,U),C.placeholder=ie.el}}else je(oe,C,k,U,Z,Q,ce)},qt=(C,k,U)=>{const J=k.component=C.component;if(FS(C,k,U))if(J.asyncDep&&!J.asyncResolved){Te(J,k,U);return}else J.next=k,J.update();else k.el=C.el,J.vnode=k},je=(C,k,U,J,Z,Q,ce)=>{const oe=()=>{if(C.isMounted){let{next:ue,bu:we,u:Ie,parent:ve,vnode:xe}=C;{const Pt=Fv(C);if(Pt){ue&&(ue.el=xe.el,Te(C,ue,ce)),Pt.asyncDep.then(()=>{C.isUnmounted||oe()});return}}let We=ue,Qt;Bi(C,!1),ue?(ue.el=xe.el,Te(C,ue,ce)):ue=xe,we&&zc(we),(Qt=ue.props&&ue.props.onVnodeBeforeUpdate)&&xs(Qt,ve,ue,xe),Bi(C,!0);const Ct=eg(C),Jt=C.subTree;C.subTree=Ct,b(Jt,Ct,m(Jt.el),W(Jt),C,Z,Q),ue.el=Ct.el,We===null&&US(C,Ct.el),Ie&&zn(Ie,Z),(Qt=ue.props&&ue.props.onVnodeUpdated)&&zn(()=>xs(Qt,ve,ue,xe),Z)}else{let ue;const{el:we,props:Ie}=k,{bm:ve,m:xe,parent:We,root:Qt,type:Ct}=C,Jt=pl(k);Bi(C,!1),ve&&zc(ve),!Jt&&(ue=Ie&&Ie.onVnodeBeforeMount)&&xs(ue,We,k),Bi(C,!0);{Qt.ce&&Qt.ce._def.shadowRoot!==!1&&Qt.ce._injectChildStyle(Ct);const Pt=C.subTree=eg(C);b(null,Pt,U,J,C,Z,Q),k.el=Pt.el}if(xe&&zn(xe,Z),!Jt&&(ue=Ie&&Ie.onVnodeMounted)){const Pt=k;zn(()=>xs(ue,We,Pt),Z)}(k.shapeFlag&256||We&&pl(We.vnode)&&We.vnode.shapeFlag&256)&&C.a&&zn(C.a,Z),C.isMounted=!0,k=U=J=null}};C.scope.on();const ie=C.effect=new Xy(oe);C.scope.off();const ne=C.update=ie.run.bind(ie),be=C.job=ie.runIfDirty.bind(ie);be.i=C,be.id=C.uid,ie.scheduler=()=>Kf(be),Bi(C,!0),ne()},Te=(C,k,U)=>{k.component=C;const J=C.vnode.props;C.vnode=k,C.next=null,bS(C,k.props,J,U),SS(C,k.children,U),fr(),Wm(C),pr()},Re=(C,k,U,J,Z,Q,ce,oe,ie=!1)=>{const ne=C&&C.children,be=C?C.shapeFlag:0,ue=k.children,{patchFlag:we,shapeFlag:Ie}=k;if(we>0){if(we&128){vn(ne,ue,U,J,Z,Q,ce,oe,ie);return}else if(we&256){en(ne,ue,U,J,Z,Q,ce,oe,ie);return}}Ie&8?(be&16&&Ht(ne,Z,Q),ue!==ne&&d(U,ue)):be&16?Ie&16?vn(ne,ue,U,J,Z,Q,ce,oe,ie):Ht(ne,Z,Q,!0):(be&8&&d(U,""),Ie&16&&I(ue,U,J,Z,Q,ce,oe,ie))},en=(C,k,U,J,Z,Q,ce,oe,ie)=>{C=C||jo,k=k||jo;const ne=C.length,be=k.length,ue=Math.min(ne,be);let we;for(we=0;we<ue;we++){const Ie=k[we]=ie?Wr(k[we]):Ls(k[we]);b(C[we],Ie,U,null,Z,Q,ce,oe,ie)}ne>be?Ht(C,Z,Q,!0,!1,ue):I(k,U,J,Z,Q,ce,oe,ie,ue)},vn=(C,k,U,J,Z,Q,ce,oe,ie)=>{let ne=0;const be=k.length;let ue=C.length-1,we=be-1;for(;ne<=ue&&ne<=we;){const Ie=C[ne],ve=k[ne]=ie?Wr(k[ne]):Ls(k[ne]);if(el(Ie,ve))b(Ie,ve,U,null,Z,Q,ce,oe,ie);else break;ne++}for(;ne<=ue&&ne<=we;){const Ie=C[ue],ve=k[we]=ie?Wr(k[we]):Ls(k[we]);if(el(Ie,ve))b(Ie,ve,U,null,Z,Q,ce,oe,ie);else break;ue--,we--}if(ne>ue){if(ne<=we){const Ie=we+1,ve=Ie<be?k[Ie].el:J;for(;ne<=we;)b(null,k[ne]=ie?Wr(k[ne]):Ls(k[ne]),U,ve,Z,Q,ce,oe,ie),ne++}}else if(ne>we)for(;ne<=ue;)et(C[ne],Z,Q,!0),ne++;else{const Ie=ne,ve=ne,xe=new Map;for(ne=ve;ne<=we;ne++){const Vt=k[ne]=ie?Wr(k[ne]):Ls(k[ne]);Vt.key!=null&&xe.set(Vt.key,ne)}let We,Qt=0;const Ct=we-ve+1;let Jt=!1,Pt=0;const qn=new Array(Ct);for(ne=0;ne<Ct;ne++)qn[ne]=0;for(ne=Ie;ne<=ue;ne++){const Vt=C[ne];if(Qt>=Ct){et(Vt,Z,Q,!0);continue}let Ln;if(Vt.key!=null)Ln=xe.get(Vt.key);else for(We=ve;We<=we;We++)if(qn[We-ve]===0&&el(Vt,k[We])){Ln=We;break}Ln===void 0?et(Vt,Z,Q,!0):(qn[Ln-ve]=ne+1,Ln>=Pt?Pt=Ln:Jt=!0,b(Vt,k[Ln],U,null,Z,Q,ce,oe,ie),Qt++)}const yi=Jt?kS(qn):jo;for(We=yi.length-1,ne=Ct-1;ne>=0;ne--){const Vt=ve+ne,Ln=k[Vt],mo=k[Vt+1],br=Vt+1<be?mo.el||mo.placeholder:J;qn[ne]===0?b(null,Ln,U,br,Z,Q,ce,oe,ie):Jt&&(We<0||ne!==yi[We]?G(Ln,U,br,2):We--)}}},G=(C,k,U,J,Z=null)=>{const{el:Q,type:ce,transition:oe,children:ie,shapeFlag:ne}=C;if(ne&6){G(C.component.subTree,k,U,J);return}if(ne&128){C.suspense.move(k,U,J);return}if(ne&64){ce.move(C,k,U,me);return}if(ce===Dt){s(Q,k,U);for(let ue=0;ue<ie.length;ue++)G(ie[ue],k,U,J);s(C.anchor,k,U);return}if(ce===ld){B(C,k,U);return}if(J!==2&&ne&1&&oe)if(J===0)oe.beforeEnter(Q),s(Q,k,U),zn(()=>oe.enter(Q),Z);else{const{leave:ue,delayLeave:we,afterLeave:Ie}=oe,ve=()=>{C.ctx.isUnmounted?r(Q):s(Q,k,U)},xe=()=>{Q._isLeaving&&Q[YA](!0),ue(Q,()=>{ve(),Ie&&Ie()})};we?we(Q,ve,xe):xe()}else s(Q,k,U)},et=(C,k,U,J=!1,Z=!1)=>{const{type:Q,props:ce,ref:oe,children:ie,dynamicChildren:ne,shapeFlag:be,patchFlag:ue,dirs:we,cacheIndex:Ie}=C;if(ue===-2&&(Z=!1),oe!=null&&(fr(),fl(oe,null,U,C,!0),pr()),Ie!=null&&(k.renderCache[Ie]=void 0),be&256){k.ctx.deactivate(C);return}const ve=be&1&&we,xe=!pl(C);let We;if(xe&&(We=ce&&ce.onVnodeBeforeUnmount)&&xs(We,k,C),be&6)Rt(C.component,U,J);else{if(be&128){C.suspense.unmount(U,J);return}ve&&ji(C,null,k,"beforeUnmount"),be&64?C.type.remove(C,k,U,me,J):ne&&!ne.hasOnce&&(Q!==Dt||ue>0&&ue&64)?Ht(ne,k,U,!1,!0):(Q===Dt&&ue&384||!Z&&be&16)&&Ht(ie,k,U),J&&ot(C)}(xe&&(We=ce&&ce.onVnodeUnmounted)||ve)&&zn(()=>{We&&xs(We,k,C),ve&&ji(C,null,k,"unmounted")},U)},ot=C=>{const{type:k,el:U,anchor:J,transition:Z}=C;if(k===Dt){cn(U,J);return}if(k===ld){L(C);return}const Q=()=>{r(U),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(C.shapeFlag&1&&Z&&!Z.persisted){const{leave:ce,delayLeave:oe}=Z,ie=()=>ce(U,Q);oe?oe(C.el,Q,ie):ie()}else Q()},cn=(C,k)=>{let U;for(;C!==k;)U=_(C),r(C),C=U;r(k)},Rt=(C,k,U)=>{const{bum:J,scope:Z,job:Q,subTree:ce,um:oe,m:ie,a:ne}=C;Zm(ie),Zm(ne),J&&zc(J),Z.stop(),Q&&(Q.flags|=8,et(ce,C,k,U)),oe&&zn(oe,k),zn(()=>{C.isUnmounted=!0},k)},Ht=(C,k,U,J=!1,Z=!1,Q=0)=>{for(let ce=Q;ce<C.length;ce++)et(C[ce],k,U,J,Z)},W=C=>{if(C.shapeFlag&6)return W(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const k=_(C.anchor||C.el),U=k&&k[QA];return U?_(U):k};let he=!1;const K=(C,k,U)=>{C==null?k._vnode&&et(k._vnode,null,null,!0):b(k._vnode||null,C,k,null,null,null,U),k._vnode=C,he||(he=!0,Wm(),yv(),he=!1)},me={p:b,um:et,m:G,r:ot,mt:ft,mc:I,pc:Re,pbc:N,n:W,o:t};return{render:K,hydrate:void 0,createApp:vS(K)}}function ad({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Bi({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function PS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Mv(t,e,n=!1){const s=t.children,r=e.children;if(Ae(s)&&Ae(r))for(let i=0;i<s.length;i++){const o=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Wr(r[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Mv(o,l)),l.type===Zu&&l.patchFlag!==-1&&(l.el=o.el),l.type===li&&!l.el&&(l.el=o.el)}}function kS(t){const e=t.slice(),n=[0];let s,r,i,o,l;const u=t.length;for(s=0;s<u;s++){const h=t[s];if(h!==0){if(r=n[n.length-1],t[r]<h){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<h?i=l+1:o=l;h<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Fv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Fv(e)}function Zm(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const OS=Symbol.for("v-scx"),xS=()=>us(OS);function zo(t,e,n){return Uv(t,e,n)}function Uv(t,e,n=vt){const{immediate:s,deep:r,flush:i,once:o}=n,l=Cn({},n),u=e&&s||!e&&i!=="post";let h;if(Ol){if(i==="sync"){const v=xS();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!u){const v=()=>{};return v.stop=Ms,v.resume=Ms,v.pause=Ms,v}}const d=An;l.call=(v,T,b)=>zs(v,d,T,b);let m=!1;i==="post"?l.scheduler=v=>{zn(v,d&&d.suspense)}:i!=="sync"&&(m=!0,l.scheduler=(v,T)=>{T?v():Kf(v)}),l.augmentJob=v=>{e&&(v.flags|=4),m&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const _=zA(t,e,l);return Ol&&(h?h.push(_):u&&_()),_}function NS(t,e,n){const s=this.proxy,r=Gt(t)?t.includes(".")?$v(s,t):()=>s[t]:t.bind(s,s);let i;Me(e)?i=e:(i=e.handler,n=e);const o=Wl(this),l=Uv(r,i.bind(s),n);return o(),l}function $v(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const DS=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${fs(e)}Modifiers`]||t[`${oo(e)}Modifiers`];function VS(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||vt;let r=n;const i=e.startsWith("update:"),o=i&&DS(s,e.slice(7));o&&(o.trim&&(r=n.map(d=>Gt(d)?d.trim():d)),o.number&&(r=n.map(uu)));let l,u=s[l=td(e)]||s[l=td(fs(e))];!u&&i&&(u=s[l=td(oo(e))]),u&&zs(u,t,6,r);const h=s[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,zs(h,t,6,r)}}function jv(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},l=!1;if(!Me(t)){const u=h=>{const d=jv(h,e,!0);d&&(l=!0,Cn(o,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!l?(Tt(t)&&s.set(t,null),null):(Ae(i)?i.forEach(u=>o[u]=null):Cn(o,i),Tt(t)&&s.set(t,o),o)}function Xu(t,e){return!t||!qu(e)?!1:(e=e.slice(2).replace(/Once$/,""),lt(t,e[0].toLowerCase()+e.slice(1))||lt(t,oo(e))||lt(t,e))}function eg(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:u,render:h,renderCache:d,props:m,data:_,setupState:v,ctx:T,inheritAttrs:b}=t,A=mu(t);let x,$;try{if(n.shapeFlag&4){const L=r||s,Y=L;x=Ls(h.call(Y,L,d,m,v,_,T)),$=l}else{const L=e;x=Ls(L.length>1?L(m,{attrs:l,slots:o,emit:u}):L(m,null)),$=e.props?l:LS(l)}}catch(L){gl.length=0,Qu(L,t,1),x=Fe(li)}let B=x;if($&&b!==!1){const L=Object.keys($),{shapeFlag:Y}=B;L.length&&Y&7&&(i&&L.some(Vf)&&($=MS($,i)),B=Yo(B,$,!1,!0))}return n.dirs&&(B=Yo(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&Gf(B,n.transition),x=B,mu(A),x}const LS=t=>{let e;for(const n in t)(n==="class"||n==="style"||qu(n))&&((e||(e={}))[n]=t[n]);return e},MS=(t,e)=>{const n={};for(const s in t)(!Vf(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function FS(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:l,patchFlag:u}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?tg(s,o,h):!!o;if(u&8){const d=e.dynamicProps;for(let m=0;m<d.length;m++){const _=d[m];if(o[_]!==s[_]&&!Xu(h,_))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?tg(s,o,h):!0:!!o;return!1}function tg(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Xu(n,i))return!0}return!1}function US({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Bv=t=>t.__isSuspense;function $S(t,e){e&&e.pendingBranch?Ae(t)?e.effects.push(...t):e.effects.push(t):GA(t)}const Dt=Symbol.for("v-fgt"),Zu=Symbol.for("v-txt"),li=Symbol.for("v-cmt"),ld=Symbol.for("v-stc"),gl=[];let Gn=null;function se(t=!1){gl.push(Gn=t?null:[])}function jS(){gl.pop(),Gn=gl[gl.length-1]||null}let kl=1;function ng(t,e=!1){kl+=t,t<0&&Gn&&e&&(Gn.hasOnce=!0)}function qv(t){return t.dynamicChildren=kl>0?Gn||jo:null,jS(),kl>0&&Gn&&Gn.push(t),t}function re(t,e,n,s,r,i){return qv(R(t,e,n,s,r,i,!0))}function BS(t,e,n,s,r){return qv(Fe(t,e,n,s,r,!0))}function _u(t){return t?t.__v_isVNode===!0:!1}function el(t,e){return t.type===e.type&&t.key===e.key}const Hv=({key:t})=>t??null,Kc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Gt(t)||$t(t)||Me(t)?{i:Kn,r:t,k:e,f:!!n}:t:null);function R(t,e=null,n=null,s=0,r=null,i=t===Dt?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Hv(e),ref:e&&Kc(e),scopeId:wv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Kn};return l?(Yf(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=Gt(n)?8:16),kl>0&&!o&&Gn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Gn.push(u),u}const Fe=qS;function qS(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===uS)&&(t=li),_u(t)){const l=Yo(t,e,!0);return n&&Yf(l,n),kl>0&&!i&&Gn&&(l.shapeFlag&6?Gn[Gn.indexOf(t)]=l:Gn.push(l)),l.patchFlag=-2,l}if(e0(t)&&(t=t.__vccOpts),e){e=HS(e);let{class:l,style:u}=e;l&&!Gt(l)&&(e.class=Xt(l)),Tt(u)&&(zf(u)&&!Ae(u)&&(u=Cn({},u)),e.style=Ku(u))}const o=Gt(t)?1:Bv(t)?128:JA(t)?64:Tt(t)?4:Me(t)?2:0;return R(t,e,n,s,r,o,i,!0)}function HS(t){return t?zf(t)||Ov(t)?Cn({},t):t:null}function Yo(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:u}=t,h=e?zS(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Hv(h),ref:e&&e.ref?n&&i?Ae(i)?i.concat(Kc(e)):[i,Kc(e)]:Kc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Dt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Yo(t.ssContent),ssFallback:t.ssFallback&&Yo(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&Gf(d,u.clone(d)),d}function it(t=" ",e=0){return Fe(Zu,null,t,e)}function ze(t="",e=!1){return e?(se(),BS(li,null,t)):Fe(li,null,t)}function Ls(t){return t==null||typeof t=="boolean"?Fe(li):Ae(t)?Fe(Dt,null,t.slice()):_u(t)?Wr(t):Fe(Zu,null,String(t))}function Wr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Yo(t)}function Yf(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Ae(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Yf(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Ov(e)?e._ctx=Kn:r===3&&Kn&&(Kn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Me(e)?(e={default:e,_ctx:Kn},n=32):(e=String(e),s&64?(n=16,e=[it(e)]):n=8);t.children=e,t.shapeFlag|=n}function zS(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Xt([e.class,s.class]));else if(r==="style")e.style=Ku([e.style,s.style]);else if(qu(r)){const i=e[r],o=s[r];o&&i!==o&&!(Ae(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function xs(t,e,n,s=null){zs(t,e,7,[n,s])}const WS=Cv();let KS=0;function GS(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||WS,i={uid:KS++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nv(s,r),emitsOptions:jv(s,r),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:s.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=VS.bind(null,i),t.ce&&t.ce(i),i}let An=null;const zv=()=>An||Kn;let yu,Hd;{const t=Wu(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};yu=e("__VUE_INSTANCE_SETTERS__",n=>An=n),Hd=e("__VUE_SSR_SETTERS__",n=>Ol=n)}const Wl=t=>{const e=An;return yu(t),t.scope.on(),()=>{t.scope.off(),yu(e)}},sg=()=>{An&&An.scope.off(),yu(null)};function Wv(t){return t.vnode.shapeFlag&4}let Ol=!1;function QS(t,e=!1,n=!1){e&&Hd(e);const{props:s,children:r}=t.vnode,i=Wv(t);ES(t,s,i,e),AS(t,r,n||e);const o=i?JS(t,e):void 0;return e&&Hd(!1),o}function JS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,dS);const{setup:s}=n;if(s){fr();const r=t.setupContext=s.length>1?XS(t):null,i=Wl(t),o=Hl(s,t,0,[t.props,r]),l=By(o);if(pr(),i(),(l||t.sp)&&!pl(t)&&bv(t),l){if(o.then(sg,sg),e)return o.then(u=>{rg(t,u)}).catch(u=>{Qu(u,t,0)});t.asyncDep=o}else rg(t,o)}else Kv(t)}function rg(t,e,n){Me(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Tt(e)&&(t.setupState=mv(e)),Kv(t)}function Kv(t,e,n){const s=t.type;t.render||(t.render=s.render||Ms);{const r=Wl(t);fr();try{fS(t)}finally{pr(),r()}}}const YS={get(t,e){return Tn(t,"get",""),t[e]}};function XS(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,YS),slots:t.slots,emit:t.emit,expose:e}}function eh(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(mv(Wf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ml)return ml[n](t)},has(e,n){return n in e||n in ml}})):t.proxy}function ZS(t,e=!0){return Me(t)?t.displayName||t.name:t.name||e&&t.__name}function e0(t){return Me(t)&&"__vccOpts"in t}const Ze=(t,e)=>qA(t,e,Ol);function Gv(t,e,n){const s=arguments.length;return s===2?Tt(e)&&!Ae(e)?_u(e)?Fe(t,null,[e]):Fe(t,e):Fe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&_u(n)&&(n=[n]),Fe(t,e,n))}const t0="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zd;const ig=typeof window<"u"&&window.trustedTypes;if(ig)try{zd=ig.createPolicy("vue",{createHTML:t=>t})}catch{}const Qv=zd?t=>zd.createHTML(t):t=>t,n0="http://www.w3.org/2000/svg",s0="http://www.w3.org/1998/Math/MathML",ir=typeof document<"u"?document:null,og=ir&&ir.createElement("template"),r0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?ir.createElementNS(n0,t):e==="mathml"?ir.createElementNS(s0,t):n?ir.createElement(t,{is:n}):ir.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>ir.createTextNode(t),createComment:t=>ir.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ir.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{og.innerHTML=Qv(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=og.content;if(s==="svg"||s==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},i0=Symbol("_vtc");function o0(t,e,n){const s=t[i0];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ag=Symbol("_vod"),a0=Symbol("_vsh"),l0=Symbol(""),c0=/(^|;)\s*display\s*:/;function u0(t,e,n){const s=t.style,r=Gt(n);let i=!1;if(n&&!r){if(e)if(Gt(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Gc(s,l,"")}else for(const o in e)n[o]==null&&Gc(s,o,"");for(const o in n)o==="display"&&(i=!0),Gc(s,o,n[o])}else if(r){if(e!==n){const o=s[l0];o&&(n+=";"+o),s.cssText=n,i=c0.test(n)}}else e&&t.removeAttribute("style");ag in t&&(t[ag]=i?s.display:"",t[a0]&&(s.display="none"))}const lg=/\s*!important$/;function Gc(t,e,n){if(Ae(n))n.forEach(s=>Gc(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=h0(t,e);lg.test(n)?t.setProperty(oo(s),n.replace(lg,""),"important"):t[s]=n}}const cg=["Webkit","Moz","ms"],cd={};function h0(t,e){const n=cd[e];if(n)return n;let s=fs(e);if(s!=="filter"&&s in t)return cd[e]=s;s=zu(s);for(let r=0;r<cg.length;r++){const i=cg[r]+s;if(i in t)return cd[e]=i}return e}const ug="http://www.w3.org/1999/xlink";function hg(t,e,n,s,r,i=pA(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(ug,e.slice(6,e.length)):t.setAttributeNS(ug,e,n):n==null||i&&!Wy(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Hs(n)?String(n):n)}function dg(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Qv(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Wy(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Gr(t,e,n,s){t.addEventListener(e,n,s)}function d0(t,e,n,s){t.removeEventListener(e,n,s)}const fg=Symbol("_vei");function f0(t,e,n,s,r=null){const i=t[fg]||(t[fg]={}),o=i[e];if(s&&o)o.value=s;else{const[l,u]=p0(e);if(s){const h=i[e]=_0(s,r);Gr(t,l,h,u)}else o&&(d0(t,l,o,u),i[e]=void 0)}}const pg=/(?:Once|Passive|Capture)$/;function p0(t){let e;if(pg.test(t)){e={};let s;for(;s=t.match(pg);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):oo(t.slice(2)),e]}let ud=0;const m0=Promise.resolve(),g0=()=>ud||(m0.then(()=>ud=0),ud=Date.now());function _0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;zs(y0(s,n.value),e,5,[s])};return n.value=t,n.attached=g0(),n}function y0(t,e){if(Ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const mg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,v0=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?o0(t,s,o):e==="style"?u0(t,n,s):qu(e)?Vf(e)||f0(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):w0(t,e,s,o))?(dg(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&hg(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Gt(s))?dg(t,fs(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),hg(t,e,s,o))};function w0(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&mg(e)&&Me(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return mg(e)&&Gt(n)?!1:e in t}const Xo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ae(e)?n=>zc(e,n):e};function E0(t){t.target.composing=!0}function gg(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ur=Symbol("_assign"),At={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[ur]=Xo(r);const i=s||r.props&&r.props.type==="number";Gr(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=uu(l)),t[ur](l)}),n&&Gr(t,"change",()=>{t.value=t.value.trim()}),e||(Gr(t,"compositionstart",E0),Gr(t,"compositionend",gg),Gr(t,"change",gg))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[ur]=Xo(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?uu(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===u)||(t.value=u))}},_g={deep:!0,created(t,e,n){t[ur]=Xo(n),Gr(t,"change",()=>{const s=t._modelValue,r=xl(t),i=t.checked,o=t[ur];if(Ae(s)){const l=Ff(s,r),u=l!==-1;if(i&&!u)o(s.concat(r));else if(!i&&u){const h=[...s];h.splice(l,1),o(h)}}else if(ua(s)){const l=new Set(s);i?l.add(r):l.delete(r),o(l)}else o(Jv(t,i))})},mounted:yg,beforeUpdate(t,e,n){t[ur]=Xo(n),yg(t,e,n)}};function yg(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(Ae(e))r=Ff(e,s.props.value)>-1;else if(ua(e))r=e.has(s.props.value);else{if(e===n)return;r=ql(e,Jv(t,!0))}t.checked!==r&&(t.checked=r)}const b0={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=ua(e);Gr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?uu(xl(o)):xl(o));t[ur](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Ju(()=>{t._assigning=!1})}),t[ur]=Xo(s)},mounted(t,{value:e}){vg(t,e)},beforeUpdate(t,e,n){t[ur]=Xo(n)},updated(t,{value:e}){t._assigning||vg(t,e)}};function vg(t,e){const n=t.multiple,s=Ae(e);if(!(n&&!s&&!ua(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],l=xl(o);if(n)if(s){const u=typeof l;u==="string"||u==="number"?o.selected=e.some(h=>String(h)===String(l)):o.selected=Ff(e,l)>-1}else o.selected=e.has(l);else if(ql(xl(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function xl(t){return"_value"in t?t._value:t.value}function Jv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const T0=["ctrl","shift","alt","meta"],I0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>T0.some(n=>t[`${n}Key`]&&!e.includes(n))},Jn=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...i)=>{for(let o=0;o<e.length;o++){const l=I0[e[o]];if(l&&l(r,e))return}return t(r,...i)}))},A0=Cn({patchProp:v0},r0);let wg;function S0(){return wg||(wg=RS(A0))}const R0=((...t)=>{const e=S0().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=P0(s);if(!r)return;const i=e._component;!Me(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,C0(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e});function C0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function P0(t){return Gt(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Vo=typeof document<"u";function Yv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function k0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Yv(t.default)}const at=Object.assign;function hd(t,e){const n={};for(const s in e){const r=e[s];n[s]=vs(r)?r.map(t):t(r)}return n}const _l=()=>{},vs=Array.isArray,Xv=/#/g,O0=/&/g,x0=/\//g,N0=/=/g,D0=/\?/g,Zv=/\+/g,V0=/%5B/g,L0=/%5D/g,ew=/%5E/g,M0=/%60/g,tw=/%7B/g,F0=/%7C/g,nw=/%7D/g,U0=/%20/g;function Xf(t){return encodeURI(""+t).replace(F0,"|").replace(V0,"[").replace(L0,"]")}function $0(t){return Xf(t).replace(tw,"{").replace(nw,"}").replace(ew,"^")}function Wd(t){return Xf(t).replace(Zv,"%2B").replace(U0,"+").replace(Xv,"%23").replace(O0,"%26").replace(M0,"`").replace(tw,"{").replace(nw,"}").replace(ew,"^")}function j0(t){return Wd(t).replace(N0,"%3D")}function B0(t){return Xf(t).replace(Xv,"%23").replace(D0,"%3F")}function q0(t){return t==null?"":B0(t).replace(x0,"%2F")}function Nl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const H0=/\/$/,z0=t=>t.replace(H0,"");function dd(t,e,n="/"){let s,r={},i="",o="";const l=e.indexOf("#");let u=e.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(s=e.slice(0,u),i=e.slice(u+1,l>-1?l:e.length),r=t(i)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=Q0(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Nl(o)}}function W0(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Eg(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function K0(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Zo(e.matched[s],n.matched[r])&&sw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Zo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function sw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!G0(t[n],e[n]))return!1;return!0}function G0(t,e){return vs(t)?bg(t,e):vs(e)?bg(e,t):t===e}function bg(t,e){return vs(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Q0(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Br={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Dl;(function(t){t.pop="pop",t.push="push"})(Dl||(Dl={}));var yl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(yl||(yl={}));function J0(t){if(!t)if(Vo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),z0(t)}const Y0=/^[^#]+#/;function X0(t,e){return t.replace(Y0,"#")+e}function Z0(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const th=()=>({left:window.scrollX,top:window.scrollY});function eR(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=Z0(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Tg(t,e){return(history.state?history.state.position-e:-1)+t}const Kd=new Map;function tR(t,e){Kd.set(t,e)}function nR(t){const e=Kd.get(t);return Kd.delete(t),e}let sR=()=>location.protocol+"//"+location.host;function rw(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let l=r.includes(t.slice(i))?t.slice(i).length:1,u=r.slice(l);return u[0]!=="/"&&(u="/"+u),Eg(u,"")}return Eg(n,t)+s+r}function rR(t,e,n,s){let r=[],i=[],o=null;const l=({state:_})=>{const v=rw(t,location),T=n.value,b=e.value;let A=0;if(_){if(n.value=v,e.value=_,o&&o===T){o=null;return}A=b?_.position-b.position:0}else s(v);r.forEach(x=>{x(n.value,T,{delta:A,type:Dl.pop,direction:A?A>0?yl.forward:yl.back:yl.unknown})})};function u(){o=n.value}function h(_){r.push(_);const v=()=>{const T=r.indexOf(_);T>-1&&r.splice(T,1)};return i.push(v),v}function d(){const{history:_}=window;_.state&&_.replaceState(at({},_.state,{scroll:th()}),"")}function m(){for(const _ of i)_();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:h,destroy:m}}function Ig(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?th():null}}function iR(t){const{history:e,location:n}=window,s={value:rw(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,h,d){const m=t.indexOf("#"),_=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+u:sR()+t+u;try{e[d?"replaceState":"pushState"](h,"",_),r.value=h}catch(v){console.error(v),n[d?"replace":"assign"](_)}}function o(u,h){const d=at({},e.state,Ig(r.value.back,u,r.value.forward,!0),h,{position:r.value.position});i(u,d,!0),s.value=u}function l(u,h){const d=at({},r.value,e.state,{forward:u,scroll:th()});i(d.current,d,!0);const m=at({},Ig(s.value,u,null),{position:d.position+1},h);i(u,m,!1),s.value=u}return{location:s,state:r,push:l,replace:o}}function oR(t){t=J0(t);const e=iR(t),n=rR(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=at({location:"",base:t,go:s,createHref:X0.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function aR(t){return typeof t=="string"||t&&typeof t=="object"}function iw(t){return typeof t=="string"||typeof t=="symbol"}const ow=Symbol("");var Ag;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ag||(Ag={}));function ea(t,e){return at(new Error,{type:t,[ow]:!0},e)}function rr(t,e){return t instanceof Error&&ow in t&&(e==null||!!(t.type&e))}const Sg="[^/]+?",lR={sensitive:!1,strict:!1,start:!0,end:!0},cR=/[.+*?^${}()[\]/\\]/g;function uR(t,e){const n=at({},lR,e),s=[];let r=n.start?"^":"";const i=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(r+="/");for(let m=0;m<h.length;m++){const _=h[m];let v=40+(n.sensitive?.25:0);if(_.type===0)m||(r+="/"),r+=_.value.replace(cR,"\\$&"),v+=40;else if(_.type===1){const{value:T,repeatable:b,optional:A,regexp:x}=_;i.push({name:T,repeatable:b,optional:A});const $=x||Sg;if($!==Sg){v+=10;try{new RegExp(`(${$})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${T}" (${$}): `+L.message)}}let B=b?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;m||(B=A&&h.length<2?`(?:/${B})`:"/"+B),A&&(B+="?"),r+=B,v+=20,A&&(v+=-8),b&&(v+=-20),$===".*"&&(v+=-50)}d.push(v)}s.push(d)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function l(h){const d=h.match(o),m={};if(!d)return null;for(let _=1;_<d.length;_++){const v=d[_]||"",T=i[_-1];m[T.name]=v&&T.repeatable?v.split("/"):v}return m}function u(h){let d="",m=!1;for(const _ of t){(!m||!d.endsWith("/"))&&(d+="/"),m=!1;for(const v of _)if(v.type===0)d+=v.value;else if(v.type===1){const{value:T,repeatable:b,optional:A}=v,x=T in h?h[T]:"";if(vs(x)&&!b)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const $=vs(x)?x.join("/"):x;if(!$)if(A)_.length<2&&(d.endsWith("/")?d=d.slice(0,-1):m=!0);else throw new Error(`Missing required param "${T}"`);d+=$}}return d||"/"}return{re:o,score:s,keys:i,parse:l,stringify:u}}function hR(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function aw(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=hR(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Rg(s))return 1;if(Rg(r))return-1}return r.length-s.length}function Rg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const dR={type:0,value:""},fR=/[a-zA-Z0-9_]/;function pR(t){if(!t)return[[]];if(t==="/")return[[dR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${n})/"${h}": ${v}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let l=0,u,h="",d="";function m(){h&&(n===0?i.push({type:0,value:h}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function _(){h+=u}for(;l<t.length;){if(u=t[l++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(h&&m(),o()):u===":"?(m(),n=1):_();break;case 4:_(),n=s;break;case 1:u==="("?n=2:fR.test(u)?_():(m(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:m(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),m(),o(),r}function mR(t,e,n){const s=uR(pR(t.path),n),r=at(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function gR(t,e){const n=[],s=new Map;e=Og({strict:!1,end:!0,sensitive:!1},e);function r(m){return s.get(m)}function i(m,_,v){const T=!v,b=Pg(m);b.aliasOf=v&&v.record;const A=Og(e,m),x=[b];if("alias"in m){const L=typeof m.alias=="string"?[m.alias]:m.alias;for(const Y of L)x.push(Pg(at({},b,{components:v?v.record.components:b.components,path:Y,aliasOf:v?v.record:b})))}let $,B;for(const L of x){const{path:Y}=L;if(_&&Y[0]!=="/"){const Se=_.record.path,O=Se[Se.length-1]==="/"?"":"/";L.path=_.record.path+(Y&&O+Y)}if($=mR(L,_,A),v?v.alias.push($):(B=B||$,B!==$&&B.alias.push($),T&&m.name&&!kg($)&&o(m.name)),lw($)&&u($),b.children){const Se=b.children;for(let O=0;O<Se.length;O++)i(Se[O],$,v&&v.children[O])}v=v||$}return B?()=>{o(B)}:_l}function o(m){if(iw(m)){const _=s.get(m);_&&(s.delete(m),n.splice(n.indexOf(_),1),_.children.forEach(o),_.alias.forEach(o))}else{const _=n.indexOf(m);_>-1&&(n.splice(_,1),m.record.name&&s.delete(m.record.name),m.children.forEach(o),m.alias.forEach(o))}}function l(){return n}function u(m){const _=vR(m,n);n.splice(_,0,m),m.record.name&&!kg(m)&&s.set(m.record.name,m)}function h(m,_){let v,T={},b,A;if("name"in m&&m.name){if(v=s.get(m.name),!v)throw ea(1,{location:m});A=v.record.name,T=at(Cg(_.params,v.keys.filter(B=>!B.optional).concat(v.parent?v.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),m.params&&Cg(m.params,v.keys.map(B=>B.name))),b=v.stringify(T)}else if(m.path!=null)b=m.path,v=n.find(B=>B.re.test(b)),v&&(T=v.parse(b),A=v.record.name);else{if(v=_.name?s.get(_.name):n.find(B=>B.re.test(_.path)),!v)throw ea(1,{location:m,currentLocation:_});A=v.record.name,T=at({},_.params,m.params),b=v.stringify(T)}const x=[];let $=v;for(;$;)x.unshift($.record),$=$.parent;return{name:A,path:b,params:T,matched:x,meta:yR(x)}}t.forEach(m=>i(m));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:d,getRoutes:l,getRecordMatcher:r}}function Cg(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Pg(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:_R(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function _R(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function kg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function yR(t){return t.reduce((e,n)=>at(e,n.meta),{})}function Og(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function vR(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;aw(t,e[i])<0?s=i:n=i+1}const r=wR(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function wR(t){let e=t;for(;e=e.parent;)if(lw(e)&&aw(t,e)===0)return e}function lw({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ER(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Zv," "),o=i.indexOf("="),l=Nl(o<0?i:i.slice(0,o)),u=o<0?null:Nl(i.slice(o+1));if(l in e){let h=e[l];vs(h)||(h=e[l]=[h]),h.push(u)}else e[l]=u}return e}function xg(t){let e="";for(let n in t){const s=t[n];if(n=j0(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(vs(s)?s.map(i=>i&&Wd(i)):[s&&Wd(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function bR(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=vs(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const TR=Symbol(""),Ng=Symbol(""),nh=Symbol(""),Zf=Symbol(""),Gd=Symbol("");function tl(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Kr(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,u)=>{const h=_=>{_===!1?u(ea(4,{from:n,to:e})):_ instanceof Error?u(_):aR(_)?u(ea(2,{from:e,to:_})):(o&&s.enterCallbacks[r]===o&&typeof _=="function"&&o.push(_),l())},d=i(()=>t.call(s&&s.instances[r],e,n,h));let m=Promise.resolve(d);t.length<3&&(m=m.then(h)),m.catch(_=>u(_))})}function fd(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const l in o.components){let u=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(Yv(u)){const d=(u.__vccOpts||u)[e];d&&i.push(Kr(d,n,s,o,l,r))}else{let h=u();i.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const m=k0(d)?d.default:d;o.mods[l]=d,o.components[l]=m;const v=(m.__vccOpts||m)[e];return v&&Kr(v,n,s,o,l,r)()}))}}return i}function Dg(t){const e=us(nh),n=us(Zf),s=Ze(()=>{const u=qo(t.to);return e.resolve(u)}),r=Ze(()=>{const{matched:u}=s.value,{length:h}=u,d=u[h-1],m=n.matched;if(!d||!m.length)return-1;const _=m.findIndex(Zo.bind(null,d));if(_>-1)return _;const v=Vg(u[h-2]);return h>1&&Vg(d)===v&&m[m.length-1].path!==v?m.findIndex(Zo.bind(null,u[h-2])):_}),i=Ze(()=>r.value>-1&&CR(n.params,s.value.params)),o=Ze(()=>r.value>-1&&r.value===n.matched.length-1&&sw(n.params,s.value.params));function l(u={}){if(RR(u)){const h=e[qo(t.replace)?"replace":"push"](qo(t.to)).catch(_l);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:Ze(()=>s.value.href),isActive:i,isExactActive:o,navigate:l}}function IR(t){return t.length===1?t[0]:t}const AR=Ev({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Dg,setup(t,{slots:e}){const n=ao(Dg(t)),{options:s}=us(nh),r=Ze(()=>({[Lg(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Lg(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&IR(e.default(n));return t.custom?i:Gv("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),SR=AR;function RR(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function CR(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!vs(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Vg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lg=(t,e,n)=>t??e??n,PR=Ev({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=us(Gd),r=Ze(()=>t.route||s.value),i=us(Ng,0),o=Ze(()=>{let h=qo(i);const{matched:d}=r.value;let m;for(;(m=d[h])&&!m.components;)h++;return h}),l=Ze(()=>r.value.matched[o.value]);Wc(Ng,Ze(()=>o.value+1)),Wc(TR,l),Wc(Gd,r);const u=qe();return zo(()=>[u.value,l.value,t.name],([h,d,m],[_,v,T])=>{d&&(d.instances[m]=h,v&&v!==d&&h&&h===_&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),h&&d&&(!v||!Zo(d,v)||!_)&&(d.enterCallbacks[m]||[]).forEach(b=>b(h))},{flush:"post"}),()=>{const h=r.value,d=t.name,m=l.value,_=m&&m.components[d];if(!_)return Mg(n.default,{Component:_,route:h});const v=m.props[d],T=v?v===!0?h.params:typeof v=="function"?v(h):v:null,A=Gv(_,at({},T,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(m.instances[d]=null)},ref:u}));return Mg(n.default,{Component:A,route:h})||A}}});function Mg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const kR=PR;function OR(t){const e=gR(t.routes,t),n=t.parseQuery||ER,s=t.stringifyQuery||xg,r=t.history,i=tl(),o=tl(),l=tl(),u=LA(Br);let h=Br;Vo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=hd.bind(null,W=>""+W),m=hd.bind(null,q0),_=hd.bind(null,Nl);function v(W,he){let K,me;return iw(W)?(K=e.getRecordMatcher(W),me=he):me=W,e.addRoute(me,K)}function T(W){const he=e.getRecordMatcher(W);he&&e.removeRoute(he)}function b(){return e.getRoutes().map(W=>W.record)}function A(W){return!!e.getRecordMatcher(W)}function x(W,he){if(he=at({},he||u.value),typeof W=="string"){const U=dd(n,W,he.path),J=e.resolve({path:U.path},he),Z=r.createHref(U.fullPath);return at(U,J,{params:_(J.params),hash:Nl(U.hash),redirectedFrom:void 0,href:Z})}let K;if(W.path!=null)K=at({},W,{path:dd(n,W.path,he.path).path});else{const U=at({},W.params);for(const J in U)U[J]==null&&delete U[J];K=at({},W,{params:m(U)}),he.params=m(he.params)}const me=e.resolve(K,he),Ye=W.hash||"";me.params=d(_(me.params));const C=W0(s,at({},W,{hash:$0(Ye),path:me.path})),k=r.createHref(C);return at({fullPath:C,hash:Ye,query:s===xg?bR(W.query):W.query||{}},me,{redirectedFrom:void 0,href:k})}function $(W){return typeof W=="string"?dd(n,W,u.value.path):at({},W)}function B(W,he){if(h!==W)return ea(8,{from:he,to:W})}function L(W){return O(W)}function Y(W){return L(at($(W),{replace:!0}))}function Se(W){const he=W.matched[W.matched.length-1];if(he&&he.redirect){const{redirect:K}=he;let me=typeof K=="function"?K(W):K;return typeof me=="string"&&(me=me.includes("?")||me.includes("#")?me=$(me):{path:me},me.params={}),at({query:W.query,hash:W.hash,params:me.path!=null?{}:W.params},me)}}function O(W,he){const K=h=x(W),me=u.value,Ye=W.state,C=W.force,k=W.replace===!0,U=Se(K);if(U)return O(at($(U),{state:typeof U=="object"?at({},Ye,U.state):Ye,force:C,replace:k}),he||K);const J=K;J.redirectedFrom=he;let Z;return!C&&K0(s,me,K)&&(Z=ea(16,{to:J,from:me}),G(me,me,!0,!1)),(Z?Promise.resolve(Z):N(J,me)).catch(Q=>rr(Q)?rr(Q,2)?Q:vn(Q):Re(Q,J,me)).then(Q=>{if(Q){if(rr(Q,2))return O(at({replace:k},$(Q.to),{state:typeof Q.to=="object"?at({},Ye,Q.to.state):Ye,force:C}),he||J)}else Q=M(J,me,!0,k,Ye);return D(J,me,Q),Q})}function I(W,he){const K=B(W,he);return K?Promise.reject(K):Promise.resolve()}function S(W){const he=cn.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(W):W()}function N(W,he){let K;const[me,Ye,C]=xR(W,he);K=fd(me.reverse(),"beforeRouteLeave",W,he);for(const U of me)U.leaveGuards.forEach(J=>{K.push(Kr(J,W,he))});const k=I.bind(null,W,he);return K.push(k),Ht(K).then(()=>{K=[];for(const U of i.list())K.push(Kr(U,W,he));return K.push(k),Ht(K)}).then(()=>{K=fd(Ye,"beforeRouteUpdate",W,he);for(const U of Ye)U.updateGuards.forEach(J=>{K.push(Kr(J,W,he))});return K.push(k),Ht(K)}).then(()=>{K=[];for(const U of C)if(U.beforeEnter)if(vs(U.beforeEnter))for(const J of U.beforeEnter)K.push(Kr(J,W,he));else K.push(Kr(U.beforeEnter,W,he));return K.push(k),Ht(K)}).then(()=>(W.matched.forEach(U=>U.enterCallbacks={}),K=fd(C,"beforeRouteEnter",W,he,S),K.push(k),Ht(K))).then(()=>{K=[];for(const U of o.list())K.push(Kr(U,W,he));return K.push(k),Ht(K)}).catch(U=>rr(U,8)?U:Promise.reject(U))}function D(W,he,K){l.list().forEach(me=>S(()=>me(W,he,K)))}function M(W,he,K,me,Ye){const C=B(W,he);if(C)return C;const k=he===Br,U=Vo?history.state:{};K&&(me||k?r.replace(W.fullPath,at({scroll:k&&U&&U.scroll},Ye)):r.push(W.fullPath,Ye)),u.value=W,G(W,he,K,k),vn()}let P;function ft(){P||(P=r.listen((W,he,K)=>{if(!Rt.listening)return;const me=x(W),Ye=Se(me);if(Ye){O(at(Ye,{replace:!0,force:!0}),me).catch(_l);return}h=me;const C=u.value;Vo&&tR(Tg(C.fullPath,K.delta),th()),N(me,C).catch(k=>rr(k,12)?k:rr(k,2)?(O(at($(k.to),{force:!0}),me).then(U=>{rr(U,20)&&!K.delta&&K.type===Dl.pop&&r.go(-1,!1)}).catch(_l),Promise.reject()):(K.delta&&r.go(-K.delta,!1),Re(k,me,C))).then(k=>{k=k||M(me,C,!1),k&&(K.delta&&!rr(k,8)?r.go(-K.delta,!1):K.type===Dl.pop&&rr(k,20)&&r.go(-1,!1)),D(me,C,k)}).catch(_l)}))}let qt=tl(),je=tl(),Te;function Re(W,he,K){vn(W);const me=je.list();return me.length?me.forEach(Ye=>Ye(W,he,K)):console.error(W),Promise.reject(W)}function en(){return Te&&u.value!==Br?Promise.resolve():new Promise((W,he)=>{qt.add([W,he])})}function vn(W){return Te||(Te=!W,ft(),qt.list().forEach(([he,K])=>W?K(W):he()),qt.reset()),W}function G(W,he,K,me){const{scrollBehavior:Ye}=t;if(!Vo||!Ye)return Promise.resolve();const C=!K&&nR(Tg(W.fullPath,0))||(me||!K)&&history.state&&history.state.scroll||null;return Ju().then(()=>Ye(W,he,C)).then(k=>k&&eR(k)).catch(k=>Re(k,W,he))}const et=W=>r.go(W);let ot;const cn=new Set,Rt={currentRoute:u,listening:!0,addRoute:v,removeRoute:T,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:b,resolve:x,options:t,push:L,replace:Y,go:et,back:()=>et(-1),forward:()=>et(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:je.add,isReady:en,install(W){const he=this;W.component("RouterLink",SR),W.component("RouterView",kR),W.config.globalProperties.$router=he,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>qo(u)}),Vo&&!ot&&u.value===Br&&(ot=!0,L(r.location).catch(Ye=>{}));const K={};for(const Ye in Br)Object.defineProperty(K,Ye,{get:()=>u.value[Ye],enumerable:!0});W.provide(nh,he),W.provide(Zf,dv(K)),W.provide(Gd,u);const me=W.unmount;cn.add(W),W.unmount=function(){cn.delete(W),cn.size<1&&(h=Br,P&&P(),P=null,u.value=Br,ot=!1,Te=!1),me()}}};function Ht(W){return W.reduce((he,K)=>he.then(()=>S(K)),Promise.resolve())}return Rt}function xR(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const l=e.matched[o];l&&(t.matched.find(h=>Zo(h,l))?s.push(l):n.push(l));const u=t.matched[o];u&&(e.matched.find(h=>Zo(h,u))||r.push(u))}return[n,s,r]}function ha(){return us(nh)}function cw(t){return us(Zf)}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let uw;const sh=t=>uw=t,hw=Symbol();function Qd(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var vl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(vl||(vl={}));function NR(){const t=Jy(!0),e=t.run(()=>qe({}));let n=[],s=[];const r=Wf({install(i){sh(r),r._a=i,i.provide(hw,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const dw=()=>{};function Fg(t,e,n,s=dw){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&Yy()&&gA(r),r}function No(t,...e){t.slice().forEach(n=>{n(...e)})}const DR=t=>t(),Ug=Symbol(),pd=Symbol();function Jd(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Qd(r)&&Qd(s)&&t.hasOwnProperty(n)&&!$t(s)&&!ti(s)?t[n]=Jd(r,s):t[n]=s}return t}const VR=Symbol();function LR(t){return!Qd(t)||!Object.prototype.hasOwnProperty.call(t,VR)}const{assign:Hr}=Object;function MR(t){return!!($t(t)&&t.effect)}function FR(t,e,n,s){const{state:r,actions:i,getters:o}=e,l=n.state.value[t];let u;function h(){l||(n.state.value[t]=r?r():{});const d=UA(n.state.value[t]);return Hr(d,i,Object.keys(o||{}).reduce((m,_)=>(m[_]=Wf(Ze(()=>{sh(n);const v=n._s.get(t);return o[_].call(v,v)})),m),{}))}return u=fw(t,h,e,n,s,!0),u}function fw(t,e,n={},s,r,i){let o;const l=Hr({actions:{}},n),u={deep:!0};let h,d,m=[],_=[],v;const T=s.state.value[t];!i&&!T&&(s.state.value[t]={}),qe({});let b;function A(I){let S;h=d=!1,typeof I=="function"?(I(s.state.value[t]),S={type:vl.patchFunction,storeId:t,events:v}):(Jd(s.state.value[t],I),S={type:vl.patchObject,payload:I,storeId:t,events:v});const N=b=Symbol();Ju().then(()=>{b===N&&(h=!0)}),d=!0,No(m,S,s.state.value[t])}const x=i?function(){const{state:S}=n,N=S?S():{};this.$patch(D=>{Hr(D,N)})}:dw;function $(){o.stop(),m=[],_=[],s._s.delete(t)}const B=(I,S="")=>{if(Ug in I)return I[pd]=S,I;const N=function(){sh(s);const D=Array.from(arguments),M=[],P=[];function ft(Te){M.push(Te)}function qt(Te){P.push(Te)}No(_,{args:D,name:N[pd],store:Y,after:ft,onError:qt});let je;try{je=I.apply(this&&this.$id===t?this:Y,D)}catch(Te){throw No(P,Te),Te}return je instanceof Promise?je.then(Te=>(No(M,Te),Te)).catch(Te=>(No(P,Te),Promise.reject(Te))):(No(M,je),je)};return N[Ug]=!0,N[pd]=S,N},L={_p:s,$id:t,$onAction:Fg.bind(null,_),$patch:A,$reset:x,$subscribe(I,S={}){const N=Fg(m,I,S.detached,()=>D()),D=o.run(()=>zo(()=>s.state.value[t],M=>{(S.flush==="sync"?d:h)&&I({storeId:t,type:vl.direct,events:v},M)},Hr({},u,S)));return N},$dispose:$},Y=ao(L);s._s.set(t,Y);const O=(s._a&&s._a.runWithContext||DR)(()=>s._e.run(()=>(o=Jy()).run(()=>e({action:B}))));for(const I in O){const S=O[I];if($t(S)&&!MR(S)||ti(S))i||(T&&LR(S)&&($t(S)?S.value=T[I]:Jd(S,T[I])),s.state.value[t][I]=S);else if(typeof S=="function"){const N=B(S,I);O[I]=N,l.actions[I]=S}}return Hr(Y,O),Hr(st(Y),O),Object.defineProperty(Y,"$state",{get:()=>s.state.value[t],set:I=>{A(S=>{Hr(S,I)})}}),s._p.forEach(I=>{Hr(Y,o.run(()=>I({store:Y,app:s._a,pinia:s,options:l})))}),T&&i&&n.hydrate&&n.hydrate(Y.$state,T),h=!0,d=!0,Y}/*! #__NO_SIDE_EFFECTS__ */function UR(t,e,n){let s;const r=typeof e=="function";s=r?n:e;function i(o,l){const u=wS();return o=o||(u?us(hw,null):null),o&&sh(o),o=uw,o._s.has(t)||(r?fw(t,e,s,o):FR(t,s,o)),o._s.get(t)}return i.$id=t,i}const $R=()=>{};var $g={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},jR=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,d=i>>2,m=(i&3)<<4|l>>4;let _=(l&15)<<2|h>>6,v=h&63;u||(v=64,o||(_=64)),s.push(n[d],n[m],n[_],n[v])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||h==null||m==null)throw new BR;const _=i<<2|l>>4;if(s.push(_),h!==64){const v=l<<4&240|h>>2;if(s.push(v),m!==64){const T=h<<6&192|m;s.push(T)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qR=function(t){const e=pw(t);return mw.encodeByteArray(e,!0)},vu=function(t){return qR(t).replace(/\./g,"")},gw=function(t){try{return mw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=()=>HR().__FIREBASE_DEFAULTS__,WR=()=>{if(typeof process>"u"||typeof $g>"u")return;const t=$g.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gw(t[1]);return e&&JSON.parse(e)},rh=()=>{try{return $R()||zR()||WR()||KR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_w=t=>rh()?.emulatorHosts?.[t],GR=t=>{const e=_w(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yw=()=>rh()?.config,vw=t=>rh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ww(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vu(JSON.stringify(n)),vu(JSON.stringify(o)),""].join(".")}const wl={};function YR(){const t={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?t.emulator.push(e):t.prod.push(e);return t}function XR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jg=!1;function Ew(t,e){if(typeof window>"u"||typeof document>"u"||!da(window.location.host)||wl[t]===e||wl[t]||jg)return;wl[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",i=YR().prod.length>0;function o(){const _=document.getElementById(s);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function u(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{jg=!0,o()},_}function d(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=XR(s),v=n("text"),T=document.getElementById(v)||document.createElement("span"),b=n("learnmore"),A=document.getElementById(b)||document.createElement("a"),x=n("preprendIcon"),$=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const B=_.element;l(B),d(A,b);const L=h();u($,x),B.append($,T,A,L),document.body.appendChild(B)}i?(T.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function eC(){const t=rh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sC(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rC(){return!eC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tw(){try{return typeof indexedDB=="object"}catch{return!1}}function Iw(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}function iC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="FirebaseError";class Is extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oC,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?aC(i,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Is(r,l,s)}}function aC(t,e){return t.replace(lC,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const lC=/\{\$([^}]+)}/g;function cC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Bg(i)&&Bg(o)){if(!mr(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Bg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function rl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function il(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uC(t,e){const n=new hC(t,e);return n.subscribe.bind(n)}class hC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dC(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=md),r.error===void 0&&(r.error=md),r.complete===void 0&&(r.complete=md);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function md(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1e3,pC=2,mC=14400*1e3,gC=.5;function qg(t,e=fC,n=pC){const s=e*Math.pow(n,t),r=Math.round(gC*s*(Math.random()-.5)*2);return Math.min(mC,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new QR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vC(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yC(t){return t===Hi?void 0:t}function vC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _C(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const EC={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},bC=Ge.INFO,TC={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},IC=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=TC[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ih{constructor(e){this.name=e,this._logLevel=bC,this._logHandler=IC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const AC=(t,e)=>e.some(n=>t instanceof n);let Hg,zg;function SC(){return Hg||(Hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RC(){return zg||(zg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Aw=new WeakMap,Yd=new WeakMap,Sw=new WeakMap,gd=new WeakMap,ep=new WeakMap;function CC(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ni(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Aw.set(n,t)}).catch(()=>{}),ep.set(e,t),e}function PC(t){if(Yd.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Yd.set(t,e)}let Xd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kC(t){Xd=t(Xd)}function OC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(_d(this),e,...n);return Sw.set(s,e.sort?e.sort():[e]),ni(s)}:RC().includes(t)?function(...e){return t.apply(_d(this),e),ni(Aw.get(this))}:function(...e){return ni(t.apply(_d(this),e))}}function xC(t){return typeof t=="function"?OC(t):(t instanceof IDBTransaction&&PC(t),AC(t,SC())?new Proxy(t,Xd):t)}function ni(t){if(t instanceof IDBRequest)return CC(t);if(gd.has(t))return gd.get(t);const e=xC(t);return e!==t&&(gd.set(t,e),ep.set(e,t)),e}const _d=t=>ep.get(t);function Rw(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),l=ni(o);return s&&o.addEventListener("upgradeneeded",u=>{s(ni(o.result),u.oldVersion,u.newVersion,ni(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const NC=["get","getKey","getAll","getAllKeys","count"],DC=["put","add","delete","clear"],yd=new Map;function Wg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yd.get(e))return yd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=DC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||NC.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let h=u.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return yd.set(e,i),i}kC(t=>({...t,get:(e,n,s)=>Wg(e,n)||t.get(e,n,s),has:(e,n)=>!!Wg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LC(t){return t.getComponent()?.type==="VERSION"}const Zd="@firebase/app",Kg="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new ih("@firebase/app"),MC="@firebase/app-compat",FC="@firebase/analytics-compat",UC="@firebase/analytics",$C="@firebase/app-check-compat",jC="@firebase/app-check",BC="@firebase/auth",qC="@firebase/auth-compat",HC="@firebase/database",zC="@firebase/data-connect",WC="@firebase/database-compat",KC="@firebase/functions",GC="@firebase/functions-compat",QC="@firebase/installations",JC="@firebase/installations-compat",YC="@firebase/messaging",XC="@firebase/messaging-compat",ZC="@firebase/performance",e1="@firebase/performance-compat",t1="@firebase/remote-config",n1="@firebase/remote-config-compat",s1="@firebase/storage",r1="@firebase/storage-compat",i1="@firebase/firestore",o1="@firebase/ai",a1="@firebase/firestore-compat",l1="firebase",c1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="[DEFAULT]",u1={[Zd]:"fire-core",[MC]:"fire-core-compat",[UC]:"fire-analytics",[FC]:"fire-analytics-compat",[jC]:"fire-app-check",[$C]:"fire-app-check-compat",[BC]:"fire-auth",[qC]:"fire-auth-compat",[HC]:"fire-rtdb",[zC]:"fire-data-connect",[WC]:"fire-rtdb-compat",[KC]:"fire-fn",[GC]:"fire-fn-compat",[QC]:"fire-iid",[JC]:"fire-iid-compat",[YC]:"fire-fcm",[XC]:"fire-fcm-compat",[ZC]:"fire-perf",[e1]:"fire-perf-compat",[t1]:"fire-rc",[n1]:"fire-rc-compat",[s1]:"fire-gcs",[r1]:"fire-gcs-compat",[i1]:"fire-fst",[a1]:"fire-fst-compat",[o1]:"fire-vertex","fire-js":"fire-js",[l1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Map,h1=new Map,tf=new Map;function Gg(t,e){try{t.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ws(t){const e=t.name;if(tf.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;tf.set(e,t);for(const n of wu.values())Gg(n,t);for(const n of h1.values())Gg(n,t);return!0}function co(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function as(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new lo("app","Firebase",d1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=c1;function Cw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ef,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw si.create("bad-app-name",{appName:String(r)});if(n||(n=yw()),!n)throw si.create("no-options");const i=wu.get(r);if(i){if(mr(n,i.options)&&mr(s,i.config))return i;throw si.create("duplicate-app",{appName:r})}const o=new wC(r);for(const u of tf.values())o.addComponent(u);const l=new f1(n,s,o);return wu.set(r,l),l}function tp(t=ef){const e=wu.get(t);if(!e&&t===ef&&yw())return Cw();if(!e)throw si.create("no-app",{appName:t});return e}function hs(t,e,n){let s=u1[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(o.join(" "));return}Ws(new ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebase-heartbeat-database",m1=1,Vl="firebase-heartbeat-store";let vd=null;function Pw(){return vd||(vd=Rw(p1,m1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),vd}async function g1(t){try{const n=(await Pw()).transaction(Vl),s=await n.objectStore(Vl).get(kw(t));return await n.done,s}catch(e){if(e instanceof Is)gr.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function Qg(t,e){try{const s=(await Pw()).transaction(Vl,"readwrite");await s.objectStore(Vl).put(e,kw(t)),await s.done}catch(n){if(n instanceof Is)gr.warn(n.message);else{const s=si.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function kw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=1024,y1=30;class v1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>y1){const r=b1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jg(),{heartbeatsToSend:n,unsentEntries:s}=w1(this._heartbeatsCache.heartbeats),r=vu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return gr.warn(e),""}}}function Jg(){return new Date().toISOString().substring(0,10)}function w1(t,e=_1){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Yg(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Yg(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class E1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tw()?Iw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Qg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Qg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Yg(t){return vu(JSON.stringify({version:2,heartbeats:t})).length}function b1(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){Ws(new ws("platform-logger",e=>new VC(e),"PRIVATE")),Ws(new ws("heartbeat",e=>new v1(e),"PRIVATE")),hs(Zd,Kg,t),hs(Zd,Kg,"esm2020"),hs("fire-js","")}T1("");var I1="firebase",A1="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(I1,A1,"app");const Ow="@firebase/installations",np="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=1e4,Nw=`w:${np}`,Dw="FIS_v2",S1="https://firebaseinstallations.googleapis.com/v1",R1=3600*1e3,C1="installations",P1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zi=new lo(C1,P1,k1);function Vw(t){return t instanceof Is&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw({projectId:t}){return`${S1}/projects/${t}/installations`}function Mw(t){return{token:t.token,requestStatus:2,expiresIn:x1(t.expiresIn),creationTime:Date.now()}}async function Fw(t,e){const s=(await e.json()).error;return Zi.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Uw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function O1(t,{refreshToken:e}){const n=Uw(t);return n.append("Authorization",N1(e)),n}async function $w(t){const e=await t();return e.status>=500&&e.status<600?t():e}function x1(t){return Number(t.replace("s","000"))}function N1(t){return`${Dw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Lw(t),r=Uw(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&r.append("x-firebase-client",h)}const o={fid:n,authVersion:Dw,appId:t.appId,sdkVersion:Nw},l={method:"POST",headers:r,body:JSON.stringify(o)},u=await $w(()=>fetch(s,l));if(u.ok){const h=await u.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:Mw(h.authToken)}}else throw await Fw("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=/^[cdef][\w-]{21}$/,nf="";function M1(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=F1(t);return L1.test(n)?n:nf}catch{return nf}}function F1(t){return V1(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;function qw(t,e){const n=oh(t);Hw(n,e),U1(n,e)}function Hw(t,e){const n=Bw.get(t);if(n)for(const s of n)s(e)}function U1(t,e){const n=$1();n&&n.postMessage({key:t,fid:e}),j1()}let zi=null;function $1(){return!zi&&"BroadcastChannel"in self&&(zi=new BroadcastChannel("[Firebase] FID Change"),zi.onmessage=t=>{Hw(t.data.key,t.data.fid)}),zi}function j1(){Bw.size===0&&zi&&(zi.close(),zi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firebase-installations-database",q1=1,eo="firebase-installations-store";let wd=null;function sp(){return wd||(wd=Rw(B1,q1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(eo)}}})),wd}async function Eu(t,e){const n=oh(t),r=(await sp()).transaction(eo,"readwrite"),i=r.objectStore(eo),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&qw(t,e.fid),e}async function zw(t){const e=oh(t),s=(await sp()).transaction(eo,"readwrite");await s.objectStore(eo).delete(e),await s.done}async function ah(t,e){const n=oh(t),r=(await sp()).transaction(eo,"readwrite"),i=r.objectStore(eo),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await r.done,l&&(!o||o.fid!==l.fid)&&qw(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(t){let e;const n=await ah(t.appConfig,s=>{const r=H1(s),i=z1(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===nf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function H1(t){const e=t||{fid:M1(),registrationStatus:0};return Ww(e)}function z1(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Zi.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=W1(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:K1(t)}:{installationEntry:e}}async function W1(t,e){try{const n=await D1(t,e);return Eu(t.appConfig,n)}catch(n){throw Vw(n)&&n.customData.serverCode===409?await zw(t.appConfig):await Eu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function K1(t){let e=await Xg(t.appConfig);for(;e.registrationStatus===1;)await jw(100),e=await Xg(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await rp(t);return s||n}return e}function Xg(t){return ah(t,e=>{if(!e)throw Zi.create("installation-not-found");return Ww(e)})}function Ww(t){return G1(t)?{fid:t.fid,registrationStatus:0}:t}function G1(t){return t.registrationStatus===1&&t.registrationTime+xw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1({appConfig:t,heartbeatServiceProvider:e},n){const s=J1(t,n),r=O1(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&r.append("x-firebase-client",h)}const o={installation:{sdkVersion:Nw,appId:t.appId}},l={method:"POST",headers:r,body:JSON.stringify(o)},u=await $w(()=>fetch(s,l));if(u.ok){const h=await u.json();return Mw(h)}else throw await Fw("Generate Auth Token",u)}function J1(t,{fid:e}){return`${Lw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(t,e=!1){let n;const s=await ah(t.appConfig,i=>{if(!Kw(i))throw Zi.create("not-registered");const o=i.authToken;if(!e&&Z1(o))return i;if(o.requestStatus===1)return n=Y1(t,e),i;{if(!navigator.onLine)throw Zi.create("app-offline");const l=tP(i);return n=X1(t,l),l}});return n?await n:s.authToken}async function Y1(t,e){let n=await Zg(t.appConfig);for(;n.authToken.requestStatus===1;)await jw(100),n=await Zg(t.appConfig);const s=n.authToken;return s.requestStatus===0?ip(t,e):s}function Zg(t){return ah(t,e=>{if(!Kw(e))throw Zi.create("not-registered");const n=e.authToken;return nP(n)?{...e,authToken:{requestStatus:0}}:e})}async function X1(t,e){try{const n=await Q1(t,e),s={...e,authToken:n};return await Eu(t.appConfig,s),n}catch(n){if(Vw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await zw(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Eu(t.appConfig,s)}throw n}}function Kw(t){return t!==void 0&&t.registrationStatus===2}function Z1(t){return t.requestStatus===2&&!eP(t)}function eP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+R1}function tP(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function nP(t){return t.requestStatus===1&&t.requestTime+xw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(t){const e=t,{installationEntry:n,registrationPromise:s}=await rp(e);return s?s.catch(console.error):ip(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e=!1){const n=t;return await iP(n),(await ip(n,e)).token}async function iP(t){const{registrationPromise:e}=await rp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){if(!t||!t.options)throw Ed("App Configuration");if(!t.name)throw Ed("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ed(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ed(t){return Zi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="installations",aP="installations-internal",lP=t=>{const e=t.getProvider("app").getImmediate(),n=oP(e),s=co(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},cP=t=>{const e=t.getProvider("app").getImmediate(),n=co(e,Gw).getImmediate();return{getId:()=>sP(n),getToken:r=>rP(n,r)}};function uP(){Ws(new ws(Gw,lP,"PUBLIC")),Ws(new ws(aP,cP,"PRIVATE"))}uP();hs(Ow,np);hs(Ow,np,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="analytics",hP="firebase_id",dP="origin",fP=60*1e3,pP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",op="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new ih("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yn=new lo("analytics","Analytics",mP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){if(!t.startsWith(op)){const e=Yn.create("invalid-gtag-resource",{gtagURL:t});return $n.warn(e.message),""}return t}function Qw(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _P(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function yP(t,e){const n=_P("firebase-js-sdk-policy",{createScriptURL:gP}),s=document.createElement("script"),r=`${op}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function vP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function wP(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const u=(await Qw(n)).find(h=>h.measurementId===r);u&&await e[u.appId]}}catch(l){$n.error(l)}t("config",r,i)}async function EP(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const l=await Qw(n);for(const u of o){const h=l.find(m=>m.measurementId===u),d=h&&e[h.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){$n.error(i)}}function bP(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[l,u]=o;await EP(t,e,n,l,u)}else if(i==="config"){const[l,u]=o;await wP(t,e,n,s,l,u)}else if(i==="consent"){const[l,u]=o;t("consent",l,u)}else if(i==="get"){const[l,u,h]=o;t("get",l,u,h)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){$n.error(l)}}return r}function TP(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=bP(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function IP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(op)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=30,SP=1e3;class RP{constructor(e={},n=SP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Jw=new RP;function CP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function PP(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:CP(n)},r=pP.replace("{app-id}",e),i=await fetch(r,s);if(i.status!==200&&i.status!==304){let o="";try{const l=await i.json();l.error?.message&&(o=l.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function kP(t,e=Jw,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Yn.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Yn.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new NP;return setTimeout(async()=>{l.abort()},fP),Yw({appId:s,apiKey:r,measurementId:i},o,l,e)}async function Yw(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=Jw){const{appId:i,measurementId:o}=t;try{await OP(s,e)}catch(l){if(o)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:i,measurementId:o};throw l}try{const l=await PP(t);return r.deleteThrottleMetadata(i),l}catch(l){const u=l;if(!xP(u)){if(r.deleteThrottleMetadata(i),o)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:i,measurementId:o};throw l}const h=Number(u?.customData?.httpStatus)===503?qg(n,r.intervalMillis,AP):qg(n,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return r.setThrottleMetadata(i,d),$n.debug(`Calling attemptFetch again in ${h} millis`),Yw(t,d,s,r)}}function OP(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xP(t){if(!(t instanceof Is)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class NP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DP(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o={...s,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(){if(Tw())try{await Iw()}catch(t){return $n.warn(Yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return $n.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function LP(t,e,n,s,r,i,o){const l=kP(t);l.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>$n.error(_)),e.push(l);const u=VP().then(_=>{if(_)return s.getId()}),[h,d]=await Promise.all([l,u]);IP(i)||yP(i,h.measurementId),r("js",new Date);const m=o?.config??{};return m[dP]="firebase",m.update=!0,d!=null&&(m[hP]=d),r("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.app=e}_delete(){return delete El[this.app.options.appId],Promise.resolve()}}let El={},e_=[];const t_={};let bd="dataLayer",FP="gtag",n_,Xw,s_=!1;function UP(){const t=[];if(bw()&&t.push("This is a browser extension environment."),iC()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Yn.create("invalid-analytics-context",{errorInfo:e});$n.warn(n.message)}}function $P(t,e,n){UP();const s=t.options.appId;if(!s)throw Yn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yn.create("no-api-key");if(El[s]!=null)throw Yn.create("already-exists",{id:s});if(!s_){vP(bd);const{wrappedGtag:i,gtagCore:o}=TP(El,e_,t_,bd,FP);Xw=i,n_=o,s_=!0}return El[s]=LP(t,e_,t_,e,n_,bd,n),new MP(t)}function jP(t=tp()){t=jt(t);const e=co(t,bu);return e.isInitialized()?e.getImmediate():BP(t)}function BP(t,e={}){const n=co(t,bu);if(n.isInitialized()){const r=n.getImmediate();if(mr(e,n.getOptions()))return r;throw Yn.create("already-initialized")}return n.initialize({options:e})}function qP(t,e,n,s){t=jt(t),DP(Xw,El[t.app.options.appId],e,n,s).catch(r=>$n.error(r))}const r_="@firebase/analytics",i_="0.10.18";function HP(){Ws(new ws(bu,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return $P(s,r,n)},"PUBLIC")),Ws(new ws("analytics-internal",t,"PRIVATE")),hs(r_,i_),hs(r_,i_,"esm2020");function t(e){try{const n=e.getProvider(bu).getImmediate();return{logEvent:(s,r,i)=>qP(n,s,r,i)}}catch(n){throw Yn.create("interop-component-reg-failed",{reason:n})}}}HP();function Zw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zP=Zw,eE=new lo("auth","Firebase",Zw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new ih("@firebase/auth");function WP(t,...e){Tu.logLevel<=Ge.WARN&&Tu.warn(`Auth (${fa}): ${t}`,...e)}function Qc(t,...e){Tu.logLevel<=Ge.ERROR&&Tu.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,...e){throw ap(t,...e)}function Fs(t,...e){return ap(t,...e)}function tE(t,e,n){const s={...zP(),[e]:n};return new lo("auth","Firebase",s).create(e,{appName:t.name})}function hr(t){return tE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ap(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return eE.create(t,...e)}function Pe(t,e,...n){if(!t)throw ap(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function _r(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(){return typeof self<"u"&&self.location?.href||""}function KP(){return o_()==="http:"||o_()==="https:"}function o_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KP()||bw()||"connection"in navigator)?navigator.onLine:!0}function QP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=ZR()||nC()}get(){return GP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t,e){_r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XP=new Gl(3e4,6e4);function mi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Er(t,e,n,s,r={}){return sE(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const l=Kl({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...i};return tC()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&da(t.emulatorConfig.host)&&(h.credentials="include"),nE.fetch()(await rE(t,t.config.apiHost,n,l),h)})}async function sE(t,e,n){t._canInitEmulator=!1;const s={...JP,...e};try{const r=new ek(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Mc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Mc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Mc(t,"user-disabled",o);const d=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw tE(t,d,h);Es(t,d)}}catch(r){if(r instanceof Is)throw r;Es(t,"network-request-failed",{message:String(r)})}}async function Ql(t,e,n,s,r={}){const i=await Er(t,e,n,s,r);return"mfaPendingCredential"in i&&Es(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function rE(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?lp(t.config,r):`${t.config.apiScheme}://${r}`;return YP.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function ZP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ek{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Fs(this.auth,"network-request-failed")),XP.get())})}}function Mc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Fs(t,e,s);return r.customData._tokenResponse=n,r}function a_(t){return t!==void 0&&t.enterprise!==void 0}class tk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nk(t,e){return Er(t,"GET","/v2/recaptchaConfig",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t,e){return Er(t,"POST","/v1/accounts:delete",e)}async function Iu(t,e){return Er(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rk(t,e=!1){const n=jt(t),s=await n.getIdToken(e),r=cp(s);Pe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i?.sign_in_provider;return{claims:r,token:s,authTime:bl(Td(r.auth_time)),issuedAtTime:bl(Td(r.iat)),expirationTime:bl(Td(r.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Td(t){return Number(t)*1e3}function cp(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const r=gw(n);return r?JSON.parse(r):(Qc("Failed to decode base64 JWT payload"),null)}catch(r){return Qc("Caught error parsing JWT payload as JSON",r?.toString()),null}}function l_(t){const e=cp(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Is&&ik(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function ik({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){const e=t.auth,n=await t.getIdToken(),s=await ta(t,Iu(e,{idToken:n}));Pe(s?.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=r.providerUserInfo?.length?iE(r.providerUserInfo):[],o=lk(t.providerData,i),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!o?.length,h=l?u:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new rf(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function ak(t){const e=jt(t);await Au(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lk(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function iE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(t,e){const n=await sE(t,{},async()=>{const s=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await rE(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return t.emulatorConfig&&da(t.emulatorConfig.host)&&(u.credentials="include"),nE.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uk(t,e){return Er(t,"POST","/v2/accounts:revokeToken",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=l_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await ck(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Wo;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(Pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _s{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new ok(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new rf(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await ta(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rk(this,e)}reload(){return ak(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _s({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Au(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(as(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await ta(this,sk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:m,emailVerified:_,isAnonymous:v,providerData:T,stsTokenManager:b}=n;Pe(m&&b,e,"internal-error");const A=Wo.fromJSON(this.name,b);Pe(typeof m=="string",e,"internal-error"),qr(s,e.name),qr(r,e.name),Pe(typeof _=="boolean",e,"internal-error"),Pe(typeof v=="boolean",e,"internal-error"),qr(i,e.name),qr(o,e.name),qr(l,e.name),qr(u,e.name),qr(h,e.name),qr(d,e.name);const x=new _s({uid:m,auth:e,email:r,emailVerified:_,displayName:s,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:A,createdAt:h,lastLoginAt:d});return T&&Array.isArray(T)&&(x.providerData=T.map($=>({...$}))),u&&(x._redirectEventId=u),x}static async _fromIdTokenResponse(e,n,s=!1){const r=new Wo;r.updateFromServerResponse(n);const i=new _s({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Au(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];Pe(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?iE(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!i?.length,l=new Wo;l.updateFromIdToken(s);const u=new _s({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new rf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;function cr(t){_r(t instanceof Function,"Expected a class definition");let e=c_.get(t);return e?(_r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,c_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oE.type="NONE";const u_=oE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ko{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Jc(this.userKey,r.apiKey,i),this.fullPersistenceKey=Jc("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Iu(this.auth,{idToken:e}).catch(()=>{});return n?_s._fromGetAccountInfoResponse(this.auth,n,e):null}return _s._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ko(cr(u_),e,s);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=r[0]||cr(u_);const o=Jc(s,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(o);if(d){let m;if(typeof d=="string"){const _=await Iu(e,{idToken:d}).catch(()=>{});if(!_)break;m=await _s._fromGetAccountInfoResponse(e,_,d)}else m=_s._fromJSON(e,d);h!==i&&(l=m),i=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Ko(i,e,s):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Ko(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dE(e))return"Blackberry";if(fE(e))return"Webos";if(lE(e))return"Safari";if((e.includes("chrome/")||cE(e))&&!e.includes("edge/"))return"Chrome";if(hE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function aE(t=Pn()){return/firefox\//i.test(t)}function lE(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cE(t=Pn()){return/crios\//i.test(t)}function uE(t=Pn()){return/iemobile/i.test(t)}function hE(t=Pn()){return/android/i.test(t)}function dE(t=Pn()){return/blackberry/i.test(t)}function fE(t=Pn()){return/webos/i.test(t)}function up(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hk(t=Pn()){return up(t)&&!!window.navigator?.standalone}function dk(){return sC()&&document.documentMode===10}function pE(t=Pn()){return up(t)||hE(t)||fE(t)||dE(t)||/windows phone/i.test(t)||uE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e=[]){let n;switch(t){case"Browser":n=h_(Pn());break;case"Worker":n=`${h_(Pn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(t,e={}){return Er(t,"GET","/v2/passwordPolicy",mi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=6;class gk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new fk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Iu(this,{idToken:e}),s=await _s._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(as(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=s?._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===o)&&l?.user&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Au(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(as(this.app))return Promise.reject(hr(this));const n=e?jt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return as(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return as(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pk(this),n=new gk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await uk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,r);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uo(t){return jt(t)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=uC(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yk(t){lh=t}function gE(t){return lh.loadJS(t)}function vk(){return lh.recaptchaEnterpriseScript}function wk(){return lh.gapiScript}function Ek(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bk{constructor(){this.enterprise=new Tk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Tk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ik="recaptcha-enterprise",_E="NO_RECAPTCHA";class Ak{constructor(e){this.type=Ik,this.auth=uo(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{nk(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new tk(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function r(i,o,l){const u=window.grecaptcha;a_(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(_E)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bk().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(l=>{if(!n&&a_(window.grecaptcha))r(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=vk();u.length!==0&&(u+=l),gE(u).then(()=>{r(l,i,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function f_(t,e,n,s=!1,r=!1){const i=new Ak(t);let o;if(r)o=_E;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function of(t,e,n,s,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await f_(t,e,n,n==="getOobCode");return s(t,i)}else return s(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await f_(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t,e){const n=co(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(mr(i,e??{}))return r;Es(r,"already-initialized")}return n.initialize({options:e})}function Rk(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function Ck(t,e,n){const s=uo(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=yE(e),{host:o,port:l}=Pk(e),u=l===null?"":`:${l}`,h={url:`${i}//${o}${u}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(mr(h,s.config.emulator)&&mr(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,da(o)?(ww(`${i}//${o}${u}`),Ew("Auth",!0)):kk()}function yE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Pk(t){const e=yE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:p_(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:p_(o)}}}function p_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function Ok(t,e){return Er(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t,e){return Ql(t,"POST","/v1/accounts:signInWithPassword",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e){return Ql(t,"POST","/v1/accounts:signInWithEmailLink",mi(t,e))}async function Dk(t,e){return Ql(t,"POST","/v1/accounts:signInWithEmailLink",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends hp{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ll(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return of(e,n,"signInWithPassword",xk);case"emailLink":return Nk(e,{email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return of(e,s,"signUpPassword",Ok);case"emailLink":return Dk(e,{idToken:n,email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e){return Ql(t,"POST","/v1/accounts:signInWithIdp",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="http://localhost";class to extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const o=new to(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Go(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){const e={requestUri:Vk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mk(t){const e=rl(il(t)).link,n=e?rl(il(e)).deep_link_id:null,s=rl(il(t)).deep_link_id;return(s?rl(il(s)).link:null)||s||n||e||t}class dp{constructor(e){const n=rl(il(e)),s=n.apiKey??null,r=n.oobCode??null,i=Lk(n.mode??null);Pe(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Mk(e);try{return new dp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,n){return Ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=dp.parseLink(n);return Pe(s,"argument-error"),Ll._fromEmailAndCode(e,s.code,s.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends vE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Jl{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Jl{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Jl{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t,e){return Ql(t,"POST","/v1/accounts:signUp",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await _s._fromIdTokenResponse(e,s,r),o=m_(s);return new no({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=m_(s);return new no({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function m_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Is{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Su.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Su(e,n,s,r)}}function wE(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Su._fromErrorAndOperation(t,i,e,s):i})}async function Uk(t,e,n=!1){const s=await ta(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return no._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(t,e,n=!1){const{auth:s}=t;if(as(s.app))return Promise.reject(hr(s));const r="reauthenticate";try{const i=await ta(t,wE(s,r,e,t),n);Pe(i.idToken,s,"internal-error");const o=cp(i.idToken);Pe(o,s,"internal-error");const{sub:l}=o;return Pe(t.uid===l,s,"user-mismatch"),no._forOperation(t,r,i)}catch(i){throw i?.code==="auth/user-not-found"&&Es(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(t,e,n=!1){if(as(t.app))return Promise.reject(hr(t));const s="signIn",r=await wE(t,s,e),i=await no._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function jk(t,e){return EE(uo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bE(t){const e=uo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bk(t,e,n){if(as(t.app))return Promise.reject(hr(t));const s=uo(t),o=await of(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fk).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&bE(t),u}),l=await no._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function qk(t,e,n){return as(t.app)?Promise.reject(hr(t)):jk(jt(t),pa.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bE(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(t,e){return Er(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=jt(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ta(s,Hk(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function Wk(t,e,n,s){return jt(t).onIdTokenChanged(e,n,s)}function Kk(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function TE(t,e,n,s){return jt(t).onAuthStateChanged(e,n,s)}function Gk(t){return jt(t).signOut()}const Ru="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=1e3,Jk=10;class AE extends IE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);dk()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Jk):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AE.type="LOCAL";const Yk=AE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE extends IE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SE.type="SESSION";const RE=SE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new ch(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async h=>h(n.origin,i)),u=await Xk(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const h=fp("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(m){const _=m;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(_.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(){return window}function eO(t){Us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(){return typeof Us().WorkerGlobalScope<"u"&&typeof Us().importScripts=="function"}async function tO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nO(){return navigator?.serviceWorker?.controller||null}function sO(){return CE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="firebaseLocalStorageDb",rO=1,Cu="firebaseLocalStorage",kE="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(t,e){return t.transaction([Cu],e?"readwrite":"readonly").objectStore(Cu)}function iO(){const t=indexedDB.deleteDatabase(PE);return new Yl(t).toPromise()}function af(){const t=indexedDB.open(PE,rO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Cu,{keyPath:kE})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Cu)?e(s):(s.close(),await iO(),e(await af()))})})}async function g_(t,e,n){const s=uh(t,!0).put({[kE]:e,value:n});return new Yl(s).toPromise()}async function oO(t,e){const n=uh(t,!1).get(e),s=await new Yl(n).toPromise();return s===void 0?null:s.value}function __(t,e){const n=uh(t,!0).delete(e);return new Yl(n).toPromise()}const aO=800,lO=3;class OE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await af(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>lO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(sO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tO(),!this.activeServiceWorker)return;this.sender=new Zk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await af();return await g_(e,Ru,"1"),await __(e,Ru),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>g_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>__(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=uh(r,!1).getAll();return new Yl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OE.type="LOCAL";const cO=OE;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t,e){return e?cr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hO(t){return EE(t.auth,new pp(t),t.bypassAuthState)}function dO(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),$k(n,new pp(t),t.bypassAuthState)}async function fO(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Uk(n,new pp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hO;case"linkViaPopup":case"linkViaRedirect":return fO;case"reauthViaPopup":case"reauthViaRedirect":return dO;default:Es(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new Gl(2e3,1e4);class $o extends xE{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pO.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="pendingRedirect",Yc=new Map;class gO extends xE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const s=await _O(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _O(t,e){const n=wO(e),s=vO(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function yO(t,e){Yc.set(t._key(),e)}function vO(t){return cr(t._redirectPersistence)}function wO(t){return Jc(mO,t.config.apiKey,t.name)}async function EO(t,e,n=!1){if(as(t.app))return Promise.reject(hr(t));const s=uo(t),r=uO(s,e),o=await new gO(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=600*1e3;class TO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!NE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Fs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bO&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function IO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e={}){return Er(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RO=/^https?/;async function CO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AO(t);for(const n of e)try{if(PO(n))return}catch{}Es(t,"unauthorized-domain")}function PO(t){const e=sf(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!RO.test(n))return!1;if(SO.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Gl(3e4,6e4);function v_(){const t=Us().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OO(t){return new Promise((e,n)=>{function s(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),n(Fs(t,"network-request-failed"))},timeout:kO.get()})}if(Us().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Us().gapi?.load)s();else{const r=Ek("iframefcb");return Us()[r]=()=>{gapi.load?s():n(Fs(t,"network-request-failed"))},gE(`${wk()}?onload=${r}`).catch(i=>n(i))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function xO(t){return Xc=Xc||OO(t),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new Gl(5e3,15e3),DO="__/auth/iframe",VO="emulator/auth/iframe",LO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FO(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lp(e,VO):`https://${t.config.authDomain}/${DO}`,s={apiKey:e.apiKey,appName:t.name,v:fa},r=MO.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Kl(s).slice(1)}`}async function UO(t){const e=await xO(t),n=Us().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:FO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LO,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Fs(t,"network-request-failed"),l=Us().setTimeout(()=>{i(o)},NO.get());function u(){Us().clearTimeout(l),r(s)}s.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jO=500,BO=600,qO="_blank",HO="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zO(t,e,n,s=jO,r=BO){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u={...$O,width:s.toString(),height:r.toString(),top:i,left:o},h=Pn().toLowerCase();n&&(l=cE(h)?qO:n),aE(h)&&(e=e||HO,u.scrollbars="yes");const d=Object.entries(u).reduce((_,[v,T])=>`${_}${v}=${T},`,"");if(hk(h)&&l!=="_self")return WO(e||"",l),new w_(null);const m=window.open(e||"",l,d);Pe(m,t,"popup-blocked");try{m.focus()}catch{}return new w_(m)}function WO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="__/auth/handler",GO="emulator/auth/handler",QO=encodeURIComponent("fac");async function E_(t,e,n,s,r,i){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:fa,eventId:r};if(e instanceof vE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof Jl){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),h=u?`#${QO}=${encodeURIComponent(u)}`:"";return`${JO(t)}?${Kl(l).slice(1)}${h}`}function JO({config:t}){return t.emulator?lp(t,GO):`https://${t.authDomain}/${KO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="webStorageSupport";class YO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RE,this._completeRedirectFn=EO,this._overrideRedirectResult=yO}async _openPopup(e,n,s,r){_r(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await E_(e,n,s,sf(),r);return zO(e,i,fp())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await E_(e,n,s,sf(),r);return eO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(_r(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await UO(e),s=new TO(e);return n.register("authEvent",r=>(Pe(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Id,{type:Id},r=>{const i=r?.[0]?.[Id];i!==void 0&&n(!!i),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pE()||lE()||up()}}const XO=YO;var b_="@firebase/auth",T_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tx(t){Ws(new ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mE(t)},h=new _k(s,r,i,u);return Rk(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ws(new ws("auth-internal",e=>{const n=uo(e.getProvider("auth").getImmediate());return(s=>new ZO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(b_,T_,ex(t)),hs(b_,T_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=300,sx=vw("authIdTokenMaxAge")||nx;let I_=null;const rx=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sx)return;const r=n?.token;I_!==r&&(I_=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function DE(t=tp()){const e=co(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Sk(t,{popupRedirectResolver:XO,persistence:[cO,Yk,RE]}),s=vw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=rx(i.toString());Kk(n,o,()=>o(n.currentUser)),Wk(n,l=>o(l))}}const r=_w("auth");return r&&Ck(n,`http://${r}`),n}function ix(){return document.getElementsByTagName("head")?.[0]??document}yk({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Fs("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",ix().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tx("Browser");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ri,VE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function S(){}S.prototype=I.prototype,O.D=I.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(N,D,M){for(var P=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)P[ft-2]=arguments[ft];return I.prototype[D].apply(N,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,I,S){S||(S=0);var N=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)N[D]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(D=0;16>D;++D)N[D]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=O.g[0],S=O.g[1],D=O.g[2];var M=O.g[3],P=I+(M^S&(D^M))+N[0]+3614090360&4294967295;I=S+(P<<7&4294967295|P>>>25),P=M+(D^I&(S^D))+N[1]+3905402710&4294967295,M=I+(P<<12&4294967295|P>>>20),P=D+(S^M&(I^S))+N[2]+606105819&4294967295,D=M+(P<<17&4294967295|P>>>15),P=S+(I^D&(M^I))+N[3]+3250441966&4294967295,S=D+(P<<22&4294967295|P>>>10),P=I+(M^S&(D^M))+N[4]+4118548399&4294967295,I=S+(P<<7&4294967295|P>>>25),P=M+(D^I&(S^D))+N[5]+1200080426&4294967295,M=I+(P<<12&4294967295|P>>>20),P=D+(S^M&(I^S))+N[6]+2821735955&4294967295,D=M+(P<<17&4294967295|P>>>15),P=S+(I^D&(M^I))+N[7]+4249261313&4294967295,S=D+(P<<22&4294967295|P>>>10),P=I+(M^S&(D^M))+N[8]+1770035416&4294967295,I=S+(P<<7&4294967295|P>>>25),P=M+(D^I&(S^D))+N[9]+2336552879&4294967295,M=I+(P<<12&4294967295|P>>>20),P=D+(S^M&(I^S))+N[10]+4294925233&4294967295,D=M+(P<<17&4294967295|P>>>15),P=S+(I^D&(M^I))+N[11]+2304563134&4294967295,S=D+(P<<22&4294967295|P>>>10),P=I+(M^S&(D^M))+N[12]+1804603682&4294967295,I=S+(P<<7&4294967295|P>>>25),P=M+(D^I&(S^D))+N[13]+4254626195&4294967295,M=I+(P<<12&4294967295|P>>>20),P=D+(S^M&(I^S))+N[14]+2792965006&4294967295,D=M+(P<<17&4294967295|P>>>15),P=S+(I^D&(M^I))+N[15]+1236535329&4294967295,S=D+(P<<22&4294967295|P>>>10),P=I+(D^M&(S^D))+N[1]+4129170786&4294967295,I=S+(P<<5&4294967295|P>>>27),P=M+(S^D&(I^S))+N[6]+3225465664&4294967295,M=I+(P<<9&4294967295|P>>>23),P=D+(I^S&(M^I))+N[11]+643717713&4294967295,D=M+(P<<14&4294967295|P>>>18),P=S+(M^I&(D^M))+N[0]+3921069994&4294967295,S=D+(P<<20&4294967295|P>>>12),P=I+(D^M&(S^D))+N[5]+3593408605&4294967295,I=S+(P<<5&4294967295|P>>>27),P=M+(S^D&(I^S))+N[10]+38016083&4294967295,M=I+(P<<9&4294967295|P>>>23),P=D+(I^S&(M^I))+N[15]+3634488961&4294967295,D=M+(P<<14&4294967295|P>>>18),P=S+(M^I&(D^M))+N[4]+3889429448&4294967295,S=D+(P<<20&4294967295|P>>>12),P=I+(D^M&(S^D))+N[9]+568446438&4294967295,I=S+(P<<5&4294967295|P>>>27),P=M+(S^D&(I^S))+N[14]+3275163606&4294967295,M=I+(P<<9&4294967295|P>>>23),P=D+(I^S&(M^I))+N[3]+4107603335&4294967295,D=M+(P<<14&4294967295|P>>>18),P=S+(M^I&(D^M))+N[8]+1163531501&4294967295,S=D+(P<<20&4294967295|P>>>12),P=I+(D^M&(S^D))+N[13]+2850285829&4294967295,I=S+(P<<5&4294967295|P>>>27),P=M+(S^D&(I^S))+N[2]+4243563512&4294967295,M=I+(P<<9&4294967295|P>>>23),P=D+(I^S&(M^I))+N[7]+1735328473&4294967295,D=M+(P<<14&4294967295|P>>>18),P=S+(M^I&(D^M))+N[12]+2368359562&4294967295,S=D+(P<<20&4294967295|P>>>12),P=I+(S^D^M)+N[5]+4294588738&4294967295,I=S+(P<<4&4294967295|P>>>28),P=M+(I^S^D)+N[8]+2272392833&4294967295,M=I+(P<<11&4294967295|P>>>21),P=D+(M^I^S)+N[11]+1839030562&4294967295,D=M+(P<<16&4294967295|P>>>16),P=S+(D^M^I)+N[14]+4259657740&4294967295,S=D+(P<<23&4294967295|P>>>9),P=I+(S^D^M)+N[1]+2763975236&4294967295,I=S+(P<<4&4294967295|P>>>28),P=M+(I^S^D)+N[4]+1272893353&4294967295,M=I+(P<<11&4294967295|P>>>21),P=D+(M^I^S)+N[7]+4139469664&4294967295,D=M+(P<<16&4294967295|P>>>16),P=S+(D^M^I)+N[10]+3200236656&4294967295,S=D+(P<<23&4294967295|P>>>9),P=I+(S^D^M)+N[13]+681279174&4294967295,I=S+(P<<4&4294967295|P>>>28),P=M+(I^S^D)+N[0]+3936430074&4294967295,M=I+(P<<11&4294967295|P>>>21),P=D+(M^I^S)+N[3]+3572445317&4294967295,D=M+(P<<16&4294967295|P>>>16),P=S+(D^M^I)+N[6]+76029189&4294967295,S=D+(P<<23&4294967295|P>>>9),P=I+(S^D^M)+N[9]+3654602809&4294967295,I=S+(P<<4&4294967295|P>>>28),P=M+(I^S^D)+N[12]+3873151461&4294967295,M=I+(P<<11&4294967295|P>>>21),P=D+(M^I^S)+N[15]+530742520&4294967295,D=M+(P<<16&4294967295|P>>>16),P=S+(D^M^I)+N[2]+3299628645&4294967295,S=D+(P<<23&4294967295|P>>>9),P=I+(D^(S|~M))+N[0]+4096336452&4294967295,I=S+(P<<6&4294967295|P>>>26),P=M+(S^(I|~D))+N[7]+1126891415&4294967295,M=I+(P<<10&4294967295|P>>>22),P=D+(I^(M|~S))+N[14]+2878612391&4294967295,D=M+(P<<15&4294967295|P>>>17),P=S+(M^(D|~I))+N[5]+4237533241&4294967295,S=D+(P<<21&4294967295|P>>>11),P=I+(D^(S|~M))+N[12]+1700485571&4294967295,I=S+(P<<6&4294967295|P>>>26),P=M+(S^(I|~D))+N[3]+2399980690&4294967295,M=I+(P<<10&4294967295|P>>>22),P=D+(I^(M|~S))+N[10]+4293915773&4294967295,D=M+(P<<15&4294967295|P>>>17),P=S+(M^(D|~I))+N[1]+2240044497&4294967295,S=D+(P<<21&4294967295|P>>>11),P=I+(D^(S|~M))+N[8]+1873313359&4294967295,I=S+(P<<6&4294967295|P>>>26),P=M+(S^(I|~D))+N[15]+4264355552&4294967295,M=I+(P<<10&4294967295|P>>>22),P=D+(I^(M|~S))+N[6]+2734768916&4294967295,D=M+(P<<15&4294967295|P>>>17),P=S+(M^(D|~I))+N[13]+1309151649&4294967295,S=D+(P<<21&4294967295|P>>>11),P=I+(D^(S|~M))+N[4]+4149444226&4294967295,I=S+(P<<6&4294967295|P>>>26),P=M+(S^(I|~D))+N[11]+3174756917&4294967295,M=I+(P<<10&4294967295|P>>>22),P=D+(I^(M|~S))+N[2]+718787259&4294967295,D=M+(P<<15&4294967295|P>>>17),P=S+(M^(D|~I))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+M&4294967295}s.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var S=I-this.blockSize,N=this.B,D=this.h,M=0;M<I;){if(D==0)for(;M<=S;)r(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<I;)if(N[D++]=O.charCodeAt(M++),D==this.blockSize){r(this,N),D=0;break}}else for(;M<I;)if(N[D++]=O[M++],D==this.blockSize){r(this,N),D=0;break}}this.h=D,this.o+=I},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var S=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=S&255,S/=256;for(this.u(O),O=Array(16),I=S=0;4>I;++I)for(var N=0;32>N;N+=8)O[S++]=this.g[I]>>>N&255;return O};function i(O,I){var S=l;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=I(O)}function o(O,I){this.h=I;for(var S=[],N=!0,D=O.length-1;0<=D;D--){var M=O[D]|0;N&&M==I||(S[D]=M,N=!1)}this.g=S}var l={};function u(O){return-128<=O&&128>O?i(O,function(I){return new o([I|0],0>I?-1:0)}):new o([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return m;if(0>O)return A(h(-O));for(var I=[],S=1,N=0;O>=S;N++)I[N]=O/S|0,S*=4294967296;return new o(I,0)}function d(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return A(d(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=h(Math.pow(I,8)),N=m,D=0;D<O.length;D+=8){var M=Math.min(8,O.length-D),P=parseInt(O.substring(D,D+M),I);8>M?(M=h(Math.pow(I,M)),N=N.j(M).add(h(P))):(N=N.j(S),N=N.add(h(P)))}return N}var m=u(0),_=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-A(this).m();for(var O=0,I=1,S=0;S<this.g.length;S++){var N=this.i(S);O+=(0<=N?N:4294967296+N)*I,I*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(T(this))return"0";if(b(this))return"-"+A(this).toString(O);for(var I=h(Math.pow(O,6)),S=this,N="";;){var D=L(S,I).g;S=x(S,D.j(I));var M=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=D,T(S))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function T(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function b(O){return O.h==-1}t.l=function(O){return O=x(this,O),b(O)?-1:T(O)?0:1};function A(O){for(var I=O.g.length,S=[],N=0;N<I;N++)S[N]=~O.g[N];return new o(S,~O.h).add(_)}t.abs=function(){return b(this)?A(this):this},t.add=function(O){for(var I=Math.max(this.g.length,O.g.length),S=[],N=0,D=0;D<=I;D++){var M=N+(this.i(D)&65535)+(O.i(D)&65535),P=(M>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);N=P>>>16,M&=65535,P&=65535,S[D]=P<<16|M}return new o(S,S[S.length-1]&-2147483648?-1:0)};function x(O,I){return O.add(A(I))}t.j=function(O){if(T(this)||T(O))return m;if(b(this))return b(O)?A(this).j(A(O)):A(A(this).j(O));if(b(O))return A(this.j(A(O)));if(0>this.l(v)&&0>O.l(v))return h(this.m()*O.m());for(var I=this.g.length+O.g.length,S=[],N=0;N<2*I;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<O.g.length;D++){var M=this.i(N)>>>16,P=this.i(N)&65535,ft=O.i(D)>>>16,qt=O.i(D)&65535;S[2*N+2*D]+=P*qt,$(S,2*N+2*D),S[2*N+2*D+1]+=M*qt,$(S,2*N+2*D+1),S[2*N+2*D+1]+=P*ft,$(S,2*N+2*D+1),S[2*N+2*D+2]+=M*ft,$(S,2*N+2*D+2)}for(N=0;N<I;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=I;N<2*I;N++)S[N]=0;return new o(S,0)};function $(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function B(O,I){this.g=O,this.h=I}function L(O,I){if(T(I))throw Error("division by zero");if(T(O))return new B(m,m);if(b(O))return I=L(A(O),I),new B(A(I.g),A(I.h));if(b(I))return I=L(O,A(I)),new B(A(I.g),I.h);if(30<O.g.length){if(b(O)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var S=_,N=I;0>=N.l(O);)S=Y(S),N=Y(N);var D=Se(S,1),M=Se(N,1);for(N=Se(N,2),S=Se(S,2);!T(N);){var P=M.add(N);0>=P.l(O)&&(D=D.add(S),M=P),N=Se(N,1),S=Se(S,1)}return I=x(O,D.j(I)),new B(D,I)}for(D=m;0<=O.l(I);){for(S=Math.max(1,Math.floor(O.m()/I.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=h(S),P=M.j(I);b(P)||0<P.l(O);)S-=N,M=h(S),P=M.j(I);T(M)&&(M=_),D=D.add(M),O=x(O,P)}return new B(D,O)}t.A=function(O){return L(this,O).h},t.and=function(O){for(var I=Math.max(this.g.length,O.g.length),S=[],N=0;N<I;N++)S[N]=this.i(N)&O.i(N);return new o(S,this.h&O.h)},t.or=function(O){for(var I=Math.max(this.g.length,O.g.length),S=[],N=0;N<I;N++)S[N]=this.i(N)|O.i(N);return new o(S,this.h|O.h)},t.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),S=[],N=0;N<I;N++)S[N]=this.i(N)^O.i(N);return new o(S,this.h^O.h)};function Y(O){for(var I=O.g.length+1,S=[],N=0;N<I;N++)S[N]=O.i(N)<<1|O.i(N-1)>>>31;return new o(S,O.h)}function Se(O,I){var S=I>>5;I%=32;for(var N=O.g.length-S,D=[],M=0;M<N;M++)D[M]=0<I?O.i(M+S)>>>I|O.i(M+S+1)<<32-I:O.i(M+S);return new o(D,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,VE=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,ri=o}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LE,ol,ME,Zc,lf,FE,UE,$E;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,g){return a==Array.prototype||a==Object.prototype||(a[f]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var f=0;f<a.length;++f){var g=a[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function r(a,f){if(f)e:{var g=s;a=a.split(".");for(var E=0;E<a.length-1;E++){var j=a[E];if(!(j in g))break e;g=g[j]}a=a[a.length-1],E=g[a],f=f(E),f!=E&&f!=null&&e(g,a,{configurable:!0,writable:!0,value:f})}}function i(a,f){a instanceof String&&(a+="");var g=0,E=!1,j={next:function(){if(!E&&g<a.length){var H=g++;return{value:f(H,a[H]),done:!1}}return E=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}r("Array.prototype.values",function(a){return a||function(){return i(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function h(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function d(a,f,g){return a.call.apply(a.bind,arguments)}function m(a,f,g){if(!a)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,E),a.apply(f,j)}}return function(){return a.apply(f,arguments)}}function _(a,f,g){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,_.apply(null,arguments)}function v(a,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function T(a,f){function g(){}g.prototype=f.prototype,a.aa=f.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(E,j,H){for(var ae=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ae[ut-2]=arguments[ut];return f.prototype[j].apply(E,ae)}}function b(a){const f=a.length;if(0<f){const g=Array(f);for(let E=0;E<f;E++)g[E]=a[E];return g}return[]}function A(a,f){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(u(E)){const j=a.length||0,H=E.length||0;a.length=j+H;for(let ae=0;ae<H;ae++)a[j+ae]=E[ae]}else a.push(E)}}class x{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function $(a){return/^[\s\xa0]*$/.test(a)}function B(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function L(a){return L[" "](a),a}L[" "]=function(){};var Y=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Se(a,f,g){for(const E in a)f.call(g,a[E],E,a)}function O(a,f){for(const g in a)f.call(void 0,a[g],g,a)}function I(a){const f={};for(const g in a)f[g]=a[g];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(a,f){let g,E;for(let j=1;j<arguments.length;j++){E=arguments[j];for(g in E)a[g]=E[g];for(let H=0;H<S.length;H++)g=S[H],Object.prototype.hasOwnProperty.call(E,g)&&(a[g]=E[g])}}function D(a){var f=1;a=a.split(":");const g=[];for(;0<f&&a.length;)g.push(a.shift()),f--;return a.length&&g.push(a.join(":")),g}function M(a){l.setTimeout(()=>{throw a},0)}function P(){var a=en;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class ft{constructor(){this.h=this.g=null}add(f,g){const E=qt.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var qt=new x(()=>new je,a=>a.reset());class je{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,Re=!1,en=new ft,vn=()=>{const a=l.Promise.resolve(void 0);Te=()=>{a.then(G)}};var G=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(g){M(g)}var f=qt;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}Re=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var cn=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};l.addEventListener("test",g,f),l.removeEventListener("test",g,f)}catch{}return a})();function Rt(a,f){if(ot.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(Y){e:{try{L(f.nodeName);var j=!0;break e}catch{}j=!1}j||(f=null)}}else g=="mouseover"?f=a.fromElement:g=="mouseout"&&(f=a.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ht[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Rt.aa.h.call(this)}}T(Rt,ot);var Ht={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),he=0;function K(a,f,g,E,j){this.listener=a,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=j,this.key=++he,this.da=this.fa=!1}function me(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ye(a){this.src=a,this.g={},this.h=0}Ye.prototype.add=function(a,f,g,E,j){var H=a.toString();a=this.g[H],a||(a=this.g[H]=[],this.h++);var ae=k(a,f,E,j);return-1<ae?(f=a[ae],g||(f.fa=!1)):(f=new K(f,this.src,H,!!E,j),f.fa=g,a.push(f)),f};function C(a,f){var g=f.type;if(g in a.g){var E=a.g[g],j=Array.prototype.indexOf.call(E,f,void 0),H;(H=0<=j)&&Array.prototype.splice.call(E,j,1),H&&(me(f),a.g[g].length==0&&(delete a.g[g],a.h--))}}function k(a,f,g,E){for(var j=0;j<a.length;++j){var H=a[j];if(!H.da&&H.listener==f&&H.capture==!!g&&H.ha==E)return j}return-1}var U="closure_lm_"+(1e6*Math.random()|0),J={};function Z(a,f,g,E,j){if(Array.isArray(f)){for(var H=0;H<f.length;H++)Z(a,f[H],g,E,j);return null}return g=Ie(g),a&&a[W]?a.K(f,g,h(E)?!!E.capture:!1,j):Q(a,f,g,!1,E,j)}function Q(a,f,g,E,j,H){if(!f)throw Error("Invalid event type");var ae=h(j)?!!j.capture:!!j,ut=ue(a);if(ut||(a[U]=ut=new Ye(a)),g=ut.add(f,g,E,ae,H),g.proxy)return g;if(E=ce(),g.proxy=E,E.src=a,E.listener=g,a.addEventListener)cn||(j=ae),j===void 0&&(j=!1),a.addEventListener(f.toString(),E,j);else if(a.attachEvent)a.attachEvent(ne(f.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ce(){function a(g){return f.call(a.src,a.listener,g)}const f=be;return a}function oe(a,f,g,E,j){if(Array.isArray(f))for(var H=0;H<f.length;H++)oe(a,f[H],g,E,j);else E=h(E)?!!E.capture:!!E,g=Ie(g),a&&a[W]?(a=a.i,f=String(f).toString(),f in a.g&&(H=a.g[f],g=k(H,g,E,j),-1<g&&(me(H[g]),Array.prototype.splice.call(H,g,1),H.length==0&&(delete a.g[f],a.h--)))):a&&(a=ue(a))&&(f=a.g[f.toString()],a=-1,f&&(a=k(f,g,E,j)),(g=-1<a?f[a]:null)&&ie(g))}function ie(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[W])C(f.i,a);else{var g=a.type,E=a.proxy;f.removeEventListener?f.removeEventListener(g,E,a.capture):f.detachEvent?f.detachEvent(ne(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=ue(f))?(C(g,a),g.h==0&&(g.src=null,f[U]=null)):me(a)}}}function ne(a){return a in J?J[a]:J[a]="on"+a}function be(a,f){if(a.da)a=!0;else{f=new Rt(f,this);var g=a.listener,E=a.ha||a.src;a.fa&&ie(a),a=g.call(E,f)}return a}function ue(a){return a=a[U],a instanceof Ye?a:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(a){return typeof a=="function"?a:(a[we]||(a[we]=function(f){return a.handleEvent(f)}),a[we])}function ve(){et.call(this),this.i=new Ye(this),this.M=this,this.F=null}T(ve,et),ve.prototype[W]=!0,ve.prototype.removeEventListener=function(a,f,g,E){oe(this,a,f,g,E)};function xe(a,f){var g,E=a.F;if(E)for(g=[];E;E=E.F)g.push(E);if(a=a.M,E=f.type||f,typeof f=="string")f=new ot(f,a);else if(f instanceof ot)f.target=f.target||a;else{var j=f;f=new ot(E,a),N(f,j)}if(j=!0,g)for(var H=g.length-1;0<=H;H--){var ae=f.g=g[H];j=We(ae,E,!0,f)&&j}if(ae=f.g=a,j=We(ae,E,!0,f)&&j,j=We(ae,E,!1,f)&&j,g)for(H=0;H<g.length;H++)ae=f.g=g[H],j=We(ae,E,!1,f)&&j}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var g=a.g[f],E=0;E<g.length;E++)me(g[E]);delete a.g[f],a.h--}}this.F=null},ve.prototype.K=function(a,f,g,E){return this.i.add(String(a),f,!1,g,E)},ve.prototype.L=function(a,f,g,E){return this.i.add(String(a),f,!0,g,E)};function We(a,f,g,E){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var j=!0,H=0;H<f.length;++H){var ae=f[H];if(ae&&!ae.da&&ae.capture==g){var ut=ae.listener,Yt=ae.ha||ae.src;ae.fa&&C(a.i,ae),j=ut.call(Yt,E)!==!1&&j}}return j&&!E.defaultPrevented}function Qt(a,f,g){if(typeof a=="function")g&&(a=_(a,g));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function Ct(a){a.g=Qt(()=>{a.g=null,a.i&&(a.i=!1,Ct(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Jt extends et{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ct(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pt(a){et.call(this),this.h=a,this.g={}}T(Pt,et);var qn=[];function yi(a){Se(a.g,function(f,g){this.g.hasOwnProperty(g)&&ie(f)},a),a.g={}}Pt.prototype.N=function(){Pt.aa.N.call(this),yi(this)},Pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=l.JSON.stringify,Ln=l.JSON.parse,mo=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function br(){}br.prototype.h=null;function cc(a){return a.h||(a.h=a.i())}function uc(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function go(){ot.call(this,"d")}T(go,ot);function Tr(){ot.call(this,"c")}T(Tr,ot);var Ss={},Ta=null;function _o(){return Ta=Ta||new ve}Ss.La="serverreachability";function hc(a){ot.call(this,Ss.La,a)}T(hc,ot);function wi(a){const f=_o();xe(f,new hc(f))}Ss.STAT_EVENT="statevent";function dc(a,f){ot.call(this,Ss.STAT_EVENT,a),this.stat=f}T(dc,ot);function xt(a){const f=_o();xe(f,new dc(f,a))}Ss.Ma="timingevent";function Ir(a,f){ot.call(this,Ss.Ma,a),this.size=f}T(Ir,ot);function Ei(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function bi(){this.g=!0}bi.prototype.xa=function(){this.g=!1};function Mh(a,f,g,E,j,H){a.info(function(){if(a.g)if(H)for(var ae="",ut=H.split("&"),Yt=0;Yt<ut.length;Yt++){var tt=ut[Yt].split("=");if(1<tt.length){var sn=tt[0];tt=tt[1];var rn=sn.split("_");ae=2<=rn.length&&rn[1]=="type"?ae+(sn+"="+tt+"&"):ae+(sn+"=redacted&")}}else ae=null;else ae=H;return"XMLHTTP REQ ("+E+") [attempt "+j+"]: "+f+`
`+g+`
`+ae})}function Fh(a,f,g,E,j,H,ae){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+j+"]: "+f+`
`+g+`
`+H+" "+ae})}function Ar(a,f,g,E){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+Sr(a,g)+(E?" "+E:"")})}function Ia(a,f){a.info(function(){return"TIMEOUT: "+f})}bi.prototype.info=function(){};function Sr(a,f){if(!a.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var E=g[a];if(!(2>E.length)){var j=E[1];if(Array.isArray(j)&&!(1>j.length)){var H=j[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return Vt(g)}catch{return f}}var Gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ti;function yo(){}T(yo,br),yo.prototype.g=function(){return new XMLHttpRequest},yo.prototype.i=function(){return{}},Ti=new yo;function Rs(a,f,g,E){this.j=a,this.i=f,this.l=g,this.R=E||1,this.U=new Pt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qs}function Qs(){this.i=null,this.g="",this.h=!1}var tn={},un={};function hn(a,f,g){a.L=1,a.v=es(dn(f)),a.m=g,a.P=!0,nn(a,null)}function nn(a,f){a.F=Date.now(),Xn(a),a.A=dn(a.v);var g=a.A,E=a.R;Array.isArray(E)||(E=[String(E)]),kr(g.i,"t",E),a.C=0,g=a.j.J,a.h=new Qs,a.g=Ga(a.j,g?f:null,!a.m),0<a.O&&(a.M=new Jt(_(a.Y,a,a.g),a.O)),f=a.U,g=a.g,E=a.ca;var j="readystatechange";Array.isArray(j)||(j&&(qn[0]=j.toString()),j=qn);for(var H=0;H<j.length;H++){var ae=Z(g,j[H],E||f.handleEvent,!1,f.h||f);if(!ae)break;f.g[ae.key]=ae}f=a.H?I(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),wi(),Mh(a.i,a.u,a.A,a.l,a.R,a.m)}Rs.prototype.ca=function(a){a=a.target;const f=this.M;f&&ns(a)==3?f.j():this.Y(a)},Rs.prototype.Y=function(a){try{if(a==this.g)e:{const rn=ns(this.g);var f=this.g.Ba();const Ur=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Zs(this.g)))){this.J||rn!=4||f==7||(f==8||0>=Ur?wi(3):wi(2)),vo(this);var g=this.g.Z();this.X=g;t:if(Ii(this)){var E=Zs(this.g);a="";var j=E.length,H=ns(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Ys(this);var ae="";break t}this.h.i=new l.TextDecoder}for(f=0;f<j;f++)this.h.h=!0,a+=this.h.i.decode(E[f],{stream:!(H&&f==j-1)});E.length=0,this.h.g+=a,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=g==200,Fh(this.i,this.u,this.A,this.l,this.R,rn,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Yt=this.g;if((ut=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ut)){var tt=ut;break t}}tt=null}if(g=tt)Ar(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wo(this,g);else{this.o=!1,this.s=3,xt(12),Mn(this),Ys(this);break e}}if(this.P){g=!0;let kt;for(;!this.J&&this.C<ae.length;)if(kt=Rr(this,ae),kt==un){rn==4&&(this.s=4,xt(14),g=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==tn){this.s=4,xt(15),Ar(this.i,this.l,ae,"[Invalid Chunk]"),g=!1;break}else Ar(this.i,this.l,kt,null),wo(this,kt);if(Ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||ae.length!=0||this.h.h||(this.s=1,xt(16),g=!1),this.o=this.o&&g,!g)Ar(this.i,this.l,ae,"[Invalid Chunked Response]"),Mn(this),Ys(this);else if(0<ae.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),za(sn),sn.M=!0,xt(11))}}else Ar(this.i,this.l,ae,null),wo(this,ae);rn==4&&Mn(this),this.o&&!this.J&&(rn==4?Wa(this.j,this):(this.o=!1,Xn(this)))}else $h(this.g),g==400&&0<ae.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Mn(this),Ys(this)}}}catch{}finally{}};function Ii(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Rr(a,f){var g=a.C,E=f.indexOf(`
`,g);return E==-1?un:(g=Number(f.substring(g,E)),isNaN(g)?tn:(E+=1,E+g>f.length?un:(f=f.slice(E,E+g),a.C=E+g,f)))}Rs.prototype.cancel=function(){this.J=!0,Mn(this)};function Xn(a){a.S=Date.now()+a.I,Js(a,a.I)}function Js(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ei(_(a.ba,a),f)}function vo(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Rs.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ia(this.i,this.A),this.L!=2&&(wi(),xt(17)),Mn(this),this.s=2,Ys(this)):Js(this,this.S-a)};function Ys(a){a.j.G==0||a.J||Wa(a.j,a)}function Mn(a){vo(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,yi(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function wo(a,f){try{var g=a.j;if(g.G!=0&&(g.g==a||bo(g.h,a))){if(!a.K&&bo(g.h,a)&&g.G==3){try{var E=g.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var j=E;if(j[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)Fr(g),xi(g);else break e;Mr(g),xt(18)}}else g.za=j[1],0<g.za-g.T&&37500>j[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ei(_(g.Za,g),6e3));if(1>=Ra(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else kn(g,11)}else if((a.K||g.g==a)&&Fr(g),!$(f))for(j=g.Da.g.parse(f),f=0;f<j.length;f++){let tt=j[f];if(g.T=tt[0],tt=tt[1],g.G==2)if(tt[0]=="c"){g.K=tt[1],g.ia=tt[2];const sn=tt[3];sn!=null&&(g.la=sn,g.j.info("VER="+g.la));const rn=tt[4];rn!=null&&(g.Aa=rn,g.j.info("SVER="+g.Aa));const Ur=tt[5];Ur!=null&&typeof Ur=="number"&&0<Ur&&(E=1.5*Ur,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const kt=a.g;if(kt){const Di=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Di){var H=E.h;H.g||Di.indexOf("spdy")==-1&&Di.indexOf("quic")==-1&&Di.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(To(H,H.h),H.h=null))}if(E.D){const Po=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(E.ya=Po,Ke(E.I,E.D,Po))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var ae=a;if(E.qa=bc(E,E.J?E.ia:null,E.W),ae.K){Ca(E.h,ae);var ut=ae,Yt=E.L;Yt&&(ut.I=Yt),ut.B&&(vo(ut),Xn(ut)),E.g=ae}else Ha(E);0<g.i.length&&Lr(g)}else tt[0]!="stop"&&tt[0]!="close"||kn(g,7);else g.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?kn(g,7):So(g):tt[0]!="noop"&&g.l&&g.l.ta(tt),g.v=0)}}wi(4)}catch{}}var Aa=class{constructor(a,f){this.g=a,this.map=f}};function Eo(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ra(a){return a.h?1:a.g?a.g.size:0}function bo(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function To(a,f){a.g?a.g.add(f):a.h=f}function Ca(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Eo.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Pa(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const g of a.g.values())f=f.concat(g.D);return f}return b(a.i)}function pc(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var f=[],g=a.length,E=0;E<g;E++)f.push(a[E]);return f}f=[],g=0;for(E in a)f[g++]=a[E];return f}function mc(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var f=[];a=a.length;for(var g=0;g<a;g++)f.push(g);return f}f=[],g=0;for(const E in a)f[g++]=E;return f}}}function ka(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var g=mc(a),E=pc(a),j=E.length,H=0;H<j;H++)f.call(void 0,E[H],g&&g[H],a)}var Oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zn(a,f){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var E=a[g].indexOf("="),j=null;if(0<=E){var H=a[g].substring(0,E);j=a[g].substring(E+1)}else H=a[g];f(H,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Lt(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Lt){this.h=a.h,fn(this,a.j),this.o=a.o,this.g=a.g,Cr(this,a.s),this.l=a.l;var f=a.i,g=new Ai;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Io(this,g),this.m=a.m}else a&&(f=String(a).match(Oa))?(this.h=!1,fn(this,f[1]||"",!0),this.o=Cs(f[2]||""),this.g=Cs(f[3]||"",!0),Cr(this,f[4]),this.l=Cs(f[5]||"",!0),Io(this,f[6]||"",!0),this.m=Cs(f[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}Lt.prototype.toString=function(){var a=[],f=this.j;f&&a.push(ts(f,Na,!0),":");var g=this.g;return(g||f=="file")&&(a.push("//"),(f=this.o)&&a.push(ts(f,Na,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(ts(g,g.charAt(0)=="/"?Da:Pr,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",ts(g,ps)),a.join("")};function dn(a){return new Lt(a)}function fn(a,f,g){a.j=g?Cs(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Cr(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Io(a,f,g){f instanceof Ai?(a.i=f,Ri(a.i,a.h)):(g||(f=ts(f,gc)),a.i=new Ai(f,a.h))}function Ke(a,f,g){a.i.set(f,g)}function es(a){return Ke(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Cs(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ts(a,f,g){return typeof a=="string"?(a=encodeURI(a).replace(f,xa),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function xa(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Na=/[#\/\?@]/g,Pr=/[#\?:]/g,Da=/[#\?]/g,gc=/[#\?@]/g,ps=/#/g;function Ai(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function pn(a){a.g||(a.g=new Map,a.h=0,a.i&&Zn(a.i,function(f,g){a.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Ai.prototype,t.add=function(a,f){pn(this),this.i=null,a=Ps(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(f),this.h+=1,this};function Si(a,f){pn(a),f=Ps(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Va(a,f){return pn(a),f=Ps(a,f),a.g.has(f)}t.forEach=function(a,f){pn(this),this.g.forEach(function(g,E){g.forEach(function(j){a.call(f,j,E,this)},this)},this)},t.na=function(){pn(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let E=0;E<f.length;E++){const j=a[E];for(let H=0;H<j.length;H++)g.push(f[E])}return g},t.V=function(a){pn(this);let f=[];if(typeof a=="string")Va(this,a)&&(f=f.concat(this.g.get(Ps(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)f=f.concat(a[g])}return f},t.set=function(a,f){return pn(this),this.i=null,a=Ps(this,a),Va(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function kr(a,f,g){Si(a,f),0<g.length&&(a.i=null,a.g.set(Ps(a,f),b(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var E=f[g];const H=encodeURIComponent(String(E)),ae=this.V(E);for(E=0;E<ae.length;E++){var j=H;ae[E]!==""&&(j+="="+encodeURIComponent(String(ae[E]))),a.push(j)}}return this.i=a.join("&")};function Ps(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Ri(a,f){f&&!a.j&&(pn(a),a.i=null,a.g.forEach(function(g,E){var j=E.toLowerCase();E!=j&&(Si(this,E),kr(this,j,g))},a)),a.j=f}function _c(a,f){const g=new bi;if(l.Image){const E=new Image;E.onload=v(ms,g,"TestLoadImage: loaded",!0,f,E),E.onerror=v(ms,g,"TestLoadImage: error",!1,f,E),E.onabort=v(ms,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=v(ms,g,"TestLoadImage: timeout",!1,f,E),l.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else f(!1)}function yc(a,f){const g=new bi,E=new AbortController,j=setTimeout(()=>{E.abort(),ms(g,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:E.signal}).then(H=>{clearTimeout(j),H.ok?ms(g,"TestPingServer: ok",!0,f):ms(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(j),ms(g,"TestPingServer: error",!1,f)})}function ms(a,f,g,E,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),E(g)}catch{}}function Or(){this.g=new mo}function Uh(a,f,g){const E=g||"";try{ka(a,function(j,H){let ae=j;h(j)&&(ae=Vt(j)),f.push(E+H+"="+encodeURIComponent(ae))})}catch(j){throw f.push(E+"type="+encodeURIComponent("_badmap")),j}}function Ci(a){this.l=a.Ub||null,this.j=a.eb||!1}T(Ci,br),Ci.prototype.g=function(){return new xr(this.l,this.j)},Ci.prototype.i=(function(a){return function(){return a}})({});function xr(a,f){ve.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(xr,ve),t=xr.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,ki(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pi(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pi(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Xs(this):ki(this),this.readyState==3&&Pi(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Xs(this))},t.Qa=function(a){this.g&&(this.response=a,Xs(this))},t.ga=function(){this.g&&Xs(this)};function Xs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ki(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=f.next();return a.join(`\r
`)};function ki(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Oi(a){let f="";return Se(a,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function La(a,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=Oi(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):Ke(a,f,g))}function It(a){ve.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(It,ve);var Ma=/^https?$/i,Fa=["POST","PUT"];t=It.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ti.g(),this.v=this.o?cc(this.o):cc(Ti),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(H){Ao(this,H);return}if(a=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var j in E)g.set(j,E[j]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const H of E.keys())g.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(H=>H.toLowerCase()=="content-type"),j=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Fa,f,void 0))||E||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ae]of g)this.g.setRequestHeader(H,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$a(this),this.u=!0,this.g.send(a),this.u=!1}catch(H){Ao(this,H)}};function Ao(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Ua(a),Dr(a)}function Ua(a){a.A||(a.A=!0,xe(a,"complete"),xe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,xe(this,"complete"),xe(this,"abort"),Dr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nr(this):this.bb())},t.bb=function(){Nr(this)};function Nr(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ns(a)!=4||a.Z()!=2)){if(a.u&&ns(a)==4)Qt(a.Ea,0,a);else if(xe(a,"readystatechange"),ns(a)==4){a.h=!1;try{const ae=a.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=ae===0){var j=String(a.D).match(Oa)[1]||null;!j&&l.self&&l.self.location&&(j=l.self.location.protocol.slice(0,-1)),E=!Ma.test(j?j.toLowerCase():"")}g=E}if(g)xe(a,"complete"),xe(a,"success");else{a.m=6;try{var H=2<ns(a)?a.g.statusText:""}catch{H=""}a.l=H+" ["+a.Z()+"]",Ua(a)}}finally{Dr(a)}}}}function Dr(a,f){if(a.g){$a(a);const g=a.g,E=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||xe(a,"ready");try{g.onreadystatechange=E}catch{}}}function $a(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ns(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ns(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Ln(f)}};function Zs(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function $h(a){const f={};a=(a.g&&2<=ns(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if($(a[E]))continue;var g=D(a[E]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const H=f[j]||[];f[j]=H,H.push(g)}O(f,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vr(a,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||f}function ja(a){this.Aa=0,this.i=[],this.j=new bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vr("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vr("baseRetryDelayMs",5e3,a),this.cb=Vr("retryDelaySeedMs",1e4,a),this.Wa=Vr("forwardChannelMaxRetries",2,a),this.wa=Vr("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Eo(a&&a.concurrentRequestLimit),this.Da=new Or,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ja.prototype,t.la=8,t.G=1,t.connect=function(a,f,g,E){xt(0),this.W=a,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=bc(this,null,this.W),Lr(this)};function So(a){if(Ba(a),a.G==3){var f=a.U++,g=dn(a.I);if(Ke(g,"SID",a.K),Ke(g,"RID",f),Ke(g,"TYPE","terminate"),Ni(a,g),f=new Rs(a,a.j,f),f.L=2,f.v=es(dn(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=f.v,g=!0),g||(f.g=Ga(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Xn(f)}Ro(a)}function xi(a){a.g&&(za(a),a.g.cancel(),a.g=null)}function Ba(a){xi(a),a.u&&(l.clearTimeout(a.u),a.u=null),Fr(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Lr(a){if(!Sa(a.h)&&!a.s){a.s=!0;var f=a.Ga;Te||vn(),Re||(Te(),Re=!0),en.add(f,a),a.B=0}}function vc(a,f){return Ra(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ei(_(a.Ga,a,f),Ka(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const j=new Rs(this,this.j,a);let H=this.o;if(this.S&&(H?(H=I(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(j.H=H,H=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=qa(this,j,f),g=dn(this.I),Ke(g,"RID",a),Ke(g,"CVER",22),this.D&&Ke(g,"X-HTTP-Session-Id",this.D),Ni(this,g),H&&(this.O?f="headers="+encodeURIComponent(String(Oi(H)))+"&"+f:this.m&&La(g,this.m,H)),To(this.h,j),this.Ua&&Ke(g,"TYPE","init"),this.P?(Ke(g,"$req",f),Ke(g,"SID","null"),j.T=!0,hn(j,g,null)):hn(j,g,f),this.G=2}}else this.G==3&&(a?wc(this,a):this.i.length==0||Sa(this.h)||wc(this))};function wc(a,f){var g;f?g=f.l:g=a.U++;const E=dn(a.I);Ke(E,"SID",a.K),Ke(E,"RID",g),Ke(E,"AID",a.T),Ni(a,E),a.m&&a.o&&La(E,a.m,a.o),g=new Rs(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),f&&(a.i=f.D.concat(a.i)),f=qa(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),To(a.h,g),hn(g,E,f)}function Ni(a,f){a.H&&Se(a.H,function(g,E){Ke(f,E,g)}),a.l&&ka({},function(g,E){Ke(f,E,g)})}function qa(a,f,g){g=Math.min(a.i.length,g);var E=a.l?_(a.l.Na,a.l,a):null;e:{var j=a.i;let H=-1;for(;;){const ae=["count="+g];H==-1?0<g?(H=j[0].g,ae.push("ofs="+H)):H=0:ae.push("ofs="+H);let ut=!0;for(let Yt=0;Yt<g;Yt++){let tt=j[Yt].g;const sn=j[Yt].map;if(tt-=H,0>tt)H=Math.max(0,j[Yt].g-100),ut=!1;else try{Uh(sn,ae,"req"+tt+"_")}catch{E&&E(sn)}}if(ut){E=ae.join("&");break e}}}return a=a.i.splice(0,g),f.D=a,E}function Ha(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;Te||vn(),Re||(Te(),Re=!0),en.add(f,a),a.v=0}}function Mr(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ei(_(a.Fa,a),Ka(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ei(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),xi(this),Ec(this))};function za(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Ec(a){a.g=new Rs(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=dn(a.qa);Ke(f,"RID","rpc"),Ke(f,"SID",a.K),Ke(f,"AID",a.T),Ke(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ke(f,"TO",a.ja),Ke(f,"TYPE","xmlhttp"),Ni(a,f),a.m&&a.o&&La(f,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=es(dn(f)),g.m=null,g.P=!0,nn(g,a)}t.Za=function(){this.C!=null&&(this.C=null,xi(this),Mr(this),xt(19))};function Fr(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Wa(a,f){var g=null;if(a.g==f){Fr(a),za(a),a.g=null;var E=2}else if(bo(a.h,f))g=f.D,Ca(a.h,f),E=1;else return;if(a.G!=0){if(f.o)if(E==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var j=a.B;E=_o(),xe(E,new Ir(E,g)),Lr(a)}else Ha(a);else if(j=f.s,j==3||j==0&&0<f.X||!(E==1&&vc(a,f)||E==2&&Mr(a)))switch(g&&0<g.length&&(f=a.h,f.i=f.i.concat(g)),j){case 1:kn(a,5);break;case 4:kn(a,10);break;case 3:kn(a,6);break;default:kn(a,2)}}}function Ka(a,f){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*f}function kn(a,f){if(a.j.info("Error code "+f),f==2){var g=_(a.fb,a),E=a.Xa;const j=!E;E=new Lt(E||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||fn(E,"https"),es(E),j?_c(E.toString(),g):yc(E.toString(),g)}else xt(2);a.G=0,a.l&&a.l.sa(f),Ro(a),Ba(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Ro(a){if(a.G=0,a.ka=[],a.l){const f=Pa(a.h);(f.length!=0||a.i.length!=0)&&(A(a.ka,f),A(a.ka,a.i),a.h.i.length=0,b(a.i),a.i.length=0),a.l.ra()}}function bc(a,f,g){var E=g instanceof Lt?dn(g):new Lt(g);if(E.g!="")f&&(E.g=f+"."+E.g),Cr(E,E.s);else{var j=l.location;E=j.protocol,f=f?f+"."+j.hostname:j.hostname,j=+j.port;var H=new Lt(null);E&&fn(H,E),f&&(H.g=f),j&&Cr(H,j),g&&(H.l=g),E=H}return g=a.D,f=a.ya,g&&f&&Ke(E,g,f),Ke(E,"VER",a.la),Ni(a,E),E}function Ga(a,f,g){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new It(new Ci({eb:g})):new It(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}t=Tc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Co(){}Co.prototype.g=function(a,f){return new On(a,f)};function On(a,f){ve.call(this),this.g=new ja(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!$(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!$(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new er(this)}T(On,ve),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){So(this.g)},On.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=Vt(a),a=g);f.i.push(new Aa(f.Ya++,a)),f.G==3&&Lr(f)},On.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,On.aa.N.call(this)};function Ic(a){go.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const g in f){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}T(Ic,go);function Qa(){Tr.call(this),this.status=1}T(Qa,Tr);function er(a){this.g=a}T(er,Tc),er.prototype.ua=function(){xe(this.g,"a")},er.prototype.ta=function(a){xe(this.g,new Ic(a))},er.prototype.sa=function(a){xe(this.g,new Qa)},er.prototype.ra=function(){xe(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,$E=function(){return new Co},UE=function(){return _o()},FE=Ss,lf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,Zc=Gs,fc.COMPLETE="complete",ME=fc,uc.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",ve.prototype.listen=ve.prototype.K,ol=uc,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,LE=It}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",R_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new ih("@firebase/firestore");function Lo(){return so.logLevel}function pe(t,...e){if(so.logLevel<=Ge.DEBUG){const n=e.map(mp);so.debug(`Firestore (${ma}): ${t}`,...n)}}function yr(t,...e){if(so.logLevel<=Ge.ERROR){const n=e.map(mp);so.error(`Firestore (${ma}): ${t}`,...n)}}function na(t,...e){if(so.logLevel<=Ge.WARN){const n=e.map(mp);so.warn(`Firestore (${ma}): ${t}`,...n)}}function mp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,jE(t,s,n)}function jE(t,e,n){let s=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yr(s),new Error(s)}function ct(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||jE(e,r,s)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ox{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(bn.UNAUTHENTICATED)))}shutdown(){}}class ax{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lx{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new dr,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await r(this.currentUser)}))},l=u=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new dr)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ct(typeof s.accessToken=="string",31837,{l:s}),new BE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class cx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ux{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new cx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,as(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const s=i=>{i.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>s(i)))};const r=i=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>r(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=dx(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Qe(t,e){return t<e?-1:t>e?1:0}function cf(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return Ad(r)===Ad(i)?Qe(r,i):Ad(r)?1:-1}return Qe(t.length,e.length)}const fx=55296,px=57343;function Ad(t){const e=t.charCodeAt(0);return e>=fx&&e<=px}function sa(t,e,n){return t.length===e.length&&t.every(((s,r)=>n(s,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="__name__";class Vs{constructor(e,n,s){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ke(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Vs.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Qe(e.length,n.length)}static compareSegments(e,n){const s=Vs.isNumericId(e),r=Vs.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Vs.extractNumericId(e).compare(Vs.extractNumericId(n)):cf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ri.fromString(e.substring(4,e.length-2))}}class bt extends Vs{construct(e,n,s){return new bt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((r=>r.length>0)))}return new bt(n)}static emptyPath(){return new bt([])}}const mx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Vs{construct(e,n,s){return new _n(e,n,s)}static isValidIdentifier(e){return mx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new _n([P_])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new fe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new fe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(i(),r++)}if(i(),o)throw new fe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(bt.fromString(e))}static fromName(e){return new Ee(bt.fromString(e).popFirst(5))}static empty(){return new Ee(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t,e,n){if(!n)throw new fe(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gx(t,e,n,s){if(e===!0&&s===!0)throw new fe(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k_(t){if(!Ee.isDocumentKey(t))throw new fe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O_(t){if(Ee.isDocumentKey(t))throw new fe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function bs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hh(t);throw new fe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xl(t,e){if(!HE(t))throw new fe(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new fe(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=-62135596800,N_=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*N_);return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<x_)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xl(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Kt("string",St._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new St(0,0))}static max(){return new Ne(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function _x(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Ne.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new ci(r,Ee.empty(),e)}function yx(t){return new ci(t.readTime,t.key,Ml)}class ci{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ci(Ne.min(),Ee.empty(),Ml)}static max(){return new ci(Ne.max(),Ee.empty(),Ml)}}function vx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==wx)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let r=0,i=0,o=!1;e.forEach((l=>{++r,l.next((()=>{++i,o&&i===r&&n()}),(u=>s(u)))})),o=!0,i===r&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((r=>r?ee.resolve(r):s()));return n}static forEach(e,n){const s=[];return e.forEach(((r,i)=>{s.push(n.call(this,r,i))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,r)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next((d=>{o[h]=d,++l,l===i&&s(o)}),(d=>r(d)))}}))}static doWhile(e,n){return new ee(((s,r)=>{const i=()=>{e()===!0?n().next((()=>{i()}),r):s()};i()}))}}function bx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _a(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=-1;function fh(t){return t==null}function Pu(t){return t===0&&1/t==-1/0}function Tx(t){return typeof t=="number"&&Number.isInteger(t)&&!Pu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="";function Ix(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=D_(e)),e=Ax(t.get(n),e);return D_(e)}function Ax(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case zE:n+="";break;default:n+=i}}return n}function D_(t){return t+zE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??mn.RED,this.left=r??mn.EMPTY,this.right=i??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new mn(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return mn.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(e){return new L_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class L_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Zt(_n.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new KE("Invalid base64 string: "+i):i}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const Sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=Sx.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hi(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="server_timestamp",QE="__type__",JE="__previous_value__",YE="__local_write_time__";function yp(t){return(t?.mapValue?.fields||{})[QE]?.stringValue===GE}function ph(t){const e=t.mapValue.fields[JE];return yp(e)?ph(e):e}function Fl(t){const e=ui(t.mapValue.fields[YE].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,s,r,i,o,l,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const ku="(default)";class Ul{constructor(e,n){this.projectId=e,this.database=n||ku}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===ku}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="__type__",Cx="__max__",$c={mapValue:{}},ZE="__vector__",Ou="value";function di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yp(t)?4:kx(t)?9007199254740991:Px(t)?10:11:ke(28295,{value:t})}function Ks(t,e){if(t===e)return!0;const n=di(t);if(n!==di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fl(t).isEqual(Fl(e));case 3:return(function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ui(r.timestampValue),l=ui(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,i){return hi(r.bytesValue).isEqual(hi(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,i){return Ft(r.geoPointValue.latitude)===Ft(i.geoPointValue.latitude)&&Ft(r.geoPointValue.longitude)===Ft(i.geoPointValue.longitude)})(t,e);case 2:return(function(r,i){if("integerValue"in r&&"integerValue"in i)return Ft(r.integerValue)===Ft(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ft(r.doubleValue),l=Ft(i.doubleValue);return o===l?Pu(o)===Pu(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:case 11:return(function(r,i){const o=r.mapValue.fields||{},l=i.mapValue.fields||{};if(V_(o)!==V_(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Ks(o[u],l[u])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function $l(t,e){return(t.values||[]).find((n=>Ks(n,e)))!==void 0}function ra(t,e){if(t===e)return 0;const n=di(t),s=di(e);if(n!==s)return Qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=Ft(i.integerValue||i.doubleValue),u=Ft(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return M_(t.timestampValue,e.timestampValue);case 4:return M_(Fl(t),Fl(e));case 5:return cf(t.stringValue,e.stringValue);case 6:return(function(i,o){const l=hi(i),u=hi(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=Qe(l[h],u[h]);if(d!==0)return d}return Qe(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=Qe(Ft(i.latitude),Ft(o.latitude));return l!==0?l:Qe(Ft(i.longitude),Ft(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return F_(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const l=i.fields||{},u=o.fields||{},h=l[Ou]?.arrayValue,d=u[Ou]?.arrayValue,m=Qe(h?.values?.length||0,d?.values?.length||0);return m!==0?m:F_(h,d)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===$c.mapValue&&o===$c.mapValue)return 0;if(i===$c.mapValue)return 1;if(o===$c.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const _=cf(u[m],d[m]);if(_!==0)return _;const v=ra(l[u[m]],h[d[m]]);if(v!==0)return v}return Qe(u.length,d.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function M_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=ui(t),s=ui(e),r=Qe(n.seconds,s.seconds);return r!==0?r:Qe(n.nanos,s.nanos)}function F_(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=ra(n[r],s[r]);if(i)return i}return Qe(n.length,s.length)}function ia(t){return uf(t)}function uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ui(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return hi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=uf(i);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${uf(n.fields[o])}`;return r+"}"})(t.mapValue):ke(61005,{value:t})}function eu(t){switch(di(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(t);return e?16+eu(e):16;case 5:return 2*t.stringValue.length;case 6:return hi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,i)=>r+eu(i)),0)})(t.arrayValue);case 10:case 11:return(function(s){let r=0;return gi(s.fields,((i,o)=>{r+=i.length+eu(o)})),r})(t.mapValue);default:throw ke(13486,{value:t})}}function U_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hf(t){return!!t&&"integerValue"in t}function vp(t){return!!t&&"arrayValue"in t}function $_(t){return!!t&&"nullValue"in t}function j_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tu(t){return!!t&&"mapValue"in t}function Px(t){return(t?.mapValue?.fields||{})[XE]?.stringValue===ZE}function Tl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gi(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Tl(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tl(t.arrayValue.values[n]);return e}return{...t}}function kx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Cx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!tu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(n)}setAll(e){let n=_n.emptyPath(),s={},r=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=Tl(o):r.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];tu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){gi(n,((r,i)=>e[r]=i));for(const r of s)delete e[r]}clone(){return new Un(Tl(this.value))}}function eb(t){const e=[];return gi(t.fields,((n,s)=>{const r=new _n([n]);if(tu(s)){const i=eb(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,s,r,i,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new In(e,0,Ne.min(),Ne.min(),Ne.min(),Un.empty(),0)}static newFoundDocument(e,n,s,r){return new In(e,1,n,Ne.min(),s,r,0)}static newNoDocument(e,n){return new In(e,2,n,Ne.min(),Ne.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Ne.min(),Ne.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.position=e,this.inclusive=n}}function B_(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=Ee.comparator(Ee.fromName(o.referenceValue),n.key):s=ra(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function q_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ox(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class Wt extends tb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Nx(e,n,s):n==="array-contains"?new Lx(e,s):n==="in"?new Mx(e,s):n==="not-in"?new Fx(e,s):n==="array-contains-any"?new Ux(e,s):new Wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Dx(e,s):new Vx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ra(n,this.value)):n!==null&&di(this.value)===di(n)&&this.matchesComparison(ra(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends tb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ts(e,n)}matches(e){return nb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nb(t){return t.op==="and"}function sb(t){return xx(t)&&nb(t)}function xx(t){for(const e of t.filters)if(e instanceof Ts)return!1;return!0}function df(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+ia(t.value);if(sb(t))return t.filters.map((e=>df(e))).join(",");{const e=t.filters.map((n=>df(n))).join(",");return`${t.op}(${e})`}}function rb(t,e){return t instanceof Wt?(function(s,r){return r instanceof Wt&&s.op===r.op&&s.field.isEqual(r.field)&&Ks(s.value,r.value)})(t,e):t instanceof Ts?(function(s,r){return r instanceof Ts&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((i,o,l)=>i&&rb(o,r.filters[l])),!0):!1})(t,e):void ke(19439)}function ib(t){return t instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ia(n.value)}`})(t):t instanceof Ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(ib).join(" ,")+"}"})(t):"Filter"}class Nx extends Wt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dx extends Wt{constructor(e,n){super(e,"in",n),this.keys=ob("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Vx extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=ob("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ob(t,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class Lx extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vp(n)&&$l(n.arrayValue,this.value)}}class Mx extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class Fx extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$l(this.value.arrayValue,n)}}class Ux extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>$l(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n=null,s=[],r=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function H_(t,e=null,n=[],s=[],r=null,i=null,o=null){return new $x(t,e,n,s,r,i,o)}function wp(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>df(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(i){return i.field.canonicalString()+i.dir})(s))).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ia(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ia(s))).join(",")),e.Te=n}return e.Te}function Ep(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ox(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q_(t.startAt,e.startAt)&&q_(t.endAt,e.endAt)}function ff(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n=null,s=[],r=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jx(t,e,n,s,r,i,o,l){return new Zl(t,e,n,s,r,i,o,l)}function bp(t){return new Zl(t)}function z_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ab(t){return t.collectionGroup!==null}function Il(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Zt(_n.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Nu(i,s))})),n.has(_n.keyField().canonicalString())||e.Ie.push(new Nu(_n.keyField(),s))}return e.Ie}function $s(t){const e=Le(t);return e.Ee||(e.Ee=Bx(e,Il(t))),e.Ee}function Bx(t,e){if(t.limitType==="F")return H_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const i=r.dir==="desc"?"asc":"desc";return new Nu(r.field,i)}));const n=t.endAt?new xu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new xu(t.startAt.position,t.startAt.inclusive):null;return H_(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function pf(t,e){const n=t.filters.concat([e]);return new Zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mf(t,e,n){return new Zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mh(t,e){return Ep($s(t),$s(e))&&t.limitType===e.limitType}function lb(t){return`${wp($s(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((r=>ib(r))).join(", ")}]`),fh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>ia(r))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>ia(r))).join(",")),`Target(${s})`})($s(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&(function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):Ee.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)})(t,e)&&(function(s,r){for(const i of Il(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0})(t,e)&&(function(s,r){return!(s.startAt&&!(function(o,l,u){const h=B_(o,l,u);return o.inclusive?h<=0:h<0})(s.startAt,Il(s),r)||s.endAt&&!(function(o,l,u){const h=B_(o,l,u);return o.inclusive?h>=0:h>0})(s.endAt,Il(s),r))})(t,e)}function qx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cb(t){return(e,n)=>{let s=!1;for(const r of Il(t)){const i=Hx(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Hx(t,e,n){const s=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(i,o,l){const u=o.data.field(i),h=l.data.field(i);return u!==null&&h!==null?ra(u,h):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){gi(this.inner,((n,s)=>{for(const[r,i]of s)e(r,i)}))}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Ot(Ee.comparator);function vr(){return zx}const ub=new Ot(Ee.comparator);function al(...t){let e=ub;for(const n of t)e=e.insert(n.key,n);return e}function hb(t){let e=ub;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Wi(){return Al()}function db(){return Al()}function Al(){return new ho((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Wx=new Ot(Ee.comparator),Kx=new Zt(Ee.comparator);function Je(...t){let e=Kx;for(const n of t)e=e.add(n);return e}const Gx=new Zt(Qe);function Qx(){return Gx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pu(e)?"-0":e}}function fb(t){return{integerValue:""+t}}function Jx(t,e){return Tx(e)?fb(e):Tp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function Yx(t,e,n){return t instanceof Du?(function(r,i){const o={fields:{[QE]:{stringValue:GE},[YE]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&yp(i)&&(i=ph(i)),i&&(o.fields[JE]=i),{mapValue:o}})(n,e):t instanceof oa?mb(t,e):t instanceof jl?gb(t,e):(function(r,i){const o=pb(r,i),l=W_(o)+W_(r.Ae);return hf(o)&&hf(r.Ae)?fb(l):Tp(r.serializer,l)})(t,e)}function Xx(t,e,n){return t instanceof oa?mb(t,e):t instanceof jl?gb(t,e):n}function pb(t,e){return t instanceof Vu?(function(s){return hf(s)||(function(i){return!!i&&"doubleValue"in i})(s)})(e)?e:{integerValue:0}:null}class Du extends _h{}class oa extends _h{constructor(e){super(),this.elements=e}}function mb(t,e){const n=_b(e);for(const s of t.elements)n.some((r=>Ks(r,s)))||n.push(s);return{arrayValue:{values:n}}}class jl extends _h{constructor(e){super(),this.elements=e}}function gb(t,e){let n=_b(e);for(const s of t.elements)n=n.filter((r=>!Ks(r,s)));return{arrayValue:{values:n}}}class Vu extends _h{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W_(t){return Ft(t.integerValue||t.doubleValue)}function _b(t){return vp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.field=e,this.transform=n}}function eN(t,e){return t.field.isEqual(e.field)&&(function(s,r){return s instanceof oa&&r instanceof oa||s instanceof jl&&r instanceof jl?sa(s.elements,r.elements,Ks):s instanceof Vu&&r instanceof Vu?Ks(s.Ae,r.Ae):s instanceof Du&&r instanceof Du})(t.transform,e.transform)}class tN{constructor(e,n){this.version=e,this.transformResults=n}}class ds{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ds}static exists(e){return new ds(void 0,e)}static updateTime(e){return new ds(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yh{}function yb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ip(t.key,ds.none()):new ec(t.key,t.data,ds.none());{const n=t.data,s=Un.empty();let r=new Zt(_n.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new _i(t.key,s,new Qn(r.toArray()),ds.none())}}function nN(t,e,n){t instanceof ec?(function(r,i,o){const l=r.value.clone(),u=G_(r.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof _i?(function(r,i,o){if(!nu(r.precondition,i))return void i.convertToUnknownDocument(o.version);const l=G_(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(vb(r)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Sl(t,e,n,s){return t instanceof ec?(function(i,o,l,u){if(!nu(i.precondition,o))return l;const h=i.value.clone(),d=Q_(i.fieldTransforms,u,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,s):t instanceof _i?(function(i,o,l,u){if(!nu(i.precondition,o))return l;const h=Q_(i.fieldTransforms,u,o),d=o.data;return d.setAll(vb(i)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(t,e,n,s):(function(i,o,l){return nu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function sN(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=pb(s.transform,r||null);i!=null&&(n===null&&(n=Un.empty()),n.set(s.field,i))}return n||null}function K_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&sa(s,r,((i,o)=>eN(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ec extends yh{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _i extends yh{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vb(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function G_(t,e,n){const s=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,l=e.data.field(i.field);s.set(i.field,Xx(o,l,n[r]))}return s}function Q_(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,Yx(i,o,e))}return s}class Ip extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rN extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&nN(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Sl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Sl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=db();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(r.key)?null:l;const u=yb(o,l);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,((n,s)=>K_(n,s)))&&sa(this.baseMutations,e.baseMutations,((n,s)=>K_(n,s)))}}class Ap{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){ct(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=(function(){return Wx})();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Ap(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,nt;function lN(t){switch(t){case X.OK:return ke(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function wb(t){if(t===void 0)return yr("GRPC error has no .code"),X.UNKNOWN;switch(t){case zt.OK:return X.OK;case zt.CANCELLED:return X.CANCELLED;case zt.UNKNOWN:return X.UNKNOWN;case zt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case zt.INTERNAL:return X.INTERNAL;case zt.UNAVAILABLE:return X.UNAVAILABLE;case zt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case zt.NOT_FOUND:return X.NOT_FOUND;case zt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case zt.ABORTED:return X.ABORTED;case zt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case zt.DATA_LOSS:return X.DATA_LOSS;default:return ke(39323,{code:t})}}(nt=zt||(zt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new ri([4294967295,4294967295],0);function J_(t){const e=cN().encode(t),n=new VE;return n.update(e),new Uint8Array(n.digest())}function Y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ri([n,s],0),new ri([r,i],0)]}class Sp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ll(`Invalid padding: ${n}`);if(s<0)throw new ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ri.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(ri.fromNumber(s)));return r.compare(uN)===1&&(r=new ri([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=J_(e),[s,r]=Y_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Sp(i,r,n);return s.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=J_(e),[s,r]=Y_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new vh(Ne.min(),r,new Ot(Qe),vr(),Je())}}class tc{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new tc(s,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class Eb{constructor(e,n){this.targetId=e,this.Ce=n}}class bb{constructor(e,n,s=yn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class X_{constructor(){this.ve=0,this.Fe=Z_(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),s=Je();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ke(38017,{changeType:i})}})),new tc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Z_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hN{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=jc(),this.He=jc(),this.Ye=new Ot(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(ff(i))if(s===0){const o=new Ee(i.path);this.et(n,o,In.newNoDocument(o,Ne.min()))}else ct(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,l;try{o=hi(s).toUint8Array()}catch(u){if(u instanceof KE)return na("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Sp(o,r,i)}catch(u){return na(u instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&ff(l.target)){const u=new Ee(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,In.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let s=Je();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(s=s.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const r=new vh(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=jc(),this.He=jc(),this.Ye=new Ot(Qe),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new X_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zt(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zt(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jc(){return new Ot(Ee.comparator)}function Z_(){return new Ot(Ee.comparator)}const dN={asc:"ASCENDING",desc:"DESCENDING"},fN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pN={and:"AND",or:"OR"};class mN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gf(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function Lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gN(t,e){return Lu(t,e.toTimestamp())}function js(t){return ct(!!t,49232),Ne.fromTimestamp((function(n){const s=ui(n);return new St(s.seconds,s.nanos)})(t))}function Rp(t,e){return _f(t,e).canonicalString()}function _f(t,e){const n=(function(r){return new bt(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Ib(t){const e=bt.fromString(t);return ct(Pb(e),10190,{key:e.toString()}),e}function yf(t,e){return Rp(t.databaseId,e.path)}function Sd(t,e){const n=Ib(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(Sb(n))}function Ab(t,e){return Rp(t.databaseId,e)}function _N(t){const e=Ib(t);return e.length===4?bt.emptyPath():Sb(e)}function vf(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Sb(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ey(t,e,n){return{name:yf(t,e),fields:n.value.mapValue.fields}}function yN(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=(function(h,d){return h.useProto3Json?(ct(d===void 0||typeof d=="string",58123),yn.fromBase64String(d||"")):(ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),yn.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(h){const d=h.code===void 0?X.UNKNOWN:wb(h.code);return new fe(d,h.message||"")})(o);n=new bb(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Sd(t,s.document.name),i=js(s.document.updateTime),o=s.document.createTime?js(s.document.createTime):Ne.min(),l=new Un({mapValue:{fields:s.document.fields}}),u=In.newFoundDocument(r,i,o,l),h=s.targetIds||[],d=s.removedTargetIds||[];n=new su(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Sd(t,s.document),i=s.readTime?js(s.readTime):Ne.min(),o=In.newNoDocument(r,i),l=s.removedTargetIds||[];n=new su([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Sd(t,s.document),i=s.removedTargetIds||[];n=new su([],i,r,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new aN(r,i),l=s.targetId;n=new Eb(l,o)}}return n}function vN(t,e){let n;if(e instanceof ec)n={update:ey(t,e.key,e.value)};else if(e instanceof Ip)n={delete:yf(t,e.key)};else if(e instanceof _i)n={update:ey(t,e.key,e.data),updateMask:CN(e.fieldMask)};else{if(!(e instanceof rN))return ke(16599,{Vt:e.type});n={verify:yf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(i,o){const l=o.transform;if(l instanceof Du)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Vu)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ke(20930,{transform:o.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(r,i){return i.updateTime!==void 0?{updateTime:gN(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ke(27497)})(t,e.precondition)),n}function wN(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(r,i){let o=r.updateTime?js(r.updateTime):js(i);return o.isEqual(Ne.min())&&(o=js(i)),new tN(o,r.transformResults||[])})(n,e)))):[]}function EN(t,e){return{documents:[Ab(t,e.path)]}}function bN(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ab(t,r);const i=(function(h){if(h.length!==0)return Cb(Ts.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((d=>(function(_){return{field:Fo(_.field),direction:AN(_.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=gf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:r}}function TN(t){let e=_N(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){ct(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(m){const _=Rb(m);return _ instanceof Ts&&sb(_)?_.getFilters():[_]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((_=>(function(T){return new Nu(Uo(T.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(_)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let _;return _=typeof m=="object"?m.value:m,fh(_)?null:_})(n.limit));let u=null;n.startAt&&(u=(function(m){const _=!!m.before,v=m.values||[];return new xu(v,_)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const _=!m.before,v=m.values||[];return new xu(v,_)})(n.endAt)),jx(e,r,o,i,l,"F",u,h)}function IN(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Uo(n.unaryFilter.field);return Wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Uo(n.unaryFilter.field);return Wt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Uo(n.unaryFilter.field);return Wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Uo(n.unaryFilter.field);return Wt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Wt.create(Uo(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ts.create(n.compositeFilter.filters.map((s=>Rb(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function AN(t){return dN[t]}function SN(t){return fN[t]}function RN(t){return pN[t]}function Fo(t){return{fieldPath:t.canonicalString()}}function Uo(t){return _n.fromServerFormat(t.fieldPath)}function Cb(t){return t instanceof Wt?(function(n){if(n.op==="=="){if(j_(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j_(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:SN(n.op),value:n.value}}})(t):t instanceof Ts?(function(n){const s=n.getFilters().map((r=>Cb(r)));return s.length===1?s[0]:{compositeFilter:{op:RN(n.op),filters:s}}})(t):ke(54877,{filter:t})}function CN(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Pb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,s,r,i=Ne.min(),o=Ne.min(),l=yn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.yt=e}}function kN(t){const e=TN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.Cn=new xN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ci.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class xN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Zt(bt.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Zt(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kb=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(kb,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new aa(0)}static cr(){return new aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="LruGarbageCollector",NN=1048576;function sy([t,e],[n,s]){const r=Qe(t,n);return r===0?Qe(e,s):r}class DN{constructor(e){this.Ir=e,this.buffer=new Zt(sy),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sy(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(ny,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_a(n)?pe(ny,"Ignoring IndexedDB error during garbage collection: ",n):await ga(n)}await this.Vr(3e5)}))}}class LN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(dh.ce);const s=new DN(n);return this.mr.forEachTarget(e,(r=>s.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>s.Ar(r))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(ty)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ty):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,o,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,o=Date.now(),this.nthSequenceNumber(e,r)))).next((m=>(s=m,l=Date.now(),this.removeTargets(e,s,n)))).next((m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,s)))).next((m=>(h=Date.now(),Lo()<=Ge.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:m}))))}}function MN(t,e){return new LN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.changes=new ho((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(s!==null&&Sl(s.mutation,r,Qn.empty(),St.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Je()){const r=Wi();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,s).next((i=>{let o=al();return i.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const s=Wi();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Je())))}populateOverlays(e,n,s){const r=[];return s.forEach((i=>{n.has(i)||r.push(i)})),this.documentOverlayCache.getOverlays(e,r).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,s,r){let i=vr();const o=Al(),l=(function(){return Al()})();return n.forEach(((u,h)=>{const d=s.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof _i)?i=i.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Sl(d.mutation,h,d.mutation.getFieldMask(),St.now())):o.set(h.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((h,d)=>o.set(h,d))),n.forEach(((h,d)=>l.set(h,new UN(d,o.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,n){const s=Al();let r=new Ot(((o,l)=>o-l)),i=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let d=s.get(u)||Qn.empty();d=l.applyToLocalView(h,d),s.set(u,d);const m=(r.get(l.batchId)||Je()).add(u);r=r.insert(l.batchId,m)}))})).next((()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,m=db();d.forEach((_=>{if(!i.has(_)){const v=yb(n.get(_),s.get(_));v!==null&&m.set(_,v),i=i.add(_)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return ee.waitFor(o)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,r){return(function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ab(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):ee.resolve(Wi());let l=Ml,u=i;return o.next((h=>ee.forEach(h,((d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next((_=>{u=u.insert(d,_)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,u,h,Je()))).next((d=>({batchId:l,changes:hb(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let r=al();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=al();return this.indexManager.getCollectionParents(e,i).next((l=>ee.forEach(l,(u=>{const h=(function(m,_){return new Zl(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,s,r).next((d=>{d.forEach(((m,_)=>{o=o.insert(m,_)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r)))).next((o=>{i.forEach(((u,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,In.newInvalidDocument(d)))}));let l=al();return o.forEach(((u,h)=>{const d=i.get(u);d!==void 0&&Sl(d.mutation,h,Qn.empty(),St.now()),gh(n,h)&&(l=l.insert(u,h))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:js(r.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:kN(r.bundledQuery),readTime:js(r.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.overlays=new Ot(Ee.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Wi();return ee.forEach(n,(r=>this.getOverlay(e,r).next((i=>{i!==null&&s.set(r,i)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((r,i)=>{this.St(e,n,i)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const r=Wi(),i=n.length+1,o=new Ee(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return ee.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Ot(((h,d)=>h-d));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let d=i.get(h.largestBatchId);d===null&&(d=Wi(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Wi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,d)=>l.set(h,d))),!(l.size()>=r)););return ee.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new oN(n,s));let i=this.qr.get(n);i===void 0&&(i=Je(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.Qr=new Zt(ln.$r),this.Ur=new Zt(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new ln(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new ln(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ee(new bt([])),s=new ln(n,e),r=new ln(n,e+1),i=[];return this.Ur.forEachInRange([s,r],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new bt([])),s=new ln(n,e),r=new ln(n,e+1);let i=Je();return this.Ur.forEachInRange([s,r],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new ln(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(ln.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iN(i,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new ln(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return ee.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?_p:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ln(n,0),r=new ln(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],(o=>{const l=this.Xr(o.Yr);i.push(l)})),ee.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Zt(Qe);return n.forEach((r=>{const i=new ln(r,0),o=new ln(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{s=s.add(l.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;Ee.isDocumentKey(i)||(i=i.child(""));const o=new ln(new Ee(i),0);let l=new Zt(Qe);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Yr)),!0)}),o),ee.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((s=>{const r=this.Xr(s);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(r=>{const i=new ln(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new ln(n,0),r=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():In.newInvalidDocument(r))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=vr();const o=n.path,l=new Ee(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||vx(yx(d),s)<=0||(r.has(d.key)||gh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return ee.resolve(i)}getAllFromCollectionGroup(e,n,s,r){ke(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new WN(this)}getSize(e){return ee.resolve(this.size)}}class WN extends FN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.persistence=e,this.si=new ho((n=>wp(n)),Ep),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Cp,this.targetCount=0,this.ai=aa.ur()}forEachTarget(e,n){return this.si.forEach(((s,r)=>n(r))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new aa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)})),ee.waitFor(i).next((()=>r))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach((o=>{i.push(r.markPotentiallyOrphaned(e,o))})),ee.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new qN,this.referenceDelegate=e(this),this.Pi=new KN(this),this.indexManager=new ON,this.remoteDocumentCache=(function(r){return new zN(r)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new PN(n),this.Ii=new jN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new HN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const r=new GN(this.ci.next());return this.referenceDelegate.Ei(),s(r).next((i=>this.referenceDelegate.di(r).next((()=>i)))).toPromise().then((i=>(r.raiseOnCommittedEvent(),i)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class GN extends Ex{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Ri=new Cp,this.Vi=null}static mi(e){return new Pp(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((r=>this.fi.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((i=>this.fi.add(i.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const r=Ee.fromPath(s);return this.gi(e,r).next((i=>{i||n.removeEntry(r,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Mu{constructor(e,n){this.persistence=e,this.pi=new ho((s=>Ix(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=MN(this,n)}static mi(e,n){return new Mu(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((r=>s+r))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,r)=>this.br(e,s,r).next((i=>i?ee.resolve():n(r)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(o=>this.br(e,o,n).next((l=>{l||(s++,i.removeEntry(o,Ne.min()))})))).next((()=>i.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eu(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return ee.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=Je(),r=Je();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new kp(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rC()?8:bx(Pn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,r,s).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new QN;return this.Ss(e,n,o).next((l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>i.result))}bs(e,n,s,r){return s.documentReadCount<this.fs?(Lo()<=Ge.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Lo()<=Ge.DEBUG&&pe("QueryEngine","Query:",Mo(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Lo()<=Ge.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$s(n))):ee.resolve())}ys(e,n){if(z_(n))return ee.resolve(null);let s=$s(n);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=mf(n,null,"F"),s=$s(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((i=>{const o=Je(...i);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,s).next((u=>{const h=this.Ds(n,l);return this.Cs(n,h,o,u.readTime)?this.ys(e,mf(n,null,"F")):this.vs(e,h,n,u)}))))})))))}ws(e,n,s,r){return z_(n)||r.isEqual(Ne.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,s,r)?ee.resolve(null):(Lo()<=Ge.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Mo(n)),this.vs(e,o,n,_x(r,Ml)).next((l=>l)))}))}Ds(e,n){let s=new Zt(cb(e));return n.forEach(((r,i)=>{gh(e,i)&&(s=s.add(i))})),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return Lo()<=Ge.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.ps.getDocumentsMatchingQuery(e,n,ci.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="LocalStore",YN=3e8;class XN{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Ot(Qe),this.xs=new ho((i=>wp(i)),Ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $N(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZN(t,e,n,s){return new XN(t,e,n,s)}async function xb(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next((i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((i=>{const o=[],l=[];let u=Je();for(const h of r){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(s,u).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:l})))}))}))}function eD(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,h,d){const m=h.batch,_=m.keys();let v=ee.resolve();return _.forEach((T=>{v=v.next((()=>d.getEntry(u,T))).next((b=>{const A=h.docVersions.get(T);ct(A!==null,48541),b.version.compareTo(A)<0&&(m.applyToRemoteDocument(b,h),b.isValidDocument()&&(b.setReadTime(h.commitVersion),d.addEntry(b)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(u,m)))})(n,s,e,i).next((()=>i.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(l){let u=Je();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(s,r)))}))}function Nb(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tD(t,e){const n=Le(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach(((d,m)=>{const _=r.get(m);if(!_)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,m))));let v=_.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(yn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,s)),r=r.insert(m,v),(function(b,A,x){return b.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=YN?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0})(_,v,d)&&l.push(n.Pi.updateTargetData(i,v))}));let u=vr(),h=Je();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),l.push(nD(i,o,e.documentUpdates).next((d=>{u=d.ks,h=d.qs}))),!s.isEqual(Ne.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s)));l.push(d)}return ee.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,h))).next((()=>u))})).then((i=>(n.Ms=r,i)))}function nD(t,e,n){let s=Je(),r=Je();return n.forEach((i=>s=s.add(i))),e.getEntries(t,s).next((i=>{let o=vr();return n.forEach(((l,u)=>{const h=i.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(Ne.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):pe(Op,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)})),{ks:o,qs:r}}))}function sD(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_p),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function rD(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return n.Pi.getTargetData(s,e).next((i=>i?(r=i,ee.resolve(r)):n.Pi.allocateTargetId(s).next((o=>(r=new Zr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function wf(t,e,n){const s=Le(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,(o=>s.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!_a(o))throw o;pe(Op,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function ry(t,e,n){const s=Le(t);let r=Ne.min(),i=Je();return s.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,d){const m=Le(u),_=m.xs.get(d);return _!==void 0?ee.resolve(m.Ms.get(_)):m.Pi.getTargetData(h,d)})(s,o,$s(e)).next((l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{i=u}))})).next((()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:Ne.min(),n?i:Je()))).next((l=>(iD(s,qx(e),l),{documents:l,Qs:i})))))}function iD(t,e,n){let s=t.Os.get(e)||Ne.min();n.forEach(((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)})),t.Os.set(e,s)}class iy{constructor(){this.activeTargetIds=Qx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oD{constructor(){this.Mo=new iy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iy,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="ConnectivityMonitor";class ay{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(oy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(oy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Ef(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===ku?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const o=Ef(),l=this.zo(e,n.toUriEncodedString());pe(Rd,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,i);const{host:h}=new URL(l),d=da(h);return this.Jo(e,l,u,s,d).then((m=>(pe(Rd,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw na(Rd,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",s),m}))}Ho(e,n,s,r,i,o){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ma})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,i)=>e[i]=r)),s&&s.headers.forEach(((r,i)=>e[i]=r))}zo(e,n){const s=lD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class hD extends cD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const o=Ef();return new Promise(((l,u)=>{const h=new LE;h.setWithCredentials(!0),h.listenOnce(ME.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Zc.NO_ERROR:const m=h.getResponseJson();pe(wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Zc.TIMEOUT:pe(wn,`RPC '${e}' ${o} timed out`),u(new fe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const _=h.getStatus();if(pe(wn,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v?.error;if(T&&T.status&&T.message){const b=(function(x){const $=x.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf($)>=0?$:X.UNKNOWN})(T.status);u(new fe(b,T.message))}else u(new fe(X.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new fe(X.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{pe(wn,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(r);pe(wn,`RPC '${e}' ${o} sending request:`,r),h.send(n,"POST",d,s,15)}))}T_(e,n,s){const r=Ef(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$E(),l=UE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const d=i.join("");pe(wn,`Creating RPC '${e}' stream ${r}: ${d}`,u);const m=o.createWebChannel(d,u);this.I_(m);let _=!1,v=!1;const T=new uD({Yo:A=>{v?pe(wn,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(_||(pe(wn,`Opening RPC '${e}' stream ${r} transport.`),m.open(),_=!0),pe(wn,`RPC '${e}' stream ${r} sending:`,A),m.send(A))},Zo:()=>m.close()}),b=(A,x,$)=>{A.listen(x,(B=>{try{$(B)}catch(L){setTimeout((()=>{throw L}),0)}}))};return b(m,ol.EventType.OPEN,(()=>{v||(pe(wn,`RPC '${e}' stream ${r} transport opened.`),T.o_())})),b(m,ol.EventType.CLOSE,(()=>{v||(v=!0,pe(wn,`RPC '${e}' stream ${r} transport closed`),T.a_(),this.E_(m))})),b(m,ol.EventType.ERROR,(A=>{v||(v=!0,na(wn,`RPC '${e}' stream ${r} transport errored. Name:`,A.name,"Message:",A.message),T.a_(new fe(X.UNAVAILABLE,"The operation could not be completed")))})),b(m,ol.EventType.MESSAGE,(A=>{if(!v){const x=A.data[0];ct(!!x,16349);const $=x,B=$?.error||$[0]?.error;if(B){pe(wn,`RPC '${e}' stream ${r} received error:`,B);const L=B.status;let Y=(function(I){const S=zt[I];if(S!==void 0)return wb(S)})(L),Se=B.message;Y===void 0&&(Y=X.INTERNAL,Se="Unknown error status: "+L+" with message "+B.message),v=!0,T.a_(new fe(Y,Se)),m.close()}else pe(wn,`RPC '${e}' stream ${r} received:`,x),T.u_(x)}})),b(l,FE.STAT_EVENT,(A=>{A.stat===lf.PROXY?pe(wn,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===lf.NOPROXY&&pe(wn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){return new mN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="PersistentStream";class Vb{constructor(e,n,s,r,i,o,l,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Db(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===n&&this.G_(s,r)}),(s=>{e((()=>{const r=new fe(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(ly,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(ly,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dD extends Vb{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yN(this.serializer,e),s=(function(i){if(!("targetChange"in i))return Ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?js(o.readTime):Ne.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=vf(this.serializer),n.addTarget=(function(i,o){let l;const u=o.target;if(l=ff(u)?{documents:EN(i,u)}:{query:bN(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Tb(i,o.resumeToken);const h=gf(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ne.min())>0){l.readTime=Lu(i,o.snapshotVersion.toTimestamp());const h=gf(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const s=IN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=vf(this.serializer),n.removeTarget=e,this.q_(n)}}class fD extends Vb{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wN(e.writeResults,e.commitTime),s=js(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=vf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>vN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{}class mD extends pD{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,_f(n,s),r,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(X.UNKNOWN,i.toString())}))}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,_f(n,s),r,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(X.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class _D{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{s.enqueueAndForget((async()=>{fo(this)&&(pe(ro,"Restarting streams for network reachability change."),await(async function(u){const h=Le(u);h.Ea.add(4),await nc(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Eh(h)})(this))}))})),this.Ra=new gD(s,r)}}async function Eh(t){if(fo(t))for(const e of t.da)await e(!0)}async function nc(t){for(const e of t.da)await e(!1)}function Lb(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vp(n)?Dp(n):ya(n).O_()&&Np(n,e))}function xp(t,e){const n=Le(t),s=ya(n);n.Ia.delete(e),s.O_()&&Mb(n,e),n.Ia.size===0&&(s.O_()?s.L_():fo(n)&&n.Ra.set("Unknown"))}function Np(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ya(t).Y_(e)}function Mb(t,e){t.Va.Ue(e),ya(t).Z_(e)}function Dp(t){t.Va=new hN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ya(t).start(),t.Ra.ua()}function Vp(t){return fo(t)&&!ya(t).x_()&&t.Ia.size>0}function fo(t){return Le(t).Ea.size===0}function Fb(t){t.Va=void 0}async function yD(t){t.Ra.set("Online")}async function vD(t){t.Ia.forEach(((e,n)=>{Np(t,e)}))}async function wD(t,e){Fb(t),Vp(t)?(t.Ra.ha(e),Dp(t)):t.Ra.set("Unknown")}async function ED(t,e,n){if(t.Ra.set("Online"),e instanceof bb&&e.state===2&&e.cause)try{await(async function(r,i){const o=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))})(t,e)}catch(s){pe(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Fu(t,s)}else if(e instanceof su?t.Va.Ze(e):e instanceof Eb?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const s=await Nb(t.localStore);n.compareTo(s)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,h)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(yn.EMPTY_BYTE_STRING,d.snapshotVersion)),Mb(i,u);const m=new Zr(d.target,u,h,d.sequenceNumber);Np(i,m)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(s){pe(ro,"Failed to raise snapshot:",s),await Fu(t,s)}}async function Fu(t,e,n){if(!_a(e))throw e;t.Ea.add(1),await nc(t),t.Ra.set("Offline"),n||(n=()=>Nb(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(ro,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Eh(t)}))}function Ub(t,e){return e().catch((n=>Fu(t,n,e)))}async function bh(t){const e=Le(t),n=fi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_p;for(;bD(e);)try{const r=await sD(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,TD(e,r)}catch(r){await Fu(e,r)}$b(e)&&jb(e)}function bD(t){return fo(t)&&t.Ta.length<10}function TD(t,e){t.Ta.push(e);const n=fi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function $b(t){return fo(t)&&!fi(t).x_()&&t.Ta.length>0}function jb(t){fi(t).start()}async function ID(t){fi(t).ra()}async function AD(t){const e=fi(t);for(const n of t.Ta)e.ea(n.mutations)}async function SD(t,e,n){const s=t.Ta.shift(),r=Ap.from(s,e,n);await Ub(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await bh(t)}async function RD(t,e){e&&fi(t).X_&&await(async function(s,r){if((function(o){return lN(o)&&o!==X.ABORTED})(r.code)){const i=s.Ta.shift();fi(s).B_(),await Ub(s,(()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r))),await bh(s)}})(t,e),$b(t)&&jb(t)}async function cy(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),pe(ro,"RemoteStore received new credentials");const s=fo(n);n.Ea.add(3),await nc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Eh(n)}async function CD(t,e){const n=Le(t);e?(n.Ea.delete(2),await Eh(n)):e||(n.Ea.add(2),await nc(n),n.Ra.set("Unknown"))}function ya(t){return t.ma||(t.ma=(function(n,s,r){const i=Le(n);return i.sa(),new dD(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Xo:yD.bind(null,t),t_:vD.bind(null,t),r_:wD.bind(null,t),H_:ED.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Vp(t)?Dp(t):t.Ra.set("Unknown")):(await t.ma.stop(),Fb(t))}))),t.ma}function fi(t){return t.fa||(t.fa=(function(n,s,r){const i=Le(n);return i.sa(),new fD(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ID.bind(null,t),r_:RD.bind(null,t),ta:AD.bind(null,t),na:SD.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await bh(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(ro,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,l=new Lp(e,n,o,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(t,e){if(yr("AsyncQueue",`${e}: ${t}`),_a(t))return new fe(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=al(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.ga=new Ot(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class la{constructor(e,n,s,r,i,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new la(e,n,Qo.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kD{constructor(){this.queries=hy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Le(n),i=r.queries;r.queries=hy(),i.forEach(((o,l)=>{for(const u of l.Sa)u.onError(s)}))})(this,new fe(X.ABORTED,"Firestore shutting down"))}}function hy(){return new ho((t=>lb(t)),mh)}async function Bb(t,e){const n=Le(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new PD,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=Mp(o,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Fp(n)}async function qb(t,e){const n=Le(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function OD(t,e){const n=Le(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(r)&&(s=!0);o.wa=r}}s&&Fp(n)}function xD(t,e,n){const s=Le(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function Fp(t){t.Ca.forEach((e=>{e.next()}))}var bf,dy;(dy=bf||(bf={})).Ma="default",dy.Cache="cache";class Hb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new la(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.key=e}}class Wb{constructor(e){this.key=e}}class ND{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=cb(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new uy,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((d,m)=>{const _=r.get(d),v=gh(this.query,m)?m:null,T=!!_&&this.mutatedKeys.has(_.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;_&&v?_.data.isEqual(v.data)?T!==b&&(s.track({type:3,doc:v}),A=!0):this.su(_,v)||(s.track({type:2,doc:v}),A=!0,(u&&this.eu(v,u)>0||h&&this.eu(v,h)<0)&&(l=!0)):!_&&v?(s.track({type:0,doc:v}),A=!0):_&&!v&&(s.track({type:1,doc:_}),A=!0,(u||h)&&(l=!0)),A&&(v?(o=o.add(v),i=b?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{tu:o,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,m)=>(function(v,T){const b=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:A})}};return b(v)-b(T)})(d.type,m.type)||this.eu(d.doc,m.doc))),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new la(this.query,e.tu,i,o,e.mutatedKeys,u===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Wb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new zb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return la.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Up="SyncEngine";class DD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class VD{constructor(e){this.key=e,this.hu=!1}}class LD{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ho((l=>lb(l)),mh),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Ee.comparator),this.Au=new Map,this.Ru=new Cp,this.Vu={},this.mu=new Map,this.fu=aa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MD(t,e,n=!0){const s=Xb(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await Kb(s,e,n,!0),r}async function FD(t,e){const n=Xb(t);await Kb(n,e,!0,!1)}async function Kb(t,e,n,s){const r=await rD(t.localStore,$s(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await UD(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&Lb(t.remoteStore,r),l}async function UD(t,e,n,s,r){t.pu=(m,_,v)=>(async function(b,A,x,$){let B=A.view.ru(x);B.Cs&&(B=await ry(b.localStore,A.query,!1).then((({documents:O})=>A.view.ru(O,B))));const L=$&&$.targetChanges.get(A.targetId),Y=$&&$.targetMismatches.get(A.targetId)!=null,Se=A.view.applyChanges(B,b.isPrimaryClient,L,Y);return py(b,A.targetId,Se.au),Se.snapshot})(t,m,_,v);const i=await ry(t.localStore,e,!0),o=new ND(e,i.Qs),l=o.ru(i.documents),u=tc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),h=o.applyChanges(l,t.isPrimaryClient,u);py(t,n,h.au);const d=new DD(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function $D(t,e,n){const s=Le(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter((o=>!mh(o,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await wf(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&xp(s.remoteStore,r.targetId),Tf(s,r.targetId)})).catch(ga)):(Tf(s,r.targetId),await wf(s.localStore,r.targetId,!0))}async function jD(t,e){const n=Le(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xp(n.remoteStore,s.targetId))}async function BD(t,e,n){const s=QD(t);try{const r=await(function(o,l){const u=Le(o),h=St.now(),d=l.reduce(((v,T)=>v.add(T.key)),Je());let m,_;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let T=vr(),b=Je();return u.Ns.getEntries(v,d).next((A=>{T=A,T.forEach(((x,$)=>{$.isValidDocument()||(b=b.add(x))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,T))).next((A=>{m=A;const x=[];for(const $ of l){const B=sN($,m.get($.key).overlayedDocument);B!=null&&x.push(new _i($.key,B,eb(B.value.mapValue),ds.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,x,l)})).next((A=>{_=A;const x=A.applyToLocalDocumentSet(m,b);return u.documentOverlayCache.saveOverlays(v,A.batchId,x)}))})).then((()=>({batchId:_.batchId,changes:hb(m)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(o,l,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Ot(Qe)),h=h.insert(l,u),o.Vu[o.currentUser.toKey()]=h})(s,r.batchId,n),await sc(s,r.changes),await bh(s.remoteStore)}catch(r){const i=Mp(r,"Failed to persist write");n.reject(i)}}async function Gb(t,e){const n=Le(t);try{const s=await tD(n.localStore,e);e.targetChanges.forEach(((r,i)=>{const o=n.Au.get(i);o&&(ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?ct(o.hu,14607):r.removedDocuments.size>0&&(ct(o.hu,42227),o.hu=!1))})),await sc(n,s,e)}catch(s){await ga(s)}}function fy(t,e,n){const s=Le(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)})),(function(o,l){const u=Le(o);u.onlineState=l;let h=!1;u.queries.forEach(((d,m)=>{for(const _ of m.Sa)_.va(l)&&(h=!0)})),h&&Fp(u)})(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qD(t,e,n){const s=Le(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let o=new Ot(Ee.comparator);o=o.insert(i,In.newNoDocument(i,Ne.min()));const l=Je().add(i),u=new vh(Ne.min(),new Map,new Ot(Qe),o,l);await Gb(s,u),s.du=s.du.remove(i),s.Au.delete(e),$p(s)}else await wf(s.localStore,e,!1).then((()=>Tf(s,e,n))).catch(ga)}async function HD(t,e){const n=Le(t),s=e.batch.batchId;try{const r=await eD(n.localStore,e);Jb(n,s,null),Qb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await sc(n,r)}catch(r){await ga(r)}}async function zD(t,e,n){const s=Le(t);try{const r=await(function(o,l){const u=Le(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next((m=>(ct(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(h,m)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>u.localDocuments.getDocuments(h,d)))}))})(s.localStore,e);Jb(s,e,n),Qb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await sc(s,r)}catch(r){await ga(r)}}function Qb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Jb(t,e,n){const s=Le(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function Tf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||Yb(t,s)}))}function Yb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$p(t))}function py(t,e,n){for(const s of n)s instanceof zb?(t.Ru.addReference(s.key,e),WD(t,s)):s instanceof Wb?(pe(Up,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Yb(t,s.key)):ke(19791,{wu:s})}function WD(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(pe(Up,"New document in limbo: "+n),t.Eu.add(s),$p(t))}function $p(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(bt.fromString(e)),s=t.fu.next();t.Au.set(s,new VD(n)),t.du=t.du.insert(n,s),Lb(t.remoteStore,new Zr($s(bp(n.path)),s,"TargetPurposeLimboResolution",dh.ce))}}async function sc(t,e,n){const s=Le(t),r=[],i=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach(((l,u)=>{o.push(s.pu(u,e,n).then((h=>{if((h||n)&&s.isPrimaryClient){const d=h?!h.fromCache:n?.targetChanges.get(u.targetId)?.current;s.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(h){r.push(h);const d=kp.As(u.targetId,h);i.push(d)}})))})),await Promise.all(o),s.Pu.H_(r),await(async function(u,h){const d=Le(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ee.forEach(h,(_=>ee.forEach(_.Es,(v=>d.persistence.referenceDelegate.addReference(m,_.targetId,v))).next((()=>ee.forEach(_.ds,(v=>d.persistence.referenceDelegate.removeReference(m,_.targetId,v)))))))))}catch(m){if(!_a(m))throw m;pe(Op,"Failed to update sequence numbers: "+m)}for(const m of h){const _=m.targetId;if(!m.fromCache){const v=d.Ms.get(_),T=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(T);d.Ms=d.Ms.insert(_,b)}}})(s.localStore,i))}async function KD(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){pe(Up,"User change. New user:",e.toKey());const s=await xb(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((l=>{l.forEach((u=>{u.reject(new fe(X.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await sc(n,s.Ls)}}function GD(t,e){const n=Le(t),s=n.Au.get(e);if(s&&s.hu)return Je().add(s.key);{let r=Je();const i=n.Iu.get(e);if(!i)return r;for(const o of i){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function Xb(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qD.bind(null,e),e.Pu.H_=OD.bind(null,e.eventManager),e.Pu.yu=xD.bind(null,e.eventManager),e}function QD(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zD.bind(null,e),e}class Uu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZN(this.persistence,new JN,e.initialUser,this.serializer)}Cu(e){return new Ob(Pp.mi,this.serializer)}Du(e){return new oD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uu.provider={build:()=>new Uu};class JD extends Uu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Mu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new Ob((s=>Mu.mi(s,n)),this.serializer)}}class If{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KD.bind(null,this.syncEngine),await CD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kD})()}createDatastore(e){const n=wh(e.databaseInfo.databaseId),s=(function(i){return new hD(i)})(e.databaseInfo);return(function(i,o,l,u){return new mD(i,o,l,u)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,r,i,o,l){return new _D(s,r,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>fy(this.syncEngine,n,0)),(function(){return ay.v()?new ay:new aD})())}createSyncEngine(e,n){return(function(r,i,o,l,u,h,d){const m=new LD(r,i,o,l,u,h);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Le(n);pe(ro,"RemoteStore shutting down."),s.Ea.add(5),await nc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}If.provider={build:()=>new If};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="FirestoreClient";class YD{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=bn.UNAUTHENTICATED,this.clientId=gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,(async o=>{pe(pi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(s,(o=>(pe(pi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Mp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pd(t,e){t.asyncQueue.verifyOperationInProgress(),pe(pi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async r=>{s.isEqual(r)||(await xb(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function my(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XD(t);pe(pi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>cy(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,r)=>cy(e.remoteStore,r))),t._onlineComponents=e}async function XD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(pi,"Using user provided OfflineComponentProvider");try{await Pd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===X.FAILED_PRECONDITION||r.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;na("Error using user provided cache. Falling back to memory cache: "+n),await Pd(t,new Uu)}}else pe(pi,"Using default OfflineComponentProvider"),await Pd(t,new JD(void 0));return t._offlineComponents}async function eT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(pi,"Using user provided OnlineComponentProvider"),await my(t,t._uninitializedComponentsProvider._online)):(pe(pi,"Using default OnlineComponentProvider"),await my(t,new If))),t._onlineComponents}function ZD(t){return eT(t).then((e=>e.syncEngine))}async function tT(t){const e=await eT(t),n=e.eventManager;return n.onListen=MD.bind(null,e.syncEngine),n.onUnlisten=$D.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jD.bind(null,e.syncEngine),n}function eV(t,e,n={}){const s=new dr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,h){const d=new Zb({next:_=>{d.Nu(),o.enqueueAndForget((()=>qb(i,m)));const v=_.docs.has(l);!v&&_.fromCache?h.reject(new fe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&u&&u.source==="server"?h.reject(new fe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),m=new Hb(bp(l.path),d,{includeMetadataChanges:!0,qa:!0});return Bb(i,m)})(await tT(t),t.asyncQueue,e,n,s))),s.promise}function tV(t,e,n={}){const s=new dr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,h){const d=new Zb({next:_=>{d.Nu(),o.enqueueAndForget((()=>qb(i,m))),_.fromCache&&u.source==="server"?h.reject(new fe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),m=new Hb(l,d,{includeMetadataChanges:!0,qa:!0});return Bb(i,m)})(await tT(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firestore.googleapis.com",_y=!0;class yy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=_y}else this.host=e.host,this.ssl=e.ssl??_y;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NN)throw new fe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ox;switch(s.type){case"firstParty":return new ux(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=gy.get(n);s&&(pe("ComponentProvider","Removing Datastore"),gy.delete(n),s.terminate())})(this),Promise.resolve()}}function nV(t,e,n,s={}){t=bs(t,Th);const r=da(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(ww(`https://${l}`),Ew("Firestore",!0)),i.host!==sT&&i.host!==l&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:r,emulatorOptions:s};if(!mr(u,o)&&(t._setSettings(u),s.mockUserToken)){let h,d;if(typeof s.mockUserToken=="string")h=s.mockUserToken,d=bn.MOCK_USER;else{h=JR(s.mockUserToken,t._app?.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new fe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new bn(m)}t._authCredentials=new ax(new BE(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Xl(n,Ut._jsonSchema))return new Ut(e,s||null,new Ee(bt.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Kt("string",Ut._jsonSchemaVersion),referencePath:Kt("string")};class ii extends va{constructor(e,n,s){super(e,n,bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new Ee(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function Ih(t,e,...n){if(t=jt(t),qE("collection","path",e),t instanceof Th){const s=bt.fromString(e,...n);return O_(s),new ii(t,null,s)}{if(!(t instanceof Ut||t instanceof ii))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(bt.fromString(e,...n));return O_(s),new ii(t.firestore,null,s)}}function Wn(t,e,...n){if(t=jt(t),arguments.length===1&&(e=gp.newId()),qE("doc","path",e),t instanceof Th){const s=bt.fromString(e,...n);return k_(s),new Ut(t,null,new Ee(s))}{if(!(t instanceof Ut||t instanceof ii))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(bt.fromString(e,...n));return k_(s),new Ut(t.firestore,t instanceof ii?t.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="AsyncQueue";class wy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Db(this,"async_queue_retry"),this._c=()=>{const s=Cd();s&&pe(vy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Cd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_a(e))throw e;pe(vy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",Ey(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Lp.createAndSchedule(this,e,n,s,(i=>this.hc(i)));return this.tc.push(r),r}uc(){this.nc&&ke(47125,{Pc:Ey(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ey(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class po extends Th{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new wy,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wy(e),this._firestoreClient=void 0,await e}}}function sV(t,e){const n=typeof t=="object"?t:tp(),s=typeof t=="string"?t:ku,r=co(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=GR("firestore");i&&nV(r,...i)}return r}function jp(t){if(t._terminated)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rV(t),t._firestoreClient}function rV(t){const e=t._freezeSettings(),n=(function(r,i,o,l){return new Rx(r,i,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,nT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const i=r?._online.build();return{_offline:r?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(yn.fromBase64String(e))}catch(n){throw new fe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ls(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xl(e,ls._jsonSchema))return ls.fromBase64String(e.bytes)}}ls._jsonSchemaVersion="firestore/bytes/1.0",ls._jsonSchema={type:Kt("string",ls._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(Xl(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:Kt("string",Bs._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xl(e,qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qs(e.vectorValues);throw new fe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:Kt("string",qs._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=/^__.*__$/;class oV{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,n,this.fieldTransforms):new ec(e,this.data,n,this.fieldTransforms)}}class rT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class Rh{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $u(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iT(this.Ac)&&iV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aV{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||wh(e)}Cc(e,n,s,r=!1){return new Rh({Ac:e,methodName:n,Dc:s,path:_n.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ch(t){const e=t._freezeSettings(),n=wh(t._databaseId);return new aV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oT(t,e,n,s,r,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);qp("Data must be an object, but it was:",o,s);const l=aT(s,o);let u,h;if(i.merge)u=new Qn(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const _=Af(e,m,n);if(!o.contains(_))throw new fe(X.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);cT(d,_)||d.push(_)}u=new Qn(d),h=o.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,h=o.fieldTransforms;return new oV(new Un(l),u,h)}class Ph extends Sh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function lV(t,e,n){return new Rh({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bp extends Sh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=lV(this,e,!0),s=this.vc.map((i=>wa(i,n))),r=new oa(s);return new Zx(e.path,r)}isEqual(e){return e instanceof Bp&&mr(this.vc,e.vc)}}function cV(t,e,n,s){const r=t.Cc(1,e,n);qp("Data must be an object, but it was:",r,s);const i=[],o=Un.empty();gi(s,((u,h)=>{const d=Hp(e,u,n);h=jt(h);const m=r.yc(d);if(h instanceof Ph)i.push(d);else{const _=wa(h,m);_!=null&&(i.push(d),o.set(d,_))}}));const l=new Qn(i);return new rT(o,l,r.fieldTransforms)}function uV(t,e,n,s,r,i){const o=t.Cc(1,e,n),l=[Af(e,s,n)],u=[r];if(i.length%2!=0)throw new fe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<i.length;_+=2)l.push(Af(e,i[_])),u.push(i[_+1]);const h=[],d=Un.empty();for(let _=l.length-1;_>=0;--_)if(!cT(h,l[_])){const v=l[_];let T=u[_];T=jt(T);const b=o.yc(v);if(T instanceof Ph)h.push(v);else{const A=wa(T,b);A!=null&&(h.push(v),d.set(v,A))}}const m=new Qn(h);return new rT(d,m,o.fieldTransforms)}function hV(t,e,n,s=!1){return wa(n,t.Cc(s?4:3,e))}function wa(t,e){if(lT(t=jt(t)))return qp("Unsupported field value:",e,t),aT(t,e);if(t instanceof Sh)return(function(s,r){if(!iT(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,r){const i=[];let o=0;for(const l of s){let u=wa(l,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}})(t,e)}return(function(s,r){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Jx(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=St.fromDate(s);return{timestampValue:Lu(r.serializer,i)}}if(s instanceof St){const i=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lu(r.serializer,i)}}if(s instanceof Bs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ls)return{bytesValue:Tb(r.serializer,s._byteString)};if(s instanceof Ut){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Rp(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof qs)return(function(o,l){return{mapValue:{fields:{[XE]:{stringValue:ZE},[Ou]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return Tp(l.serializer,h)}))}}}}}})(s,r);throw r.Sc(`Unsupported field value: ${hh(s)}`)})(t,e)}function aT(t,e){const n={};return WE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gi(t,((s,r)=>{const i=wa(r,e.mc(s));i!=null&&(n[s]=i)})),{mapValue:{fields:n}}}function lT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof Bs||t instanceof ls||t instanceof Ut||t instanceof Sh||t instanceof qs)}function qp(t,e,n){if(!lT(n)||!HE(n)){const s=hh(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Af(t,e,n){if((e=jt(e))instanceof Ah)return e._internalPath;if(typeof e=="string")return Hp(t,e);throw $u("Field path arguments must be of type string or ",t,!1,void 0,n)}const dV=new RegExp("[~\\*/\\[\\]]");function Hp(t,e,n){if(e.search(dV)>=0)throw $u(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ah(...e.split("."))._internalPath}catch{throw $u(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $u(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new fe(X.INVALID_ARGUMENT,l+t+u)}function cT(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fV extends uT{data(){return super.data()}}function zp(t,e){return typeof e=="string"?Hp(t,e):e instanceof Ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wp{}class mV extends Wp{}function gV(t,e,...n){let s=[];e instanceof Wp&&s.push(e),s=s.concat(n),(function(i){const o=i.filter((u=>u instanceof Kp)).length,l=i.filter((u=>u instanceof kh)).length;if(o>1||o>0&&l>0)throw new fe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const r of s)t=r._apply(t);return t}class kh extends mV{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new kh(e,n,s)}_apply(e){const n=this._parse(e);return hT(e._query,n),new va(e.firestore,e.converter,pf(e._query,n))}_parse(e){const n=Ch(e.firestore);return(function(i,o,l,u,h,d,m){let _;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new fe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Ty(m,d);const T=[];for(const b of m)T.push(by(u,i,b));_={arrayValue:{values:T}}}else _=by(u,i,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Ty(m,d),_=hV(l,o,m,d==="in"||d==="not-in");return Wt.create(h,d,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _V(t,e,n){const s=e,r=zp("where",t);return kh._create(r,s,n)}class Kp extends Wp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,i){let o=r;const l=i.getFlattenedFilters();for(const u of l)hT(o,u),o=pf(o,u)})(e._query,n),new va(e.firestore,e.converter,pf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function by(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new fe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ab(e)&&n.indexOf("/")!==-1)throw new fe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(bt.fromString(n));if(!Ee.isDocumentKey(s))throw new fe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return U_(t,new Ee(s))}if(n instanceof Ut)return U_(t,n._key);throw new fe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(n)}.`)}function Ty(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hT(t,e){const n=(function(r,i){for(const o of r)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yV{convertValue(e,n="none"){switch(di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gi(e,((r,i)=>{s[r]=this.convertValue(i,n)})),s}convertVectorValue(e){const n=e.fields?.[Ou].arrayValue?.values?.map((s=>Ft(s.doubleValue)));return new qs(n)}convertGeoPoint(e){return new Bs(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=ui(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=bt.fromString(e);ct(Pb(s),9688,{name:e});const r=new Ul(s.get(1),s.get(3)),i=new Ee(s.popFirst(5));return r.isEqual(n)||yr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ji extends uT{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ru(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ji._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ji._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ji._jsonSchema={type:Kt("string",Ji._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class ru extends Ji{data(e={}){return super.data(e)}}class Jo{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new cl(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ru(this._firestore,this._userDataWriter,s.key,s,new cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map((l=>{const u=new ru(r._firestore,r._userDataWriter,l.doc.key,l.doc,new cl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new ru(r._firestore,r._userDataWriter,l.doc.key,l.doc,new cl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:vV(l.type),doc:u,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){t=bs(t,Ut);const e=bs(t.firestore,po);return eV(jp(e),t._key).then((n=>bV(e,t,n)))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:Kt("string",Jo._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class fT extends yV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function Gp(t){t=bs(t,va);const e=bs(t.firestore,po),n=jp(e),s=new fT(e);return pV(t._query),tV(n,t._query).then((r=>new Jo(e,s,t,r)))}function iu(t,e,n){t=bs(t,Ut);const s=bs(t.firestore,po),r=dT(t.converter,e,n);return Oh(s,[oT(Ch(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,ds.none())])}function ju(t,e,n,...s){t=bs(t,Ut);const r=bs(t.firestore,po),i=Ch(r);let o;return o=typeof(e=jt(e))=="string"||e instanceof Ah?uV(i,"updateDoc",t._key,e,n,s):cV(i,"updateDoc",t._key,e),Oh(r,[o.toMutation(t._key,ds.exists(!0))])}function wV(t){return Oh(bs(t.firestore,po),[new Ip(t._key,ds.none())])}function EV(t,e){const n=bs(t.firestore,po),s=Wn(t),r=dT(t.converter,e);return Oh(n,[oT(Ch(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,ds.exists(!1))]).then((()=>s))}function Oh(t,e){return(function(s,r){const i=new dr;return s.asyncQueue.enqueueAndForget((async()=>BD(await ZD(s),r,i))),i.promise})(jp(t),e)}function bV(t,e,n){const s=n.docs.get(e._key),r=new fT(t);return new Ji(t,r,e._key,s,new cl(n.hasPendingWrites,n.fromCache),e.converter)}function Rf(...t){return new Bp("arrayUnion",t)}(function(e,n=!0){(function(r){ma=r})(fa),Ws(new ws("firestore",((s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),l=new po(new lx(s.getProvider("auth-internal")),new hx(o,s.getProvider("app-check-internal")),(function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new fe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(h.options.projectId,d)})(o,r),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),hs(S_,R_,e),hs(S_,R_,"esm2020")})();const TV={apiKey:"AIzaSyDNjyB1PoqDDBAdCV4KGO4p5PgA4BmKovk",authDomain:"sportsconnect-d6d51.firebaseapp.com",projectId:"sportsconnect-d6d51",storageBucket:"sportsconnect-d6d51.firebasestorage.app",messagingSenderId:"753285700826",appId:"1:753285700826:web:0f2ad5d29224d84f1f19e3",measurementId:"G-008MZC63E6"},Qp=Cw(TV);jP(Qp);const yt=DE(Qp),Sn=sV(Qp),rc=UR("user",()=>{const t=qe(null),e=qe(null),n=qe("user"),s=qe(null),r=600*1e3,i=["mousemove","keydown","scroll","click"],o=()=>{if(s.value&&clearTimeout(s.value),!t.value)return;const m=Wn(Sn,"users",t.value.uid);s.value=setTimeout(async()=>{await iu(m,{online:!1,lastSeen:new Date},{merge:!0})},r)},l=()=>{i.forEach(m=>window.addEventListener(m,o))},u=()=>{i.forEach(m=>window.removeEventListener(m,o))},h=async m=>{try{const _=Wn(Sn,"users",m),v=await Sf(_);v.exists()?e.value=v.data():console.error("User profile not found")}catch(_){console.error("Error fetching user profile:",_)}},d=async m=>{try{const _=Wn(Sn,"users",m),v=await Sf(_);v.exists()?n.value=v.data().role||"user":n.value="user"}catch(_){console.error("Error fetching user role:",_),n.value="user"}};return TE(yt,async m=>{if(t.value=m,m){await h(m.uid),await d(m.uid);const _=Wn(Sn,"users",m.uid);await iu(_,{online:!0,lastSeen:new Date},{merge:!0}),o(),l()}else{if(s.value&&(clearTimeout(s.value),s.value=null),u(),t.value){const _=Wn(Sn,"users",t.value.uid);await iu(_,{online:!1,lastSeen:new Date},{merge:!0})}t.value=null,e.value=null,n.value="user"}}),{firebaseUser:t,profile:e,userRole:n}}),IV={key:0,for:"search",class:"search-label"},AV=["placeholder"],SV={__name:"SearchBar",props:{label:{type:String},placeholder:{type:String,default:"Search"}},setup(t){const e=t,n=Ze(()=>e.label&&e.label.length>0);return(s,r)=>(se(),re(Dt,null,[n.value?(se(),re("label",IV,ye(e.label),1)):ze("",!0),R("input",{type:"search",class:"form-control",id:"search",placeholder:e.placeholder,"aria-label":"Search"},null,8,AV),r[0]||(r[0]=R("button",{class:"btn btn-secondary",type:"submit"},"Search",-1))],64))}},RV={class:"dropdown"},CV={class:"dropdown-menu dropdown-menu-end"},PV={class:"nav-item"},kV={class:"nav-item"},OV={class:"nav-item"},xV={key:0,class:"nav-item"},NV={__name:"AccountIcon",setup(t){const e=rc(),n=DE(),s=ha(),r=Ze(()=>!!e.firebaseUser),i=Ze(()=>e.firebaseUser?.photoURL?"rounded-circle":"bi bi-person-circle fs-2 text-white"),o=async()=>{await Gk(n),s.push("/")},l=Ze(()=>(console.log("User Role:",e.userRole),r.value&&e.userRole=="admin"));return(u,h)=>{const d=zl("router-link");return se(),re("div",RV,[R("i",{class:Xt(i.value),role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{cursor:"pointer"}},null,2),R("ul",CV,[r.value?(se(),re(Dt,{key:1},[R("li",OV,[Fe(d,{class:"dropdown-item nav-link",to:"/Profile"},{default:an(()=>[...h[2]||(h[2]=[it("Profile",-1)])]),_:1})]),l.value?(se(),re("li",xV,[Fe(d,{class:"dropdown-item nav-link",to:"/AdminDashboard"},{default:an(()=>[...h[3]||(h[3]=[it("Dashboard",-1)])]),_:1})])):ze("",!0),R("li",{class:"nav-item"},[R("button",{class:"dropdown-item nav-link",onClick:o},"Logout")])],64)):(se(),re(Dt,{key:0},[R("li",PV,[Fe(d,{class:"dropdown-item nav-link",to:"/FireLogin"},{default:an(()=>[...h[0]||(h[0]=[it("Login",-1)])]),_:1})]),R("li",kV,[Fe(d,{class:"dropdown-item nav-link",to:"/FireRegister"},{default:an(()=>[...h[1]||(h[1]=[it("Register",-1)])]),_:1})])],64))])])}}},DV={class:"navbar navbar-expand-lg bg-primary navbar-dark"},VV={class:"container-fluid"},LV={class:"d-flex flex-grow-1 me-auto",role:"search"},MV={class:"collapse navbar-collapse justify-content-end",id:"navbarSupportedContent"},FV={class:"navbar-nav mx-auto mb-2 mb-lg-0"},UV={class:"nav-item dropdown"},$V={class:"dropdown-menu"},jV={class:"nav-item dropdown"},BV={class:"dropdown-menu"},qV={class:"nav-item"},HV={class:"nav-item dropdown"},zV={class:"dropdown-menu"},WV={class:"d-flex align-items-center ms-2 me-2"},KV={__name:"Navbar",setup(t){return(e,n)=>{const s=zl("router-link");return se(),re("nav",DV,[R("div",VV,[Fe(s,{class:"navbar-brand",to:"/"},{default:an(()=>[...n[0]||(n[0]=[it("SportsConnect",-1)])]),_:1}),R("form",LV,[Fe(SV)]),n[14]||(n[14]=R("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[R("span",{class:"navbar-toggler-icon"})],-1)),R("div",MV,[R("ul",FV,[R("li",UV,[n[5]||(n[5]=R("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Explore ",-1)),R("ul",$V,[R("li",null,[Fe(s,{class:"dropdown-item",to:"/Map"},{default:an(()=>[...n[1]||(n[1]=[it("Map",-1)])]),_:1})]),R("li",null,[Fe(s,{class:"dropdown-item",to:"/Search"},{default:an(()=>[...n[2]||(n[2]=[it("Search",-1)])]),_:1})]),R("li",null,[Fe(s,{class:"dropdown-item",to:{path:"/Browse",query:{type:"team"}}},{default:an(()=>[...n[3]||(n[3]=[it("Teams",-1)])]),_:1})]),R("li",null,[Fe(s,{class:"dropdown-item",to:{path:"/Browse",query:{type:"event"}}},{default:an(()=>[...n[4]||(n[4]=[it("Events",-1)])]),_:1})])])]),R("li",jV,[n[9]||(n[9]=R("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Teams and Events ",-1)),R("ul",BV,[R("li",null,[Fe(s,{class:"dropdown-item",to:"/Browse"},{default:an(()=>[...n[6]||(n[6]=[it("Browse",-1)])]),_:1})]),R("li",null,[Fe(s,{class:"dropdown-item",to:{path:"/Browse",query:{type:"team"}}},{default:an(()=>[...n[7]||(n[7]=[it("Teams",-1)])]),_:1})]),R("li",null,[Fe(s,{class:"dropdown-item",to:{path:"/Browse",query:{type:"event"}}},{default:an(()=>[...n[8]||(n[8]=[it("Events",-1)])]),_:1})])])]),R("li",qV,[Fe(s,{class:"nav-link",to:"/Articles"},{default:an(()=>[...n[10]||(n[10]=[it(" Articles ",-1)])]),_:1})]),R("li",HV,[n[13]||(n[13]=R("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," About Us ",-1)),R("ul",zV,[R("li",null,[Fe(s,{class:"dropdown-item",to:"/AboutUs"},{default:an(()=>[...n[11]||(n[11]=[it("Meet the team",-1)])]),_:1})]),R("li",null,[Fe(s,{class:"dropdown-item",to:"/Contact"},{default:an(()=>[...n[12]||(n[12]=[it("Contact us",-1)])]),_:1})])])])])]),R("div",WV,[Fe(NV)])])])}}},Jp=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},GV={class:"position-relative z-index-1"},QV={__name:"App",setup(t){const e=qe(0);return ai(()=>{const n=document.querySelector("nav.navbar");n&&(e.value=n.offsetHeight)}),(n,s)=>{const r=zl("router-view");return se(),re(Dt,null,[Fe(KV,{class:"fixed-top"}),R("div",{class:"position-relative",style:Ku({paddingTop:e.value+"px"})},[s[0]||(s[0]=R("div",{class:"position-absolute top-0 start-0 w-100 h-100 bg-cover"},null,-1)),R("div",GV,[Fe(r)])],4)],64)}}},JV=Jp(QV,[["__scopeId","data-v-6a000c14"]]),YV={},XV={class:"d-flex justify-content-center align-items-center min-vh-100"};function ZV(t,e){return se(),re("div",XV,[...e[0]||(e[0]=[R("div",{class:"floating-box p-4"},[R("h1",{class:"text-center"},"Welcome to SportsConnect")],-1)])])}const eL=Jp(YV,[["render",ZV]]),tL={class:"row mb-3 align-items-center"},nL={class:"col-sm-9"},sL={class:"row mb-3 align-items-center"},rL={class:"col-sm-9"},iL={key:0,class:"text-danger"},oL={__name:"LoginForm",setup(t){const e=qe({email:"",password:""}),n={"auth/invalid-email":"The email address is not valid.","auth/invalid-credential":"Incorrect password. Please try again.","auth/missing-password":"Please enter your password."},s=qe(""),r=ha(),i=()=>{qk(yt,e.value.email,e.value.password).then(()=>{console.log("Firebase Login Successful!"),s.value="",r.push("/")}).catch(o=>{console.log(o.code),s.value=n[o.code]})};return(o,l)=>(se(),re("form",{class:"container mt-4",onSubmit:Jn(i,["prevent"])},[R("div",tL,[l[2]||(l[2]=R("label",{for:"email",class:"col-sm-3 col-form-label"},"Email",-1)),R("div",nL,[gt(R("input",{type:"email",class:"form-control",id:"email",placeholder:"Enter email","onUpdate:modelValue":l[0]||(l[0]=u=>e.value.email=u)},null,512),[[At,e.value.email]])])]),R("div",sL,[l[3]||(l[3]=R("label",{for:"password",class:"col-sm-3 col-form-label"},"Password",-1)),R("div",rL,[gt(R("input",{type:"password",class:"form-control",id:"password",placeholder:"Enter password","onUpdate:modelValue":l[1]||(l[1]=u=>e.value.password=u)},null,512),[[At,e.value.password]]),s.value?(se(),re("div",iL,ye(s.value),1)):ze("",!0)])]),l[4]||(l[4]=R("div",{class:"row"},[R("div",{class:"offset-sm-3 col-sm-9"},[R("button",{type:"submit",class:"btn btn-primary"},"Sign In")])],-1))],32))}},aL={class:"d-flex justify-content-center align-items-center min-vh-100"},lL={class:"floating-box p-4"},cL={__name:"FirebaseSigninView",setup(t){return(e,n)=>(se(),re("div",aL,[R("div",lL,[n[0]||(n[0]=R("h1",{class:"text-center"},"Sign In",-1)),Fe(oL)])]))}},uL={class:"row mb-3 align-items-center"},hL={class:"col-sm-9"},dL={key:0,class:"text-danger"},fL={class:"row mb-3 align-items-center"},pL={class:"col-sm-9"},mL={key:0,class:"text-danger"},gL={class:"row mb-3 align-items-center"},_L={class:"col-sm-9"},yL={key:0,class:"text-danger"},vL={class:"row mb-3 align-items-center"},wL={class:"col-sm-9"},EL={key:0,class:"text-danger"},bL={class:"row mb-3 align-items-center"},TL={class:"col-sm-9"},IL={key:0,class:"text-danger"},AL={class:"row mb-3 align-items-center"},SL={class:"col-sm-9"},RL={key:0,class:"text-danger"},CL={class:"row mb-3 align-items-center"},PL={class:"col-sm-9"},kL={key:0,class:"text-danger"},OL={__name:"RegistrationForm",setup(t){const e=qe({username:"",firstName:"",lastName:"",dob:"",email:"",password:"",confirmPassword:""}),n=ha(),s=async()=>{const T=await Bk(yt,e.value.email,e.value.password);await zk(T.user,{displayName:e.value.username});const b={username:e.value.username,firstName:e.value.firstName,lastName:e.value.lastName,dob:e.value.dob,email:e.value.email,createdAt:new Date};await iu(Wn(Sn,"users",T.user.uid),b);const A=rc();A.firebaseUser=T.user,A.profile=b,console.log("Firebase Register Successful!")},r=async()=>{if(u(!0,e.value.username,"username"),u(!0,e.value.firstName,"firstName"),u(!0,e.value.lastName,"lastName"),d(!0),m(!0),_(!0),v(!0),!o)try{await s(),l(),n.push("/")}catch(T){console.log(T.code)}},i=qe({username:null,firstName:null,lastName:null,dob:null,email:null,password:null,confirmPassword:null}),o=Object.values(i.value).some(T=>T!==null),l=()=>{e.value={username:"",firstName:"",lastName:"",dob:"",email:"",password:"",confirmPassword:""},i.value={username:null,firstName:null,lastName:null,dob:null,email:null,password:null,confirmPassword:null}},u=(T,b,A)=>{b.length<3?T&&(i.value[A]="Name must be at least 3 characters"):i.value[A]=null};function h(T){if(!T)return null;const b=new Date,A=new Date(T);let x=b.getFullYear()-A.getFullYear();const $=b.getMonth()-A.getMonth();return($<0||$===0&&b.getDate()<A.getDate())&&x--,x}const d=T=>{const b=h(e.value.dob);b?isNaN(b)||b<0?i.value.dob="Invalid date of birth":b<13?i.value.dob="You must be at least 13 years old":i.value.dob=null:T&&(i.value.dob="Date of birth is required")},m=T=>{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value.email)?i.value.email=null:T&&(i.value.email="Please enter a valid email.")},_=T=>{const b=e.value.password,A=8,x=/[A-Z]/.test(b),$=/[a-z]/.test(b),B=/\d/.test(b),L=/[ !@#$%^&* ( ),.?":{}|<>]/.test(b);b.length<A?T&&(i.value.password=`Password must be at least ${A} characters long.`):x?$?B?L?i.value.password=null:T&&(i.value.password="Password must contain at least one special character."):T&&(i.value.password="Password must contain at least one number."):T&&(i.value.password="Password must contain at least one lowercase letter."):T&&(i.value.password="Password must contain at least one uppercase letter.")},v=T=>{e.value.password!=e.value.confirmPassword?T&&(i.value.confirmPassword="Passwords do not match."):i.value.password?i.value.confirmPassword=i.value.password:i.value.confirmPassword=null};return(T,b)=>(se(),re("form",{class:"container mt-4",onSubmit:Jn(r,["prevent"])},[R("div",uL,[b[21]||(b[21]=R("label",{for:"username",class:"col-sm-3 col-form-label"},"UserName",-1)),R("div",hL,[gt(R("input",{type:"text",class:"form-control",id:"username",placeholder:"Enter username",onBlur:b[0]||(b[0]=A=>u(!0,e.value.username,"username")),onInput:b[1]||(b[1]=A=>u(!1,e.value.username,"username")),"onUpdate:modelValue":b[2]||(b[2]=A=>e.value.username=A)},null,544),[[At,e.value.username]]),i.value.username?(se(),re("div",dL,ye(i.value.username),1)):ze("",!0)])]),R("div",fL,[b[22]||(b[22]=R("label",{for:"first-name",class:"col-sm-3 col-form-label"},"First Name",-1)),R("div",pL,[gt(R("input",{type:"text",class:"form-control",id:"first-name",placeholder:"Enter first name",onBlur:b[3]||(b[3]=A=>u(!0,e.value.firstName,"firstName")),onInput:b[4]||(b[4]=A=>u(!1,e.value.firstName,"firstName")),"onUpdate:modelValue":b[5]||(b[5]=A=>e.value.firstName=A)},null,544),[[At,e.value.firstName]]),i.value.firstName?(se(),re("div",mL,ye(i.value.firstName),1)):ze("",!0)])]),R("div",gL,[b[23]||(b[23]=R("label",{for:"last-name",class:"col-sm-3 col-form-label"},"Last Name",-1)),R("div",_L,[gt(R("input",{type:"text",class:"form-control",id:"last-name",placeholder:"Enter last name",onBlur:b[6]||(b[6]=A=>u(!0,e.value.lastName,"lastName")),onInput:b[7]||(b[7]=A=>u(!1,e.value.lastName,"lastName")),"onUpdate:modelValue":b[8]||(b[8]=A=>e.value.lastName=A)},null,544),[[At,e.value.lastName]]),i.value.lastName?(se(),re("div",yL,ye(i.value.lastName),1)):ze("",!0)])]),R("div",vL,[b[24]||(b[24]=R("label",{for:"dob",class:"col-sm-3 col-form-label"},"Date of Birth",-1)),R("div",wL,[gt(R("input",{type:"date",class:"form-control",id:"dob",onBlur:b[9]||(b[9]=A=>d(!0)),onInput:b[10]||(b[10]=A=>d(!1)),"onUpdate:modelValue":b[11]||(b[11]=A=>e.value.dob=A)},null,544),[[At,e.value.dob]]),i.value.dob?(se(),re("div",EL,ye(i.value.dob),1)):ze("",!0)])]),R("div",bL,[b[25]||(b[25]=R("label",{for:"email",class:"col-sm-3 col-form-label"},"Email",-1)),R("div",TL,[gt(R("input",{type:"email",class:"form-control",id:"email",placeholder:"Enter email",onBlur:b[12]||(b[12]=A=>m(!0)),onInput:b[13]||(b[13]=A=>m(!1)),"onUpdate:modelValue":b[14]||(b[14]=A=>e.value.email=A)},null,544),[[At,e.value.email]]),i.value.email?(se(),re("div",IL,ye(i.value.email),1)):ze("",!0)])]),R("div",AL,[b[26]||(b[26]=R("label",{for:"password",class:"col-sm-3 col-form-label"},"Password",-1)),R("div",SL,[gt(R("input",{type:"password",class:"form-control",id:"password",placeholder:"Enter password",onBlur:b[15]||(b[15]=A=>_(!0)),onInput:b[16]||(b[16]=A=>_(!1)),"onUpdate:modelValue":b[17]||(b[17]=A=>e.value.password=A)},null,544),[[At,e.value.password]]),i.value.password?(se(),re("div",RL,ye(i.value.password),1)):ze("",!0)])]),R("div",CL,[b[27]||(b[27]=R("label",{for:"confirm-password",class:"col-sm-3 col-form-label"},"Confirm Password",-1)),R("div",PL,[gt(R("input",{type:"password",class:"form-control",id:"confirm-password",placeholder:"Confirm password",onBlur:b[18]||(b[18]=A=>v(!0)),onInput:b[19]||(b[19]=A=>v(!1)),"onUpdate:modelValue":b[20]||(b[20]=A=>e.value.confirmPassword=A)},null,544),[[At,e.value.confirmPassword]]),i.value.confirmPassword?(se(),re("div",kL,ye(i.value.confirmPassword),1)):ze("",!0)])]),b[28]||(b[28]=R("div",{class:"row"},[R("div",{class:"offset-sm-3 col-sm-9"},[R("button",{type:"submit",class:"btn btn-primary"},"Register")])],-1))],32))}},xL={class:"d-flex justify-content-center align-items-center min-vh-100"},NL={class:"floating-box p-4"},DL={__name:"FirebaseRegisterView",setup(t){return(e,n)=>(se(),re("div",xL,[R("div",NL,[n[0]||(n[0]=R("h1",{class:"text-center"},"Create an Account",-1)),Fe(OL)])]))}},VL={class:"d-flex justify-content-center align-items-start min-vh-100 mt-5"},LL={class:"floating-box p-4 w-100",style:{"max-width":"500px"}},ML={class:"text-center mb-4"},FL=["src"],UL={key:1,class:"bi bi-person-circle fs-1 text-secondary"},$L={class:"mb-3"},jL={class:"mb-3"},BL={class:"mb-3"},qL={class:"mb-3"},HL={class:"mb-3"},zL={__name:"ProfileView",setup(t){const e=rc(),n=ao({username:e.profile?.username||"",firstName:e.profile?.firstName||"",lastName:e.profile?.lastName||"",email:e.profile?.email||"",dob:e.profile?.dob||"",photoURL:e.profile?.photoURL||""}),s=async()=>{if(!e.firebaseUser)return;const r=Wn(Sn,"users",e.firebaseUser.uid);try{await ju(r,{username:n.username,firstName:n.firstName,lastName:n.lastName,dob:n.dob}),alert("Profile updated successfully!"),e.profile={...n}}catch(i){console.error(i),alert("Failed to update profile")}};return(r,i)=>(se(),re("div",VL,[R("div",LL,[R("div",ML,[n?.photoURL?(se(),re("img",{key:0,src:n.photoURL,class:"rounded-circle",alt:"User Avatar",width:"100",height:"100"},null,8,FL)):(se(),re("i",UL))]),R("form",{onSubmit:Jn(s,["prevent"])},[R("div",$L,[i[5]||(i[5]=R("label",{class:"form-label"},"Username",-1)),gt(R("input",{type:"text",class:"form-control","onUpdate:modelValue":i[0]||(i[0]=o=>n.username=o)},null,512),[[At,n.username]])]),R("div",jL,[i[6]||(i[6]=R("label",{class:"form-label"},"First Name",-1)),gt(R("input",{type:"text",class:"form-control","onUpdate:modelValue":i[1]||(i[1]=o=>n.firstName=o)},null,512),[[At,n.firstName]])]),R("div",BL,[i[7]||(i[7]=R("label",{class:"form-label"},"Last Name",-1)),gt(R("input",{type:"text",class:"form-control","onUpdate:modelValue":i[2]||(i[2]=o=>n.lastName=o)},null,512),[[At,n.lastName]])]),R("div",qL,[i[8]||(i[8]=R("label",{class:"form-label"},"Email",-1)),gt(R("input",{type:"email",class:"form-control","onUpdate:modelValue":i[3]||(i[3]=o=>n.email=o),disabled:""},null,512),[[At,n.email]])]),R("div",HL,[i[9]||(i[9]=R("label",{class:"form-label"},"Date of Birth",-1)),gt(R("input",{type:"date",class:"form-control","onUpdate:modelValue":i[4]||(i[4]=o=>n.dob=o)},null,512),[[At,n.dob]])]),i[10]||(i[10]=R("button",{class:"btn btn-primary w-100",type:"submit"},"Save Changes",-1))],32)])]))}},WL={class:"star-rating d-flex"},KL=["onClick"],Cf={__name:"StarRating",props:{rating:{type:Number,default:0},editable:{type:Boolean,default:!0}},setup(t){const e=t,n=Ze(()=>e.rating);return(s,r)=>(se(),re("div",WL,[(se(),re(Dt,null,Xi(5,i=>R("span",{key:i,class:Xt(["star",{filled:i<=n.value}]),onClick:o=>t.editable?s.$emit("update:rating",i):null},"  ",10,KL)),64))]))}},GL={class:"card mb-3 text-decoration-none text-dark",style:{"max-width":"600px",cursor:"pointer"}},QL={class:"col-md-4"},JL=["src"],YL={class:"col-md-8 d-flex flex-column justify-content-between"},XL={class:"card-body"},ZL={class:"card-title"},eM={class:"card-text text-truncate"},tM={class:"card-text"},nM={class:"card-footer bg-transparent border-top-0 d-flex justify-content-end"},sM={key:0},rM={key:0,class:"btn btn-secondary",disabled:""},iM={key:1,class:"dropdown"},oM={class:"dropdown-menu"},aM=["disabled"],lM={key:3,class:"btn btn-secondary",disabled:""},cM={key:1,class:"dropdown"},uM={class:"dropdown-menu"},hM=["disabled"],dM={__name:"EventCard",props:{event:{type:Object,required:!0,default:()=>({id:"",image:"",name:"",description:"",reviews:[],owner:""})}},setup(t){const e=rc(),n=Ze(()=>yt.currentUser!=null),s=ha(),r=Ze(()=>!l.event.attendees||!yt.currentUser?!1:l.event.attendees.some(m=>m.uid===yt.currentUser.uid)),i=Ze(()=>n.value&&e.userRole.value=="admin"),o=Ze(()=>l.event.owner.uid==yt.currentUser.uid),l=t,u=async()=>{try{const m=Wn(Sn,"events",l.event.id);await ju(m,{attendees:Rf({uid:yt.currentUser.uid,name:yt.currentUser.displayName,photo:yt.currentUser.photoURL})})}catch(m){console.error("Error applying to event:",m)}},h=Ze(()=>{const m=l.event.reviews||[];if(m.length===0)return 0;const _=m.reduce((v,T)=>v+(T.rating||0),0);return Math.round(_/m.length)}),d=async()=>{if(confirm("Are you sure you want to delete this event?"))try{const m=Wn(Sn,"events",l.event.id);await wV(m),alert("Event deleted"),s.go(0)}catch(m){console.error("Error deleting event:",m)}};return ai(getRole),(m,_)=>{const v=zl("router-link");return se(),re("div",GL,[Fe(v,{class:"row g-0 align-items-center m-2 text-decoration-none text-dark",to:{path:"/EventDetails",query:{id:t.event.id}}},{default:an(()=>[R("div",QL,[R("img",{src:t.event.image||"https://placehold.co/150x150",class:"img-fluid rounded-start",alt:"Event Image"},null,8,JL)]),R("div",YL,[R("div",XL,[R("h5",ZL,ye(t.event.name),1),R("p",eM,ye(t.event.desc),1),R("p",tM,ye(t.event.owner.displayName),1)])])]),_:1},8,["to"]),R("div",nM,[Fe(Cf,{rating:h.value,editable:!1,class:"me-auto"},null,8,["rating"]),i.value?(se(),re("div",cM,[_[1]||(_[1]=R("button",{class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Options ",-1)),R("ul",uM,[R("li",null,[R("button",{class:"dropdown-item",onClick:u,disabled:r.value}," Apply as Participant ",8,hM)]),R("li",null,[R("button",{class:"dropdown-item text-danger",onClick:d}," Delete Event ")])])])):(se(),re("div",sM,[n.value?o.value?(se(),re("div",iM,[_[0]||(_[0]=R("button",{class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Options ",-1)),R("ul",oM,[R("li",null,[R("button",{class:"dropdown-item",onClick:()=>{},disabled:r.value}," Edit Event ",8,aM)]),R("li",null,[R("button",{class:"dropdown-item text-danger",onClick:d}," Delete Event ")])])])):r.value?r.value?(se(),re("button",lM," Already Applied ")):ze("",!0):(se(),re("button",{key:2,class:"btn btn-primary",onClick:Jn(u,["stop","prevent"])}," Apply ")):(se(),re("button",rM," Log in to Apply "))]))])])}}},fM={class:"d-flex justify-content-center align-items-center min-vh-100"},pM={class:"floating-box p-4 w-100",style:{"max-width":"800px"}},mM={key:0,class:"d-flex justify-content-end mb-3"},gM={key:1,class:"text-center"},_M={key:2,class:"list-unstyled"},yM={__name:"BrowseView",setup(t){const e=qe(!1),n=cw();console.log(n.query);const s=qe([]),r=async()=>{try{let i=Ih(Sn,"events");n.query.type&&(i=gV(i,_V("type","==",n.query.type)));const o=await Gp(i);s.value=o.docs.map(l=>({id:l.id,...l.data()}))}catch(i){console.error("Error fetching events:",i)}};return ai(()=>{TE(yt,i=>{e.value=!!i})}),ai(r),zo(()=>n.query,r),(i,o)=>{const l=zl("router-link");return se(),re("div",fM,[R("div",pM,[e.value?(se(),re("div",mM,[Fe(l,{to:"/CreateEvent",class:"btn btn-primary"},{default:an(()=>[...o[0]||(o[0]=[it(" + Create Event ",-1)])]),_:1})])):ze("",!0),s.value.length==0?(se(),re("p",gM,"No Events to Show")):(se(),re("ul",_M,[(se(!0),re(Dt,null,Xi(s.value,(u,h)=>(se(),re("li",{key:h,class:"mb-3"},[Fe(dM,{event:u},null,8,["event"])]))),128))]))])])}}},vM={class:"d-flex justify-content-center align-items-start min-vh-100 py-5"},wM={class:"floating-box p-4 w-100",style:{"max-width":"1000px"}},EM={key:0,class:"text-center"},bM={key:1,class:"text-danger text-center"},TM={key:2},IM={class:"event-banner mb-4"},AM=["src"],SM={class:"text-center mb-5"},RM={class:"fw-bold"},CM={class:"text-muted"},PM={class:"row"},kM={class:"col-md-4"},OM={key:0,class:"d-flex flex-column gap-3"},xM=["src"],NM={key:1,class:"text-muted"},DM={key:3,class:"btn btn-secondary",disabled:""},VM={class:"col-md-8"},LM={key:0},MM={class:"d-flex justify-content-between align-items-center"},FM={class:"text-muted"},UM={class:"mb-0 mt-2"},$M={key:1,class:"text-muted"},jM={key:2},BM={key:0,class:"text-danger"},qM={key:1,class:"text-danger"},HM={__name:"EventDetailsView",setup(t){const e=cw(),n=qe(null),s=qe(!0),r=qe(null),i=qe({rating:0,comment:""}),o=qe({rating:null,comment:null}),l=Ze(()=>yt.currentUser!=null),u=Ze(()=>!n.value?.attendees||!yt.currentUser?!1:n.value?.attendees.some(b=>b.uid===yt.currentUser.uid)),h=Ze(()=>!n.value?.reviews||!yt.currentUser?!1:n.value?.reviews.some(b=>b.user.uid===yt.currentUser.uid));ai(async()=>{_()});const d=b=>{!i.value.comment||i.value.comment.trim().length<10?b&&(o.value.comment="Comment must be at least 10 characters"):o.value.comment=null},m=b=>{i.value.rating<0?b&&(o.value.rating="Rating must be at least 0, How did you even manage to input a negative number?"):i.value.rating>5?b&&(o.value.rating="Rating must be at less than 6"):o.value.rating=null},_=async()=>{try{const b=e.query.id;if(!b){r.value="No event ID provided.",s.value=!1;return}const A=Wn(Sn,"events",b),x=await Sf(A);x.exists()?n.value={id:x.id,...x.data()}:r.value="Event not found."}catch(b){console.error(b),r.value="Failed to load event."}finally{s.value=!1}},v=async()=>{try{const b=Wn(Sn,"events",n.value.id);await ju(b,{attendees:Rf({uid:yt.currentUser.uid,name:yt.currentUser.displayName||"No Display Name",photo:yt.currentUser.photoURL||""})}),n.value.attendees=n.value.attendees||[],n.value.attendees.push({uid:yt.currentUser.uid,name:yt.currentUser.displayName||"Anonymous",photo:yt.currentUser.photoURL||""})}catch(b){console.error("Error applying to event:",b)}},T=async()=>{if(!yt.currentUser||!n.value||(d(!0),m(!0),Object.values(o.value).some($=>$!==null)))return;const A=Wn(Sn,"events",e.query.id),x={user:{uid:yt.currentUser.uid,name:yt.currentUser.displayName||"Anonymous"},...i.value,date:new Date().toISOString().split("T")[0]};await ju(A,{reviews:Rf(x)}),n.value.reviews=n.value.reviews||[],n.value.reviews.push(x),_()};return(b,A)=>(se(),re("div",vM,[R("div",wM,[s.value?(se(),re("div",EM,"Loading event...")):r.value?(se(),re("div",bM,ye(r.value),1)):(se(),re("div",TM,[R("div",IM,[R("img",{src:n.value.bannerUrl||"https://placehold.co/1200x200",alt:"Event Banner",class:"img-fluid w-100 rounded shadow-sm"},null,8,AM)]),R("div",SM,[R("h1",RM,ye(n.value.name),1),R("h4",CM,ye(n.value.sport),1)]),R("div",PM,[R("div",kM,[A[7]||(A[7]=R("h5",{class:"mb-3"},"Attendees",-1)),n.value.attendees&&n.value.attendees.length?(se(),re("div",OM,[(se(!0),re(Dt,null,Xi(n.value.attendees,(x,$)=>(se(),re("div",{key:$,class:"card p-2 d-flex align-items-center flex-row gap-3"},[R("img",{src:x.photo||"https://placehold.co/50",class:"rounded-circle",width:"50",height:"50",alt:"User"},null,8,xM),R("span",null,ye(x.name),1)]))),128))])):(se(),re("p",NM,"No attendees yet.")),l.value&&!u.value?(se(),re("button",{key:2,class:"btn btn-primary",onClick:Jn(v,["stop","prevent"])}," Apply ")):l.value&&u.value?(se(),re("button",DM," Already Applied ")):(se(),re("button",{key:4,class:"btn btn-secondary",disabled:"",onClick:A[0]||(A[0]=Jn(()=>{},["stop","prevent"]))}," Log in to Apply "))]),R("div",VM,[A[9]||(A[9]=R("h5",{class:"mb-3"},"Reviews",-1)),n.value.reviews?(se(),re("div",LM,[(se(!0),re(Dt,null,Xi(n.value.reviews,(x,$)=>(se(),re("div",{key:$,class:"card p-3 shadow-sm"},[R("div",MM,[R("strong",null,ye(x.user.name),1),R("small",FM,ye(x.date),1)]),R("div",null,[Fe(Cf,{rating:x.rating,editable:!1},null,8,["rating"])]),R("p",UM,ye(x.comment),1)]))),128))])):(se(),re("p",$M,"No reviews yet.")),!h.value&&u.value?(se(),re("div",jM,[A[8]||(A[8]=R("h5",{class:"mt-4"},"Leave a Review",-1)),Fe(Cf,{rating:i.value.rating,"onUpdate:rating":A[1]||(A[1]=x=>i.value.rating=x),editable:!0,onBlur:A[2]||(A[2]=x=>m(!0)),onInput:A[3]||(A[3]=x=>m(!1))},null,8,["rating"]),o.value.rating?(se(),re("div",BM,ye(o.value.rating),1)):ze("",!0),gt(R("textarea",{"onUpdate:modelValue":A[4]||(A[4]=x=>i.value.comment=x),class:"form-control mt-2",placeholder:"Write your review...",onBlur:A[5]||(A[5]=x=>d(!0)),onInput:A[6]||(A[6]=x=>d(!1))},null,544),[[At,i.value.comment]]),o.value.comment?(se(),re("div",qM,ye(o.value.comment),1)):ze("",!0),R("button",{class:"btn btn-success mt-2",onClick:T}," Submit Review ")])):ze("",!0)])])]))])]))}},zM={class:"d-flex justify-content-center align-items-start min-vh-100 py-5"},WM={class:"floating-box p-4 w-100",style:{"max-width":"1000px"}},KM={class:"row mb-3 align-items-center"},GM={class:"col-sm-9"},QM={key:0,class:"text-danger"},JM={class:"row mb-3 align-items-center"},YM={class:"col-sm-9"},XM={key:0,class:"text-danger"},ZM={class:"row mb-3 align-items-center"},e2={class:"col-sm-9"},t2=["value"],n2={key:0,class:"text-danger"},s2={class:"row mb-3 align-items-center"},r2={class:"col-sm-9"},i2={key:0,class:"text-danger"},o2={class:"row mb-3 align-items-center"},a2={class:"col-sm-9"},l2={class:"row mb-3 align-items-center"},c2={class:"col-sm-9"},u2={key:0,class:"text-danger"},h2={class:"row mb-3 align-items-center"},d2={class:"col-sm-9"},f2={__name:"EventCreateView",setup(t){const e=ha(),n=["Football (AFL)","Soccer","Cricket","Basketball","Tennis"],s=qe({name:"",desc:"",sport:"",date:"",recurring:!1,capacity:null,isPublic:!1}),r=qe({name:null,desc:null,sport:null,date:null,capacity:null}),i=m=>{!s.value.name||s.value.name.trim().length<3?m&&(r.value.name="Event name must be at least 3 characters"):r.value.name=null},o=m=>{!s.value.desc||s.value.desc.trim().length<10?m&&(r.value.desc="Description must be at least 10 characters"):r.value.desc=null},l=m=>{s.value.sport?r.value.sport=null:m&&(r.value.sport="Please select a sport")},u=m=>{s.value.date?new Date(s.value.date)<new Date?m&&(r.value.date="Date must be in the future"):r.value.date=null:m&&(r.value.date="Please select a date")},h=m=>{(s.value.capacity==null||s.value.capacity<1)&&m&&(r.value.capacity="Capacity must be at least 1"),r.value.capacity=null},d=async()=>{if(i(!0),o(!0),l(!0),u(!0),h(!0),!Object.values(r.value).some(_=>_!==null))try{const _={...s.value,owner:{uid:yt.currentUser.uid,displayName:yt.currentUser.displayName},type:"event",createdAt:new Date},v=await EV(Ih(Sn,"events"),_);console.log("Event created with ID:",v.id),e.push({path:"/EventDetails",query:{id:v.id}})}catch(_){console.error("Error creating event:",_)}};return(m,_)=>(se(),re("div",zM,[R("div",WM,[_[28]||(_[28]=R("h1",{class:"text-center"},"Create Your Event",-1)),R("form",{class:"container mt-4",onSubmit:Jn(d,["prevent"])},[R("div",KM,[_[17]||(_[17]=R("label",{for:"name",class:"col-sm-3 col-form-label"},"Event Name",-1)),R("div",GM,[gt(R("input",{type:"text",id:"name",class:"form-control",placeholder:"Enter event name","onUpdate:modelValue":_[0]||(_[0]=v=>s.value.name=v),onBlur:_[1]||(_[1]=v=>i(!0)),onInput:_[2]||(_[2]=v=>i(!1))},null,544),[[At,s.value.name]]),r.value.name?(se(),re("div",QM,ye(r.value.name),1)):ze("",!0)])]),R("div",JM,[_[18]||(_[18]=R("label",{for:"description",class:"col-sm-3 col-form-label"},"Event Description",-1)),R("div",YM,[gt(R("textarea",{id:"description",class:"form-control",placeholder:"Enter event description","onUpdate:modelValue":_[3]||(_[3]=v=>s.value.desc=v),onBlur:_[4]||(_[4]=v=>o(!0)),onInput:_[5]||(_[5]=v=>o(!1)),rows:"4"},null,544),[[At,s.value.desc]]),r.value.desc?(se(),re("div",XM,ye(r.value.desc),1)):ze("",!0)])]),R("div",ZM,[_[20]||(_[20]=R("label",{for:"sport",class:"col-sm-3 col-form-label"},"Sport",-1)),R("div",e2,[gt(R("select",{id:"sport",class:"form-select","onUpdate:modelValue":_[6]||(_[6]=v=>s.value.sport=v),onBlur:_[7]||(_[7]=v=>l(!0)),onInput:_[8]||(_[8]=v=>l(!1))},[_[19]||(_[19]=R("option",{disabled:"",value:""},"Select sport",-1)),(se(),re(Dt,null,Xi(n,(v,T)=>R("option",{key:T,value:v},ye(v),9,t2)),64))],544),[[b0,s.value.sport]]),r.value.sport?(se(),re("div",n2,ye(r.value.sport),1)):ze("",!0)])]),R("div",s2,[_[21]||(_[21]=R("label",{for:"date",class:"col-sm-3 col-form-label"},"Date",-1)),R("div",r2,[gt(R("input",{type:"date",id:"date",class:"form-control","onUpdate:modelValue":_[9]||(_[9]=v=>s.value.date=v),onBlur:_[10]||(_[10]=v=>u(!0)),onInput:_[11]||(_[11]=v=>u(!1))},null,544),[[At,s.value.date]]),r.value.date?(se(),re("div",i2,ye(r.value.date),1)):ze("",!0)])]),R("div",o2,[_[23]||(_[23]=R("label",{class:"col-sm-3 col-form-label"},"Recurring",-1)),R("div",a2,[gt(R("input",{type:"checkbox",id:"recurring","onUpdate:modelValue":_[12]||(_[12]=v=>s.value.recurring=v)},null,512),[[_g,s.value.recurring]]),_[22]||(_[22]=R("label",{for:"recurring",class:"ms-2"},"Yes",-1))])]),R("div",l2,[_[24]||(_[24]=R("label",{for:"capacity",class:"col-sm-3 col-form-label"},"Capacity",-1)),R("div",c2,[gt(R("input",{type:"number",id:"capacity",class:"form-control",placeholder:"Enter max participants","onUpdate:modelValue":_[13]||(_[13]=v=>s.value.capacity=v),onBlur:_[14]||(_[14]=v=>h(!0)),onInput:_[15]||(_[15]=v=>h(!1))},null,544),[[At,s.value.capacity,void 0,{number:!0}]]),r.value.capacity?(se(),re("div",u2,ye(r.value.capacity),1)):ze("",!0)])]),R("div",h2,[_[26]||(_[26]=R("label",{class:"col-sm-3 col-form-label"},"Public Event",-1)),R("div",d2,[gt(R("input",{type:"checkbox",id:"public","onUpdate:modelValue":_[16]||(_[16]=v=>s.value.isPublic=v)},null,512),[[_g,s.value.isPublic]]),_[25]||(_[25]=R("label",{for:"public",class:"ms-2"},"Visible to everyone",-1))])]),_[27]||(_[27]=R("div",{class:"row"},[R("div",{class:"offset-sm-3 col-sm-9"},[R("button",{type:"submit",class:"btn btn-success"},"Create Event")])],-1))],32)])]))}},p2={class:"table"},m2={key:0},g2={key:0},_2={key:0},y2={key:0},v2={key:0},w2={key:0},E2={class:"d-flex justify-content-center"},b2=["disabled"],T2={class:"mx-2"},I2=["disabled"],kd=10,A2={__name:"EventTable",setup(t){const e=qe([]),n=qe(""),s=qe(""),r=qe(""),i=qe(1),o=qe("name"),l=qe("asc"),u=async()=>{try{const A=Ih(Sn,"events"),x=await Gp(A);e.value=x.docs.map($=>({id:$.id,...$.data()}))}catch(A){console.error("Error fetching events: ",A)}},h=Ze(()=>{const A=m.value||[];return Math.ceil(A.length/kd)}),d=Ze(()=>{const A=[...m.value],x=(i.value-1)*kd,$=x+kd;return A.slice(x,$)}),m=Ze(()=>{const x=[...e.value.filter($=>{const B=$.name.toLowerCase().includes(n.value.toLowerCase()),L=$.sport.toLowerCase().includes(s.value.toLowerCase()),Y=$.owner.displayName.toLowerCase().includes(r.value.toLowerCase());return B&&L&&Y})];return o.value&&x.sort(($,B)=>{let L=$[o.value]||"",Y=B[o.value]||"";return o.value==="reports"&&(L=$.reports?.length||0,Y=B.reports?.length||0),o.value==="capacity"&&(L=$.capacity||0,Y=B.capacity||0),typeof L=="string"&&(L=L.toLowerCase(),Y=Y.toLowerCase()),L<Y?l.value==="asc"?-1:1:L>Y?l.value==="asc"?1:-1:0}),x}),_=A=>{A>0&&A<=h.value&&(i.value=A)},v=A=>{o.value===A?l.value=l.value==="asc"?"desc":"asc":(o.value=A,l.value="asc")},T=A=>o.value===A?l.value==="asc"?"":"":"",b=A=>o.value===A;return ai(()=>{u()}),(A,x)=>(se(),re(Dt,null,[x[22]||(x[22]=R("h4",null,"Event List",-1)),R("table",p2,[R("thead",null,[R("tr",null,[R("th",{onClick:x[2]||(x[2]=$=>v("name")),class:Xt({sorted:b("name")})},[x[14]||(x[14]=it(" Title ",-1)),b("name")?(se(),re("span",m2,ye(T("name")),1)):ze("",!0),gt(R("input",{"onUpdate:modelValue":x[0]||(x[0]=$=>n.value=$),type:"text",class:"form-control form-control-sm mt-2",placeholder:"Search",onClick:x[1]||(x[1]=Jn(()=>{},["stop"]))},null,512),[[At,n.value]])],2),R("th",{onClick:x[3]||(x[3]=$=>v("date")),class:Xt({sorted:b("date")})},[x[15]||(x[15]=it(" Date ",-1)),b("date")?(se(),re("span",g2,ye(T("date")),1)):ze("",!0)],2),R("th",{onClick:x[6]||(x[6]=$=>v("sport")),class:Xt({sorted:b("sport")})},[x[16]||(x[16]=it(" Sport ",-1)),b("sport")?(se(),re("span",_2,ye(T("sport")),1)):ze("",!0),gt(R("input",{"onUpdate:modelValue":x[4]||(x[4]=$=>s.value=$),type:"text",class:"form-control form-control-sm mt-2",placeholder:"Search",onClick:x[5]||(x[5]=Jn(()=>{},["stop"]))},null,512),[[At,s.value]])],2),R("th",{onClick:x[7]||(x[7]=$=>v("capacity")),class:Xt({sorted:b("capacity")})},[x[17]||(x[17]=it(" Capacity ",-1)),b("capacity")?(se(),re("span",y2,ye(T("capacity")),1)):ze("",!0)],2),R("th",{onClick:x[10]||(x[10]=$=>v("owner.displayName")),class:Xt({sorted:b("owner.displayName")})},[x[18]||(x[18]=it(" Owner ",-1)),b("owner.displayName")?(se(),re("span",v2,ye(T("owner.displayName")),1)):ze("",!0),gt(R("input",{"onUpdate:modelValue":x[8]||(x[8]=$=>r.value=$),type:"text",class:"form-control form-control-sm mt-2",placeholder:"Search",onClick:x[9]||(x[9]=Jn(()=>{},["stop"]))},null,512),[[At,r.value]])],2),R("th",{onClick:x[11]||(x[11]=$=>v("reports")),class:Xt({sorted:b("reports")})},[x[19]||(x[19]=it(" Reports ",-1)),b("reports")?(se(),re("span",w2,ye(T("reports")),1)):ze("",!0)],2),x[20]||(x[20]=R("th",null,"Actions",-1))])]),R("tbody",null,[(se(!0),re(Dt,null,Xi(d.value,$=>(se(),re("tr",{key:$.id},[R("td",null,ye($.name),1),R("td",null,ye($.date),1),R("td",null,ye($.sport),1),R("td",null,ye($.attendees.length)+"/"+ye($.capacity),1),R("td",null,ye($.owner.displayName),1),R("td",null,ye($.reports?.length||0),1),x[21]||(x[21]=R("td",null,[R("button",{class:"btn btn-sm btn-primary"},"View")],-1))]))),128))])]),R("div",E2,[R("button",{class:"btn btn-sm btn-secondary",disabled:i.value===1,onClick:x[12]||(x[12]=$=>_(i.value-1))},"Previous",8,b2),R("span",T2,"Page "+ye(i.value)+" of "+ye(h.value),1),R("button",{class:"btn btn-sm btn-secondary",disabled:i.value===h.value,onClick:x[13]||(x[13]=$=>_(i.value+1))},"Next",8,I2)])],64))}};function pT(t,e){return function(){return t.apply(e,arguments)}}const{toString:S2}=Object.prototype,{getPrototypeOf:Yp}=Object,{iterator:xh,toStringTag:mT}=Symbol,Nh=(t=>e=>{const n=S2.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),As=t=>(t=t.toLowerCase(),e=>Nh(e)===t),Dh=t=>e=>typeof e===t,{isArray:Ea}=Array,ca=Dh("undefined");function ic(t){return t!==null&&!ca(t)&&t.constructor!==null&&!ca(t.constructor)&&jn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gT=As("ArrayBuffer");function R2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&gT(t.buffer),e}const C2=Dh("string"),jn=Dh("function"),_T=Dh("number"),oc=t=>t!==null&&typeof t=="object",P2=t=>t===!0||t===!1,ou=t=>{if(Nh(t)!=="object")return!1;const e=Yp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(mT in t)&&!(xh in t)},k2=t=>{if(!oc(t)||ic(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},O2=As("Date"),x2=As("File"),N2=As("Blob"),D2=As("FileList"),V2=t=>oc(t)&&jn(t.pipe),L2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||jn(t.append)&&((e=Nh(t))==="formdata"||e==="object"&&jn(t.toString)&&t.toString()==="[object FormData]"))},M2=As("URLSearchParams"),[F2,U2,$2,j2]=["ReadableStream","Request","Response","Headers"].map(As),B2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ac(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Ea(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(ic(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(s=0;s<o;s++)l=i[s],e.call(null,t[l],l,t)}}function yT(t,e){if(ic(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vT=t=>!ca(t)&&t!==Ki;function Pf(){const{caseless:t,skipUndefined:e}=vT(this)&&this||{},n={},s=(r,i)=>{const o=t&&yT(n,i)||i;ou(n[o])&&ou(r)?n[o]=Pf(n[o],r):ou(r)?n[o]=Pf({},r):Ea(r)?n[o]=r.slice():(!e||!ca(r))&&(n[o]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ac(arguments[r],s);return n}const q2=(t,e,n,{allOwnKeys:s}={})=>(ac(e,(r,i)=>{n&&jn(r)?t[i]=pT(r,n):t[i]=r},{allOwnKeys:s}),t),H2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),z2=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},W2=(t,e,n,s)=>{let r,i,o;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Yp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},K2=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},G2=t=>{if(!t)return null;if(Ea(t))return t;let e=t.length;if(!_T(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Q2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yp(Uint8Array)),J2=(t,e)=>{const s=(t&&t[xh]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},Y2=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},X2=As("HTMLFormElement"),Z2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Iy=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),eF=As("RegExp"),wT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};ac(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},tF=t=>{wT(t,(e,n)=>{if(jn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(jn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nF=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Ea(t)?s(t):s(String(t).split(e)),n},sF=()=>{},rF=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function iF(t){return!!(t&&jn(t.append)&&t[mT]==="FormData"&&t[xh])}const oF=t=>{const e=new Array(10),n=(s,r)=>{if(oc(s)){if(e.indexOf(s)>=0)return;if(ic(s))return s;if(!("toJSON"in s)){e[r]=s;const i=Ea(s)?[]:{};return ac(s,(o,l)=>{const u=n(o,r+1);!ca(u)&&(i[l]=u)}),e[r]=void 0,i}}return s};return n(t,0)},aF=As("AsyncFunction"),lF=t=>t&&(oc(t)||jn(t))&&jn(t.then)&&jn(t.catch),ET=((t,e)=>t?setImmediate:e?((n,s)=>(Ki.addEventListener("message",({source:r,data:i})=>{r===Ki&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Ki.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",jn(Ki.postMessage)),cF=typeof queueMicrotask<"u"?queueMicrotask.bind(Ki):typeof process<"u"&&process.nextTick||ET,uF=t=>t!=null&&jn(t[xh]),q={isArray:Ea,isArrayBuffer:gT,isBuffer:ic,isFormData:L2,isArrayBufferView:R2,isString:C2,isNumber:_T,isBoolean:P2,isObject:oc,isPlainObject:ou,isEmptyObject:k2,isReadableStream:F2,isRequest:U2,isResponse:$2,isHeaders:j2,isUndefined:ca,isDate:O2,isFile:x2,isBlob:N2,isRegExp:eF,isFunction:jn,isStream:V2,isURLSearchParams:M2,isTypedArray:Q2,isFileList:D2,forEach:ac,merge:Pf,extend:q2,trim:B2,stripBOM:H2,inherits:z2,toFlatObject:W2,kindOf:Nh,kindOfTest:As,endsWith:K2,toArray:G2,forEachEntry:J2,matchAll:Y2,isHTMLForm:X2,hasOwnProperty:Iy,hasOwnProp:Iy,reduceDescriptors:wT,freezeMethods:tF,toObjectSet:nF,toCamelCase:Z2,noop:sF,toFiniteNumber:rF,findKey:yT,global:Ki,isContextDefined:vT,isSpecCompliantForm:iF,toJSONObject:oF,isAsyncFn:aF,isThenable:lF,setImmediate:ET,asap:cF,isIterable:uF};function Ue(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}q.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const bT=Ue.prototype,TT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{TT[t]={value:t}});Object.defineProperties(Ue,TT);Object.defineProperty(bT,"isAxiosError",{value:!0});Ue.from=(t,e,n,s,r,i)=>{const o=Object.create(bT);q.toFlatObject(t,o,function(d){return d!==Error.prototype},h=>h!=="isAxiosError");const l=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return Ue.call(o,l,u,n,s,r),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const hF=null;function kf(t){return q.isPlainObject(t)||q.isArray(t)}function IT(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function Ay(t,e,n){return t?t.concat(e).map(function(r,i){return r=IT(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function dF(t){return q.isArray(t)&&!t.some(kf)}const fF=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function Vh(t,e,n){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,A){return!q.isUndefined(A[b])});const s=n.metaTokens,r=n.visitor||d,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(r))throw new TypeError("visitor must be a function");function h(T){if(T===null)return"";if(q.isDate(T))return T.toISOString();if(q.isBoolean(T))return T.toString();if(!u&&q.isBlob(T))throw new Ue("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(T)||q.isTypedArray(T)?u&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function d(T,b,A){let x=T;if(T&&!A&&typeof T=="object"){if(q.endsWith(b,"{}"))b=s?b:b.slice(0,-2),T=JSON.stringify(T);else if(q.isArray(T)&&dF(T)||(q.isFileList(T)||q.endsWith(b,"[]"))&&(x=q.toArray(T)))return b=IT(b),x.forEach(function(B,L){!(q.isUndefined(B)||B===null)&&e.append(o===!0?Ay([b],L,i):o===null?b:b+"[]",h(B))}),!1}return kf(T)?!0:(e.append(Ay(A,b,i),h(T)),!1)}const m=[],_=Object.assign(fF,{defaultVisitor:d,convertValue:h,isVisitable:kf});function v(T,b){if(!q.isUndefined(T)){if(m.indexOf(T)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(T),q.forEach(T,function(x,$){(!(q.isUndefined(x)||x===null)&&r.call(e,x,q.isString($)?$.trim():$,b,_))===!0&&v(x,b?b.concat($):[$])}),m.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Sy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Xp(t,e){this._pairs=[],t&&Vh(t,this,e)}const AT=Xp.prototype;AT.append=function(e,n){this._pairs.push([e,n])};AT.toString=function(e){const n=e?function(s){return e.call(this,s,Sy)}:Sy;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function pF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ST(t,e,n){if(!e)return t;const s=n&&n.encode||pF;q.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=q.isURLSearchParams(e)?e.toString():new Xp(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Ry{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(s){s!==null&&e(s)})}}const RT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mF=typeof URLSearchParams<"u"?URLSearchParams:Xp,gF=typeof FormData<"u"?FormData:null,_F=typeof Blob<"u"?Blob:null,yF={isBrowser:!0,classes:{URLSearchParams:mF,FormData:gF,Blob:_F},protocols:["http","https","file","blob","url","data"]},Zp=typeof window<"u"&&typeof document<"u",Of=typeof navigator=="object"&&navigator||void 0,vF=Zp&&(!Of||["ReactNative","NativeScript","NS"].indexOf(Of.product)<0),wF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EF=Zp&&window.location.href||"http://localhost",bF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zp,hasStandardBrowserEnv:vF,hasStandardBrowserWebWorkerEnv:wF,navigator:Of,origin:EF},Symbol.toStringTag,{value:"Module"})),Rn={...bF,...yF};function TF(t,e){return Vh(t,new Rn.classes.URLSearchParams,{visitor:function(n,s,r,i){return Rn.isNode&&q.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function IF(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function AF(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function CT(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=n.length;return o=!o&&q.isArray(r)?r.length:o,u?(q.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!l):((!r[o]||!q.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&q.isArray(r[o])&&(r[o]=AF(r[o])),!l)}if(q.isFormData(t)&&q.isFunction(t.entries)){const n={};return q.forEachEntry(t,(s,r)=>{e(IF(s),r,n,0)}),n}return null}function SF(t,e,n){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const lc={transitional:RT,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=q.isObject(e);if(i&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return r?JSON.stringify(CT(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return TF(e,this.formSerializer).toString();if((l=q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Vh(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),SF(e)):e}],transformResponse:[function(e){const n=this.transitional||lc.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Ue.from(l,Ue.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rn.classes.FormData,Blob:Rn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{lc.headers[t]={}});const RF=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CF=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&RF[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Cy=Symbol("internals");function nl(t){return t&&String(t).trim().toLowerCase()}function au(t){return t===!1||t==null?t:q.isArray(t)?t.map(au):String(t)}function PF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const kF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Od(t,e,n,s,r){if(q.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!q.isString(e)){if(q.isString(s))return e.indexOf(s)!==-1;if(q.isRegExp(s))return s.test(e)}}function OF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function xF(t,e){const n=q.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}let Bn=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(l,u,h){const d=nl(u);if(!d)throw new Error("header name must be a non-empty string");const m=q.findKey(r,d);(!m||r[m]===void 0||h===!0||h===void 0&&r[m]!==!1)&&(r[m||u]=au(l))}const o=(l,u)=>q.forEach(l,(h,d)=>i(h,d,u));if(q.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(q.isString(e)&&(e=e.trim())&&!kF(e))o(CF(e),n);else if(q.isObject(e)&&q.isIterable(e)){let l={},u,h;for(const d of e){if(!q.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[h=d[0]]=(u=l[h])?q.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(l,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=nl(e),e){const s=q.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return PF(r);if(q.isFunction(n))return n.call(this,r,s);if(q.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=nl(e),e){const s=q.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Od(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=nl(o),o){const l=q.findKey(s,o);l&&(!n||Od(s,s[l],l,n))&&(delete s[l],r=!0)}}return q.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||Od(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return q.forEach(this,(r,i)=>{const o=q.findKey(s,i);if(o){n[o]=au(r),delete n[i];return}const l=e?OF(i):String(i).trim();l!==i&&delete n[i],n[l]=au(r),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return q.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&q.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Cy]=this[Cy]={accessors:{}}).accessors,r=this.prototype;function i(o){const l=nl(o);s[l]||(xF(r,o),s[l]=!0)}return q.isArray(e)?e.forEach(i):i(e),this}};Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(Bn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});q.freezeMethods(Bn);function xd(t,e){const n=this||lc,s=e||n,r=Bn.from(s.headers);let i=s.data;return q.forEach(t,function(l){i=l.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function PT(t){return!!(t&&t.__CANCEL__)}function ba(t,e,n){Ue.call(this,t??"canceled",Ue.ERR_CANCELED,e,n),this.name="CanceledError"}q.inherits(ba,Ue,{__CANCEL__:!0});function kT(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Ue("Request failed with status code "+n.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function NF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function DF(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),d=s[i];o||(o=h),n[r]=u,s[r]=h;let m=i,_=0;for(;m!==r;)_+=n[m++],m=m%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),h-o<e)return;const v=d&&h-d;return v?Math.round(_*1e3/v):void 0}}function VF(t,e){let n=0,s=1e3/e,r,i;const o=(h,d=Date.now())=>{n=d,r=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const d=Date.now(),m=d-n;m>=s?o(h,d):(r=h,i||(i=setTimeout(()=>{i=null,o(r)},s-m)))},()=>r&&o(r)]}const Bu=(t,e,n=3)=>{let s=0;const r=DF(50,250);return VF(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-s,h=r(u),d=o<=l;s=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&d?(l-o)/h:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},n)},Py=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},ky=t=>(...e)=>q.asap(()=>t(...e)),LF=Rn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Rn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Rn.origin),Rn.navigator&&/(msie|trident)/i.test(Rn.navigator.userAgent)):()=>!0,MF=Rn.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const o=[t+"="+encodeURIComponent(e)];q.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),q.isString(s)&&o.push("path="+s),q.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function FF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function UF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function OT(t,e,n){let s=!FF(e);return t&&(s||n==!1)?UF(t,e):e}const Oy=t=>t instanceof Bn?{...t}:t;function io(t,e){e=e||{};const n={};function s(h,d,m,_){return q.isPlainObject(h)&&q.isPlainObject(d)?q.merge.call({caseless:_},h,d):q.isPlainObject(d)?q.merge({},d):q.isArray(d)?d.slice():d}function r(h,d,m,_){if(q.isUndefined(d)){if(!q.isUndefined(h))return s(void 0,h,m,_)}else return s(h,d,m,_)}function i(h,d){if(!q.isUndefined(d))return s(void 0,d)}function o(h,d){if(q.isUndefined(d)){if(!q.isUndefined(h))return s(void 0,h)}else return s(void 0,d)}function l(h,d,m){if(m in e)return s(h,d);if(m in t)return s(void 0,h)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,d,m)=>r(Oy(h),Oy(d),m,!0)};return q.forEach(Object.keys({...t,...e}),function(d){const m=u[d]||r,_=m(t[d],e[d],d);q.isUndefined(_)&&m!==l||(n[d]=_)}),n}const xT=t=>{const e=io({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=e;if(e.headers=o=Bn.from(o),e.url=ST(OT(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),q.isFormData(n)){if(Rn.hasStandardBrowserEnv||Rn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(q.isFunction(n.getHeaders)){const u=n.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([d,m])=>{h.includes(d.toLowerCase())&&o.set(d,m)})}}if(Rn.hasStandardBrowserEnv&&(s&&q.isFunction(s)&&(s=s(e)),s||s!==!1&&LF(e.url))){const u=r&&i&&MF.read(i);u&&o.set(r,u)}return e},$F=typeof XMLHttpRequest<"u",jF=$F&&function(t){return new Promise(function(n,s){const r=xT(t);let i=r.data;const o=Bn.from(r.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=r,d,m,_,v,T;function b(){v&&v(),T&&T(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let A=new XMLHttpRequest;A.open(r.method.toUpperCase(),r.url,!0),A.timeout=r.timeout;function x(){if(!A)return;const B=Bn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),Y={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:B,config:t,request:A};kT(function(O){n(O),b()},function(O){s(O),b()},Y),A=null}"onloadend"in A?A.onloadend=x:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(x)},A.onabort=function(){A&&(s(new Ue("Request aborted",Ue.ECONNABORTED,t,A)),A=null)},A.onerror=function(L){const Y=L&&L.message?L.message:"Network Error",Se=new Ue(Y,Ue.ERR_NETWORK,t,A);Se.event=L||null,s(Se),A=null},A.ontimeout=function(){let L=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const Y=r.transitional||RT;r.timeoutErrorMessage&&(L=r.timeoutErrorMessage),s(new Ue(L,Y.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,t,A)),A=null},i===void 0&&o.setContentType(null),"setRequestHeader"in A&&q.forEach(o.toJSON(),function(L,Y){A.setRequestHeader(Y,L)}),q.isUndefined(r.withCredentials)||(A.withCredentials=!!r.withCredentials),l&&l!=="json"&&(A.responseType=r.responseType),h&&([_,T]=Bu(h,!0),A.addEventListener("progress",_)),u&&A.upload&&([m,v]=Bu(u),A.upload.addEventListener("progress",m),A.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(d=B=>{A&&(s(!B||B.type?new ba(null,t,A):B),A.abort(),A=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const $=NF(r.url);if($&&Rn.protocols.indexOf($)===-1){s(new Ue("Unsupported protocol "+$+":",Ue.ERR_BAD_REQUEST,t));return}A.send(i||null)})},BF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(h){if(!r){r=!0,l();const d=h instanceof Error?h:this.reason;s.abort(d instanceof Ue?d:new ba(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:u}=s;return u.unsubscribe=()=>q.asap(l),u}},qF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},HF=async function*(t,e){for await(const n of zF(t))yield*qF(n,e)},zF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},xy=(t,e,n,s)=>{const r=HF(t,e);let i=0,o,l=u=>{o||(o=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:h,value:d}=await r.next();if(h){l(),u.close();return}let m=d.byteLength;if(n){let _=i+=m;n(_)}u.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(u){return l(u),r.return()}},{highWaterMark:2})},Ny=64*1024,{isFunction:qc}=q,WF=(({Request:t,Response:e})=>({Request:t,Response:e}))(q.global),{ReadableStream:Dy,TextEncoder:Vy}=q.global,Ly=(t,...e)=>{try{return!!t(...e)}catch{return!1}},KF=t=>{t=q.merge.call({skipUndefined:!0},WF,t);const{fetch:e,Request:n,Response:s}=t,r=e?qc(e):typeof fetch=="function",i=qc(n),o=qc(s);if(!r)return!1;const l=r&&qc(Dy),u=r&&(typeof Vy=="function"?(T=>b=>T.encode(b))(new Vy):async T=>new Uint8Array(await new n(T).arrayBuffer())),h=i&&l&&Ly(()=>{let T=!1;const b=new n(Rn.origin,{body:new Dy,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!b}),d=o&&l&&Ly(()=>q.isReadableStream(new s("").body)),m={stream:d&&(T=>T.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!m[T]&&(m[T]=(b,A)=>{let x=b&&b[T];if(x)return x.call(b);throw new Ue(`Response type '${T}' is not supported`,Ue.ERR_NOT_SUPPORT,A)})});const _=async T=>{if(T==null)return 0;if(q.isBlob(T))return T.size;if(q.isSpecCompliantForm(T))return(await new n(Rn.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(q.isArrayBufferView(T)||q.isArrayBuffer(T))return T.byteLength;if(q.isURLSearchParams(T)&&(T=T+""),q.isString(T))return(await u(T)).byteLength},v=async(T,b)=>{const A=q.toFiniteNumber(T.getContentLength());return A??_(b)};return async T=>{let{url:b,method:A,data:x,signal:$,cancelToken:B,timeout:L,onDownloadProgress:Y,onUploadProgress:Se,responseType:O,headers:I,withCredentials:S="same-origin",fetchOptions:N}=xT(T),D=e||fetch;O=O?(O+"").toLowerCase():"text";let M=BF([$,B&&B.toAbortSignal()],L),P=null;const ft=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let qt;try{if(Se&&h&&A!=="get"&&A!=="head"&&(qt=await v(I,x))!==0){let G=new n(b,{method:"POST",body:x,duplex:"half"}),et;if(q.isFormData(x)&&(et=G.headers.get("content-type"))&&I.setContentType(et),G.body){const[ot,cn]=Py(qt,Bu(ky(Se)));x=xy(G.body,Ny,ot,cn)}}q.isString(S)||(S=S?"include":"omit");const je=i&&"credentials"in n.prototype,Te={...N,signal:M,method:A.toUpperCase(),headers:I.normalize().toJSON(),body:x,duplex:"half",credentials:je?S:void 0};P=i&&new n(b,Te);let Re=await(i?D(P,N):D(b,Te));const en=d&&(O==="stream"||O==="response");if(d&&(Y||en&&ft)){const G={};["status","statusText","headers"].forEach(Rt=>{G[Rt]=Re[Rt]});const et=q.toFiniteNumber(Re.headers.get("content-length")),[ot,cn]=Y&&Py(et,Bu(ky(Y),!0))||[];Re=new s(xy(Re.body,Ny,ot,()=>{cn&&cn(),ft&&ft()}),G)}O=O||"text";let vn=await m[q.findKey(m,O)||"text"](Re,T);return!en&&ft&&ft(),await new Promise((G,et)=>{kT(G,et,{data:vn,headers:Bn.from(Re.headers),status:Re.status,statusText:Re.statusText,config:T,request:P})})}catch(je){throw ft&&ft(),je&&je.name==="TypeError"&&/Load failed|fetch/i.test(je.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,T,P),{cause:je.cause||je}):Ue.from(je,je&&je.code,T,P)}}},GF=new Map,NT=t=>{let e=t?t.env:{};const{fetch:n,Request:s,Response:r}=e,i=[s,r,n];let o=i.length,l=o,u,h,d=GF;for(;l--;)u=i[l],h=d.get(u),h===void 0&&d.set(u,h=l?new Map:KF(e)),d=h;return h};NT();const xf={http:hF,xhr:jF,fetch:{get:NT}};q.forEach(xf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const My=t=>`- ${t}`,QF=t=>q.isFunction(t)||t===null||t===!1,DT={getAdapter:(t,e)=>{t=q.isArray(t)?t:[t];const{length:n}=t;let s,r;const i={};for(let o=0;o<n;o++){s=t[o];let l;if(r=s,!QF(s)&&(r=xf[(l=String(s)).toLowerCase()],r===void 0))throw new Ue(`Unknown adapter '${l}'`);if(r&&(q.isFunction(r)||(r=r.get(e))))break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(My).join(`
`):" "+My(o[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:xf};function Nd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ba(null,t)}function Fy(t){return Nd(t),t.headers=Bn.from(t.headers),t.data=xd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),DT.getAdapter(t.adapter||lc.adapter,t)(t).then(function(s){return Nd(t),s.data=xd.call(t,t.transformResponse,s),s.headers=Bn.from(s.headers),s},function(s){return PT(s)||(Nd(t),s&&s.response&&(s.response.data=xd.call(t,t.transformResponse,s.response),s.response.headers=Bn.from(s.response.headers))),Promise.reject(s)})}const VT="1.12.2",Lh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Lh[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Uy={};Lh.transitional=function(e,n,s){function r(i,o){return"[Axios v"+VT+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(e===!1)throw new Ue(r(o," has been removed"+(n?" in "+n:"")),Ue.ERR_DEPRECATED);return n&&!Uy[o]&&(Uy[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};Lh.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function JF(t,e,n){if(typeof t!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const l=t[i],u=l===void 0||o(l,i,t);if(u!==!0)throw new Ue("option "+i+" must be "+u,Ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ue("Unknown option "+i,Ue.ERR_BAD_OPTION)}}const lu={assertOptions:JF,validators:Lh},Ns=lu.validators;let Yi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ry,response:new Ry}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=io(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&lu.assertOptions(s,{silentJSONParsing:Ns.transitional(Ns.boolean),forcedJSONParsing:Ns.transitional(Ns.boolean),clarifyTimeoutError:Ns.transitional(Ns.boolean)},!1),r!=null&&(q.isFunction(r)?n.paramsSerializer={serialize:r}:lu.assertOptions(r,{encode:Ns.function,serialize:Ns.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lu.assertOptions(n,{baseUrl:Ns.spelling("baseURL"),withXsrfToken:Ns.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&q.merge(i.common,i[n.method]);i&&q.forEach(["delete","get","head","post","put","patch","common"],T=>{delete i[T]}),n.headers=Bn.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const h=[];this.interceptors.response.forEach(function(b){h.push(b.fulfilled,b.rejected)});let d,m=0,_;if(!u){const T=[Fy.bind(this),void 0];for(T.unshift(...l),T.push(...h),_=T.length,d=Promise.resolve(n);m<_;)d=d.then(T[m++],T[m++]);return d}_=l.length;let v=n;for(;m<_;){const T=l[m++],b=l[m++];try{v=T(v)}catch(A){b.call(this,A);break}}try{d=Fy.call(this,v)}catch(T){return Promise.reject(T)}for(m=0,_=h.length;m<_;)d=d.then(h[m++],h[m++]);return d}getUri(e){e=io(this.defaults,e);const n=OT(e.baseURL,e.url,e.allowAbsoluteUrls);return ST(n,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){Yi.prototype[e]=function(n,s){return this.request(io(s||{},{method:e,url:n,data:(s||{}).data}))}});q.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,l){return this.request(io(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Yi.prototype[e]=n(),Yi.prototype[e+"Form"]=n(!0)});let YF=class LT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,l){s.reason||(s.reason=new ba(i,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new LT(function(r){e=r}),cancel:e}}};function XF(t){return function(n){return t.apply(null,n)}}function ZF(t){return q.isObject(t)&&t.isAxiosError===!0}const Nf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nf).forEach(([t,e])=>{Nf[e]=t});function MT(t){const e=new Yi(t),n=pT(Yi.prototype.request,e);return q.extend(n,Yi.prototype,e,{allOwnKeys:!0}),q.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return MT(io(t,r))},n}const Bt=MT(lc);Bt.Axios=Yi;Bt.CanceledError=ba;Bt.CancelToken=YF;Bt.isCancel=PT;Bt.VERSION=VT;Bt.toFormData=Vh;Bt.AxiosError=Ue;Bt.Cancel=Bt.CanceledError;Bt.all=function(e){return Promise.all(e)};Bt.spread=XF;Bt.isAxiosError=ZF;Bt.mergeConfig=io;Bt.AxiosHeaders=Bn;Bt.formToJSON=t=>CT(q.isHTMLForm(t)?new FormData(t):t);Bt.getAdapter=DT.getAdapter;Bt.HttpStatusCode=Nf;Bt.default=Bt;const{Axios:OU,AxiosError:xU,CanceledError:NU,isCancel:DU,CancelToken:VU,VERSION:LU,all:MU,Cancel:FU,isAxiosError:UU,spread:$U,toFormData:jU,AxiosHeaders:BU,HttpStatusCode:qU,formToJSON:HU,getAdapter:zU,mergeConfig:WU}=Bt,eU={class:"table"},tU={key:0},nU={key:0},sU={key:0},rU={key:0},iU={key:0},oU={key:0},aU={key:0},lU={key:0},cU={key:0,class:"btn btn-sm btn-info"},uU={key:1,class:"btn btn-sm btn-warning"},hU={class:"d-flex justify-content-center"},dU=["disabled"],fU={class:"mx-2"},pU=["disabled"],Dd=10,mU={__name:"UserTable",setup(t){const e=qe([]),n=ao({}),s=qe(""),r=qe(""),i=qe(""),o=qe(1),l=qe("username"),u=qe("asc"),h=async()=>{try{const B=Ih(Sn,"users"),L=await Gp(B);e.value=L.docs.map(Y=>({id:Y.id,...Y.data()}));for(let Y of e.value)await $(Y.id)}catch(B){console.error("Error fetching users: ",B)}},d=B=>B?B.toDate().toLocaleString():"N/A",m=Ze(()=>{const B=v.value||[];return Math.ceil(B.length/Dd)}),_=Ze(()=>{const B=[...v.value],L=(o.value-1)*Dd,Y=L+Dd;return B.slice(L,Y)}),v=Ze(()=>{const L=[...e.value.filter(Y=>{const Se=Y.username.toLowerCase().includes(s.value.toLowerCase()),O=Y.email.toLowerCase().includes(r.value.toLowerCase()),I=(Y.role?.toLowerCase()||"user").includes(i.value.toLowerCase());return Se&&O&&I})];return l.value&&L.sort((Y,Se)=>{let O=Y[l.value]||"",I=Se[l.value]||"";return l.value==="eventCount"&&(O=n[Y.id]||0,I=n[Se.id]||0),typeof O=="string"&&(O=O.toLowerCase(),I=I.toLowerCase()),O<I?u.value==="asc"?-1:1:O>I?u.value==="asc"?1:-1:0}),L}),T=B=>{B>0&&B<=m.value&&(o.value=B)},b=B=>{B===l.value?u.value=u.value==="asc"?"desc":"asc":(l.value=B,u.value="asc")},A=B=>l.value===B?u.value==="asc"?"":"":"",x=B=>l.value===B,$=async B=>{try{const L=await Bt.get("https://countevents-tt6m6dcmxq-uc.a.run.app",{params:{uid:B}});n[B]=L.data.count}catch(L){console.error("Error fetching event count: ",L),n[B]=0}};return ai(()=>{h()}),(B,L)=>(se(),re(Dt,null,[L[27]||(L[27]=R("h4",null,"User List",-1)),R("table",eU,[R("thead",null,[R("tr",null,[R("th",{onClick:L[2]||(L[2]=Y=>b("username")),class:Xt({sorted:x("username")})},[L[16]||(L[16]=it(" UserName ",-1)),x("username")?(se(),re("span",tU,ye(A("username")),1)):ze("",!0),gt(R("input",{"onUpdate:modelValue":L[0]||(L[0]=Y=>s.value=Y),type:"text",class:"form-control form-control-sm mt-2",placeholder:"Search",onClick:L[1]||(L[1]=Jn(()=>{},["stop"]))},null,512),[[At,s.value]])],2),R("th",{onClick:L[5]||(L[5]=Y=>b("email")),class:Xt({sorted:x("email")})},[L[17]||(L[17]=it(" Email ",-1)),x("email")?(se(),re("span",nU,ye(A("email")),1)):ze("",!0),gt(R("input",{"onUpdate:modelValue":L[3]||(L[3]=Y=>r.value=Y),type:"text",class:"form-control form-control-sm mt-2",placeholder:"Search",onClick:L[4]||(L[4]=Jn(()=>{},["stop"]))},null,512),[[At,r.value]])],2),R("th",{onClick:L[8]||(L[8]=Y=>b("role")),class:Xt({sorted:x("role")})},[L[18]||(L[18]=it(" Role ",-1)),x("role")?(se(),re("span",sU,ye(A("role")),1)):ze("",!0),gt(R("input",{"onUpdate:modelValue":L[6]||(L[6]=Y=>i.value=Y),type:"text",class:"form-control form-control-sm mt-2",placeholder:"Search",onClick:L[7]||(L[7]=Jn(()=>{},["stop"]))},null,512),[[At,i.value]])],2),R("th",{onClick:L[9]||(L[9]=Y=>b("eventCount")),class:Xt({sorted:x("eventCount")})},[L[19]||(L[19]=it(" Events ",-1)),x("eventCount")?(se(),re("span",rU,ye(A("eventCount")),1)):ze("",!0)],2),R("th",{onClick:L[10]||(L[10]=Y=>b("warnings")),class:Xt({sorted:x("warnings")})},[L[20]||(L[20]=it(" Warnings ",-1)),x("warnings")?(se(),re("span",iU,ye(A("warnings")),1)):ze("",!0)],2),R("th",{onClick:L[11]||(L[11]=Y=>b("lastActive")),class:Xt({sorted:x("lastActive")})},[L[21]||(L[21]=it(" Last Active ",-1)),x("lastActive")?(se(),re("span",oU,ye(A("lastActive")),1)):ze("",!0)],2),R("th",{onClick:L[12]||(L[12]=Y=>b("online")),class:Xt({sorted:x("online")})},[L[22]||(L[22]=it(" Online ",-1)),x("online")?(se(),re("span",aU,ye(A("online")),1)):ze("",!0)],2),R("th",{onClick:L[13]||(L[13]=Y=>b("status")),class:Xt({sorted:x("status")})},[L[23]||(L[23]=it(" Status ",-1)),x("status")?(se(),re("span",lU,ye(A("status")),1)):ze("",!0)],2),L[24]||(L[24]=R("th",null,"Actions",-1))])]),R("tbody",null,[(se(!0),re(Dt,null,Xi(_.value,Y=>(se(),re("tr",{key:Y.id},[R("td",null,ye(Y.username),1),R("td",null,ye(Y.email),1),R("td",null,ye(Y.role||"user"),1),R("td",null,ye(n[Y.id]),1),R("td",null,ye(Y.warnings||"0"),1),R("td",null,ye(d(Y.lastSeen)),1),R("td",null,ye(Y.online||!1),1),R("td",null,ye(Y.status||"active"),1),R("td",null,[Y.role!=="admin"?(se(),re("button",cU,"Promote")):ze("",!0),Y.role=="moderator"||Y.role=="admin"?(se(),re("button",uU,"Demote")):ze("",!0),L[25]||(L[25]=R("button",{class:"btn btn-sm btn-warning"},"Suspend",-1)),L[26]||(L[26]=R("button",{class:"btn btn-sm btn-danger"},"Ban",-1))])]))),128))])]),R("div",hU,[R("button",{class:"btn btn-sm btn-secondary",disabled:o.value===1,onClick:L[14]||(L[14]=Y=>T(o.value-1))},"Previous",8,dU),R("span",fU,"Page "+ye(o.value)+" of "+ye(m.value),1),R("button",{class:"btn btn-sm btn-secondary",disabled:o.value===m.value,onClick:L[15]||(L[15]=Y=>T(o.value+1))},"Next",8,pU)])],64))}},gU={class:"d-flex min-vh-100"},_U={class:"content-area p-4 w-100"},yU={key:0},vU={key:1},Vd=10,Ld=10,wU={__name:"AdminDashboard",setup(t){const e=qe("users"),n=qe([{id:1,title:"Vue.js Workshop",date:"2022-11-01",location:"New York"},{id:2,title:"React Summit",date:"2022-12-15",location:"San Francisco"},{id:3,title:"JavaScript Conference",date:"2023-01-20",location:"Los Angeles"},{id:4,title:"Angular Meetup",date:"2023-02-10",location:"Seattle"},{id:5,title:"CSS and HTML5 Workshop",date:"2023-03-05",location:"Chicago"},{id:6,title:"Node.js Hackathon",date:"2023-04-10",location:"Austin"},{id:7,title:"Django DevCon",date:"2023-05-25",location:"Dallas"},{id:8,title:"Ruby on Rails Meetup",date:"2023-06-15",location:"San Diego"},{id:9,title:"PHP Conference",date:"2023-07-08",location:"Miami"},{id:10,title:"Java Dev Summit",date:"2023-08-12",location:"Boston"},{id:11,title:"GoLang Conference",date:"2023-09-25",location:"Austin"}]),s=qe(1),r=qe(1);Ze(()=>Math.ceil(users.value.length/Vd)),Ze(()=>Math.ceil(n.value.length/Ld)),Ze(()=>{const l=(s.value-1)*Vd,u=l+Vd;return users.value.slice(l,u)}),Ze(()=>{const l=(r.value-1)*Ld,u=l+Ld;return n.value.slice(l,u)});const i=()=>{e.value="users"},o=()=>{e.value="events"};return(l,u)=>(se(),re("div",gU,[R("div",{class:"sidebar p-3 bg-light",style:{width:"250px"}},[u[0]||(u[0]=R("h5",null,"Admin Dashboard",-1)),R("div",{class:"list-group"},[R("button",{class:"list-group-item list-group-item-action",onClick:i},"View Users"),R("button",{class:"list-group-item list-group-item-action",onClick:o},"View Events")])]),R("div",_U,[e.value==="users"?(se(),re("div",yU,[Fe(mU)])):ze("",!0),e.value==="events"?(se(),re("div",vU,[Fe(A2)])):ze("",!0)])]))}},EU=Jp(wU,[["__scopeId","data-v-1d77775a"]]),bU={class:"d-flex justify-content-center align-items-start min-vh-100 mt-5"},TU={__name:"PermissionDenied",setup(t){const e=ha();return setTimeout(()=>{e.push("/")},5e3),(n,s)=>(se(),re("div",bU,[...s[0]||(s[0]=[R("div",{class:"floating-box p-4 w-100",style:{"max-width":"500px"}},[R("div",{class:"text-center mb-4"},[R("h1",null,"Permission Denied")])],-1)])]))}};var cu={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var IU=cu.exports,$y;function AU(){return $y||($y=1,(function(t,e){(function(n,s){t.exports=s()})(IU,function(){const n=new Map,s={set(y,c,p){n.has(y)||n.set(y,new Map);const w=n.get(y);w.has(c)||w.size===0?w.set(c,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(w.keys())[0]}.`)},get:(y,c)=>n.has(y)&&n.get(y).get(c)||null,remove(y,c){if(!n.has(y))return;const p=n.get(y);p.delete(c),p.size===0&&n.delete(y)}},r="transitionend",i=y=>(y&&window.CSS&&window.CSS.escape&&(y=y.replace(/#([^\s"#']+)/g,(c,p)=>`#${CSS.escape(p)}`)),y),o=y=>y==null?`${y}`:Object.prototype.toString.call(y).match(/\s([a-z]+)/i)[1].toLowerCase(),l=y=>{y.dispatchEvent(new Event(r))},u=y=>!(!y||typeof y!="object")&&(y.jquery!==void 0&&(y=y[0]),y.nodeType!==void 0),h=y=>u(y)?y.jquery?y[0]:y:typeof y=="string"&&y.length>0?document.querySelector(i(y)):null,d=y=>{if(!u(y)||y.getClientRects().length===0)return!1;const c=getComputedStyle(y).getPropertyValue("visibility")==="visible",p=y.closest("details:not([open])");if(!p)return c;if(p!==y){const w=y.closest("summary");if(w&&w.parentNode!==p||w===null)return!1}return c},m=y=>!y||y.nodeType!==Node.ELEMENT_NODE||!!y.classList.contains("disabled")||(y.disabled!==void 0?y.disabled:y.hasAttribute("disabled")&&y.getAttribute("disabled")!=="false"),_=y=>{if(!document.documentElement.attachShadow)return null;if(typeof y.getRootNode=="function"){const c=y.getRootNode();return c instanceof ShadowRoot?c:null}return y instanceof ShadowRoot?y:y.parentNode?_(y.parentNode):null},v=()=>{},T=y=>{y.offsetHeight},b=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,A=[],x=()=>document.documentElement.dir==="rtl",$=y=>{var c;c=()=>{const p=b();if(p){const w=y.NAME,V=p.fn[w];p.fn[w]=y.jQueryInterface,p.fn[w].Constructor=y,p.fn[w].noConflict=()=>(p.fn[w]=V,y.jQueryInterface)}},document.readyState==="loading"?(A.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of A)p()}),A.push(c)):c()},B=(y,c=[],p=y)=>typeof y=="function"?y.call(...c):p,L=(y,c,p=!0)=>{if(!p)return void B(y);const w=(z=>{if(!z)return 0;let{transitionDuration:te,transitionDelay:le}=window.getComputedStyle(z);const ge=Number.parseFloat(te),_e=Number.parseFloat(le);return ge||_e?(te=te.split(",")[0],le=le.split(",")[0],1e3*(Number.parseFloat(te)+Number.parseFloat(le))):0})(c)+5;let V=!1;const F=({target:z})=>{z===c&&(V=!0,c.removeEventListener(r,F),B(y))};c.addEventListener(r,F),setTimeout(()=>{V||l(c)},w)},Y=(y,c,p,w)=>{const V=y.length;let F=y.indexOf(c);return F===-1?!p&&w?y[V-1]:y[0]:(F+=p?1:-1,w&&(F=(F+V)%V),y[Math.max(0,Math.min(F,V-1))])},Se=/[^.]*(?=\..*)\.|.*/,O=/\..*/,I=/::\d+$/,S={};let N=1;const D={mouseenter:"mouseover",mouseleave:"mouseout"},M=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function P(y,c){return c&&`${c}::${N++}`||y.uidEvent||N++}function ft(y){const c=P(y);return y.uidEvent=c,S[c]=S[c]||{},S[c]}function qt(y,c,p=null){return Object.values(y).find(w=>w.callable===c&&w.delegationSelector===p)}function je(y,c,p){const w=typeof c=="string",V=w?p:c||p;let F=vn(y);return M.has(F)||(F=y),[w,V,F]}function Te(y,c,p,w,V){if(typeof c!="string"||!y)return;let[F,z,te]=je(c,p,w);c in D&&(z=(De=>function(Oe){if(!Oe.relatedTarget||Oe.relatedTarget!==Oe.delegateTarget&&!Oe.delegateTarget.contains(Oe.relatedTarget))return De.call(this,Oe)})(z));const le=ft(y),ge=le[te]||(le[te]={}),_e=qt(ge,z,F?p:null);if(_e)return void(_e.oneOff=_e.oneOff&&V);const de=P(z,c.replace(Se,"")),$e=F?(function(Ce,De,Oe){return function Ve(pt){const wt=Ce.querySelectorAll(De);for(let{target:He}=pt;He&&He!==this;He=He.parentNode)for(const rt of wt)if(rt===He)return et(pt,{delegateTarget:He}),Ve.oneOff&&G.off(Ce,pt.type,De,Oe),Oe.apply(He,[pt])}})(y,p,z):(function(Ce,De){return function Oe(Ve){return et(Ve,{delegateTarget:Ce}),Oe.oneOff&&G.off(Ce,Ve.type,De),De.apply(Ce,[Ve])}})(y,z);$e.delegationSelector=F?p:null,$e.callable=z,$e.oneOff=V,$e.uidEvent=de,ge[de]=$e,y.addEventListener(te,$e,F)}function Re(y,c,p,w,V){const F=qt(c[p],w,V);F&&(y.removeEventListener(p,F,!!V),delete c[p][F.uidEvent])}function en(y,c,p,w){const V=c[p]||{};for(const[F,z]of Object.entries(V))F.includes(w)&&Re(y,c,p,z.callable,z.delegationSelector)}function vn(y){return y=y.replace(O,""),D[y]||y}const G={on(y,c,p,w){Te(y,c,p,w,!1)},one(y,c,p,w){Te(y,c,p,w,!0)},off(y,c,p,w){if(typeof c!="string"||!y)return;const[V,F,z]=je(c,p,w),te=z!==c,le=ft(y),ge=le[z]||{},_e=c.startsWith(".");if(F===void 0){if(_e)for(const de of Object.keys(le))en(y,le,de,c.slice(1));for(const[de,$e]of Object.entries(ge)){const Ce=de.replace(I,"");te&&!c.includes(Ce)||Re(y,le,z,$e.callable,$e.delegationSelector)}}else{if(!Object.keys(ge).length)return;Re(y,le,z,F,V?p:null)}},trigger(y,c,p){if(typeof c!="string"||!y)return null;const w=b();let V=null,F=!0,z=!0,te=!1;c!==vn(c)&&w&&(V=w.Event(c,p),w(y).trigger(V),F=!V.isPropagationStopped(),z=!V.isImmediatePropagationStopped(),te=V.isDefaultPrevented());const le=et(new Event(c,{bubbles:F,cancelable:!0}),p);return te&&le.preventDefault(),z&&y.dispatchEvent(le),le.defaultPrevented&&V&&V.preventDefault(),le}};function et(y,c={}){for(const[p,w]of Object.entries(c))try{y[p]=w}catch{Object.defineProperty(y,p,{configurable:!0,get:()=>w})}return y}function ot(y){if(y==="true")return!0;if(y==="false")return!1;if(y===Number(y).toString())return Number(y);if(y===""||y==="null")return null;if(typeof y!="string")return y;try{return JSON.parse(decodeURIComponent(y))}catch{return y}}function cn(y){return y.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const Rt={setDataAttribute(y,c,p){y.setAttribute(`data-bs-${cn(c)}`,p)},removeDataAttribute(y,c){y.removeAttribute(`data-bs-${cn(c)}`)},getDataAttributes(y){if(!y)return{};const c={},p=Object.keys(y.dataset).filter(w=>w.startsWith("bs")&&!w.startsWith("bsConfig"));for(const w of p){let V=w.replace(/^bs/,"");V=V.charAt(0).toLowerCase()+V.slice(1),c[V]=ot(y.dataset[w])}return c},getDataAttribute:(y,c)=>ot(y.getAttribute(`data-bs-${cn(c)}`))};class Ht{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,p){const w=u(p)?Rt.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof w=="object"?w:{},...u(p)?Rt.getDataAttributes(p):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,p=this.constructor.DefaultType){for(const[w,V]of Object.entries(p)){const F=c[w],z=u(F)?"element":o(F);if(!new RegExp(V).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${w}" provided type "${z}" but expected type "${V}".`)}}}class W extends Ht{constructor(c,p){super(),(c=h(c))&&(this._element=c,this._config=this._getConfig(p),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),G.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,p,w=!0){L(c,p,w)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return s.get(h(c),this.DATA_KEY)}static getOrCreateInstance(c,p={}){return this.getInstance(c)||new this(c,typeof p=="object"?p:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const he=y=>{let c=y.getAttribute("data-bs-target");if(!c||c==="#"){let p=y.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),c=p&&p!=="#"?p.trim():null}return c?c.split(",").map(p=>i(p)).join(","):null},K={find:(y,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,y)),findOne:(y,c=document.documentElement)=>Element.prototype.querySelector.call(c,y),children:(y,c)=>[].concat(...y.children).filter(p=>p.matches(c)),parents(y,c){const p=[];let w=y.parentNode.closest(c);for(;w;)p.push(w),w=w.parentNode.closest(c);return p},prev(y,c){let p=y.previousElementSibling;for(;p;){if(p.matches(c))return[p];p=p.previousElementSibling}return[]},next(y,c){let p=y.nextElementSibling;for(;p;){if(p.matches(c))return[p];p=p.nextElementSibling}return[]},focusableChildren(y){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(c,y).filter(p=>!m(p)&&d(p))},getSelectorFromElement(y){const c=he(y);return c&&K.findOne(c)?c:null},getElementFromSelector(y){const c=he(y);return c?K.findOne(c):null},getMultipleElementsFromSelector(y){const c=he(y);return c?K.find(c):[]}},me=(y,c="hide")=>{const p=`click.dismiss${y.EVENT_KEY}`,w=y.NAME;G.on(document,p,`[data-bs-dismiss="${w}"]`,function(V){if(["A","AREA"].includes(this.tagName)&&V.preventDefault(),m(this))return;const F=K.getElementFromSelector(this)||this.closest(`.${w}`);y.getOrCreateInstance(F)[c]()})},Ye=".bs.alert",C=`close${Ye}`,k=`closed${Ye}`;class U extends W{static get NAME(){return"alert"}close(){if(G.trigger(this._element,C).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),G.trigger(this._element,k),this.dispose()}static jQueryInterface(c){return this.each(function(){const p=U.getOrCreateInstance(this);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c](this)}})}}me(U,"close"),$(U);const J='[data-bs-toggle="button"]';class Z extends W{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const p=Z.getOrCreateInstance(this);c==="toggle"&&p[c]()})}}G.on(document,"click.bs.button.data-api",J,y=>{y.preventDefault();const c=y.target.closest(J);Z.getOrCreateInstance(c).toggle()}),$(Z);const Q=".bs.swipe",ce=`touchstart${Q}`,oe=`touchmove${Q}`,ie=`touchend${Q}`,ne=`pointerdown${Q}`,be=`pointerup${Q}`,ue={endCallback:null,leftCallback:null,rightCallback:null},we={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ie extends Ht{constructor(c,p){super(),this._element=c,c&&Ie.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ue}static get DefaultType(){return we}static get NAME(){return"swipe"}dispose(){G.off(this._element,Q)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),B(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const p=c/this._deltaX;this._deltaX=0,p&&B(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(G.on(this._element,ne,c=>this._start(c)),G.on(this._element,be,c=>this._end(c)),this._element.classList.add("pointer-event")):(G.on(this._element,ce,c=>this._start(c)),G.on(this._element,oe,c=>this._move(c)),G.on(this._element,ie,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType==="pen"||c.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ve=".bs.carousel",xe=".data-api",We="ArrowLeft",Qt="ArrowRight",Ct="next",Jt="prev",Pt="left",qn="right",yi=`slide${ve}`,Vt=`slid${ve}`,Ln=`keydown${ve}`,mo=`mouseenter${ve}`,br=`mouseleave${ve}`,cc=`dragstart${ve}`,uc=`load${ve}${xe}`,vi=`click${ve}${xe}`,go="carousel",Tr="active",Ss=".active",Ta=".carousel-item",_o=Ss+Ta,hc={[We]:qn,[Qt]:Pt},wi={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},dc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class xt extends W{constructor(c,p){super(c,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=K.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===go&&this.cycle()}static get Default(){return wi}static get DefaultType(){return dc}static get NAME(){return"carousel"}next(){this._slide(Ct)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(Jt)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?G.one(this._element,Vt,()=>this.cycle()):this.cycle())}to(c){const p=this._getItems();if(c>p.length-1||c<0)return;if(this._isSliding)return void G.one(this._element,Vt,()=>this.to(c));const w=this._getItemIndex(this._getActive());if(w===c)return;const V=c>w?Ct:Jt;this._slide(V,p[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&G.on(this._element,Ln,c=>this._keydown(c)),this._config.pause==="hover"&&(G.on(this._element,mo,()=>this.pause()),G.on(this._element,br,()=>this._maybeEnableCycle())),this._config.touch&&Ie.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of K.find(".carousel-item img",this._element))G.on(p,cc,w=>w.preventDefault());const c={leftCallback:()=>this._slide(this._directionToOrder(Pt)),rightCallback:()=>this._slide(this._directionToOrder(qn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ie(this._element,c)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const p=hc[c.key];p&&(c.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const p=K.findOne(Ss,this._indicatorsElement);p.classList.remove(Tr),p.removeAttribute("aria-current");const w=K.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);w&&(w.classList.add(Tr),w.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const p=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(c,p=null){if(this._isSliding)return;const w=this._getActive(),V=c===Ct,F=p||Y(this._getItems(),w,V,this._config.wrap);if(F===w)return;const z=this._getItemIndex(F),te=de=>G.trigger(this._element,de,{relatedTarget:F,direction:this._orderToDirection(c),from:this._getItemIndex(w),to:z});if(te(yi).defaultPrevented||!w||!F)return;const le=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=F;const ge=V?"carousel-item-start":"carousel-item-end",_e=V?"carousel-item-next":"carousel-item-prev";F.classList.add(_e),T(F),w.classList.add(ge),F.classList.add(ge),this._queueCallback(()=>{F.classList.remove(ge,_e),F.classList.add(Tr),w.classList.remove(Tr,_e,ge),this._isSliding=!1,te(Vt)},w,this._isAnimated()),le&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return K.findOne(_o,this._element)}_getItems(){return K.find(Ta,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return x()?c===Pt?Jt:Ct:c===Pt?Ct:Jt}_orderToDirection(c){return x()?c===Jt?Pt:qn:c===Jt?qn:Pt}static jQueryInterface(c){return this.each(function(){const p=xt.getOrCreateInstance(this,c);if(typeof c!="number"){if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}}else p.to(c)})}}G.on(document,vi,"[data-bs-slide], [data-bs-slide-to]",function(y){const c=K.getElementFromSelector(this);if(!c||!c.classList.contains(go))return;y.preventDefault();const p=xt.getOrCreateInstance(c),w=this.getAttribute("data-bs-slide-to");return w?(p.to(w),void p._maybeEnableCycle()):Rt.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),G.on(window,uc,()=>{const y=K.find('[data-bs-ride="carousel"]');for(const c of y)xt.getOrCreateInstance(c)}),$(xt);const Ir=".bs.collapse",Ei=`show${Ir}`,bi=`shown${Ir}`,Mh=`hide${Ir}`,Fh=`hidden${Ir}`,Ar=`click${Ir}.data-api`,Ia="show",Sr="collapse",Gs="collapsing",fc=`:scope .${Sr} .${Sr}`,Ti='[data-bs-toggle="collapse"]',yo={parent:null,toggle:!0},Rs={parent:"(null|element)",toggle:"boolean"};class Qs extends W{constructor(c,p){super(c,p),this._isTransitioning=!1,this._triggerArray=[];const w=K.find(Ti);for(const V of w){const F=K.getSelectorFromElement(V),z=K.find(F).filter(te=>te===this._element);F!==null&&z.length&&this._triggerArray.push(V)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return yo}static get DefaultType(){return Rs}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(V=>V!==this._element).map(V=>Qs.getOrCreateInstance(V,{toggle:!1}))),c.length&&c[0]._isTransitioning||G.trigger(this._element,Ei).defaultPrevented)return;for(const V of c)V.hide();const p=this._getDimension();this._element.classList.remove(Sr),this._element.classList.add(Gs),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const w=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gs),this._element.classList.add(Sr,Ia),this._element.style[p]="",G.trigger(this._element,bi)},this._element,!0),this._element.style[p]=`${this._element[w]}px`}hide(){if(this._isTransitioning||!this._isShown()||G.trigger(this._element,Mh).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,T(this._element),this._element.classList.add(Gs),this._element.classList.remove(Sr,Ia);for(const p of this._triggerArray){const w=K.getElementFromSelector(p);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gs),this._element.classList.add(Sr),G.trigger(this._element,Fh)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(Ia)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=h(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(Ti);for(const p of c){const w=K.getElementFromSelector(p);w&&this._addAriaAndCollapsedClass([p],this._isShown(w))}}_getFirstLevelChildren(c){const p=K.find(fc,this._config.parent);return K.find(c,this._config.parent).filter(w=>!p.includes(w))}_addAriaAndCollapsedClass(c,p){if(c.length)for(const w of c)w.classList.toggle("collapsed",!p),w.setAttribute("aria-expanded",p)}static jQueryInterface(c){const p={};return typeof c=="string"&&/show|hide/.test(c)&&(p.toggle=!1),this.each(function(){const w=Qs.getOrCreateInstance(this,p);if(typeof c=="string"){if(w[c]===void 0)throw new TypeError(`No method named "${c}"`);w[c]()}})}}G.on(document,Ar,Ti,function(y){(y.target.tagName==="A"||y.delegateTarget&&y.delegateTarget.tagName==="A")&&y.preventDefault();for(const c of K.getMultipleElementsFromSelector(this))Qs.getOrCreateInstance(c,{toggle:!1}).toggle()}),$(Qs);var tn="top",un="bottom",hn="right",nn="left",Ii="auto",Rr=[tn,un,hn,nn],Xn="start",Js="end",vo="clippingParents",Ys="viewport",Mn="popper",wo="reference",Aa=Rr.reduce(function(y,c){return y.concat([c+"-"+Xn,c+"-"+Js])},[]),Eo=[].concat(Rr,[Ii]).reduce(function(y,c){return y.concat([c,c+"-"+Xn,c+"-"+Js])},[]),Sa="beforeRead",Ra="read",bo="afterRead",To="beforeMain",Ca="main",Pa="afterMain",pc="beforeWrite",mc="write",ka="afterWrite",Oa=[Sa,Ra,bo,To,Ca,Pa,pc,mc,ka];function Zn(y){return y?(y.nodeName||"").toLowerCase():null}function Lt(y){if(y==null)return window;if(y.toString()!=="[object Window]"){var c=y.ownerDocument;return c&&c.defaultView||window}return y}function dn(y){return y instanceof Lt(y).Element||y instanceof Element}function fn(y){return y instanceof Lt(y).HTMLElement||y instanceof HTMLElement}function Cr(y){return typeof ShadowRoot<"u"&&(y instanceof Lt(y).ShadowRoot||y instanceof ShadowRoot)}const Io={name:"applyStyles",enabled:!0,phase:"write",fn:function(y){var c=y.state;Object.keys(c.elements).forEach(function(p){var w=c.styles[p]||{},V=c.attributes[p]||{},F=c.elements[p];fn(F)&&Zn(F)&&(Object.assign(F.style,w),Object.keys(V).forEach(function(z){var te=V[z];te===!1?F.removeAttribute(z):F.setAttribute(z,te===!0?"":te)}))})},effect:function(y){var c=y.state,p={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,p.popper),c.styles=p,c.elements.arrow&&Object.assign(c.elements.arrow.style,p.arrow),function(){Object.keys(c.elements).forEach(function(w){var V=c.elements[w],F=c.attributes[w]||{},z=Object.keys(c.styles.hasOwnProperty(w)?c.styles[w]:p[w]).reduce(function(te,le){return te[le]="",te},{});fn(V)&&Zn(V)&&(Object.assign(V.style,z),Object.keys(F).forEach(function(te){V.removeAttribute(te)}))})}},requires:["computeStyles"]};function Ke(y){return y.split("-")[0]}var es=Math.max,Cs=Math.min,ts=Math.round;function xa(){var y=navigator.userAgentData;return y!=null&&y.brands&&Array.isArray(y.brands)?y.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function Na(){return!/^((?!chrome|android).)*safari/i.test(xa())}function Pr(y,c,p){c===void 0&&(c=!1),p===void 0&&(p=!1);var w=y.getBoundingClientRect(),V=1,F=1;c&&fn(y)&&(V=y.offsetWidth>0&&ts(w.width)/y.offsetWidth||1,F=y.offsetHeight>0&&ts(w.height)/y.offsetHeight||1);var z=(dn(y)?Lt(y):window).visualViewport,te=!Na()&&p,le=(w.left+(te&&z?z.offsetLeft:0))/V,ge=(w.top+(te&&z?z.offsetTop:0))/F,_e=w.width/V,de=w.height/F;return{width:_e,height:de,top:ge,right:le+_e,bottom:ge+de,left:le,x:le,y:ge}}function Da(y){var c=Pr(y),p=y.offsetWidth,w=y.offsetHeight;return Math.abs(c.width-p)<=1&&(p=c.width),Math.abs(c.height-w)<=1&&(w=c.height),{x:y.offsetLeft,y:y.offsetTop,width:p,height:w}}function gc(y,c){var p=c.getRootNode&&c.getRootNode();if(y.contains(c))return!0;if(p&&Cr(p)){var w=c;do{if(w&&y.isSameNode(w))return!0;w=w.parentNode||w.host}while(w)}return!1}function ps(y){return Lt(y).getComputedStyle(y)}function Ai(y){return["table","td","th"].indexOf(Zn(y))>=0}function pn(y){return((dn(y)?y.ownerDocument:y.document)||window.document).documentElement}function Si(y){return Zn(y)==="html"?y:y.assignedSlot||y.parentNode||(Cr(y)?y.host:null)||pn(y)}function Va(y){return fn(y)&&ps(y).position!=="fixed"?y.offsetParent:null}function kr(y){for(var c=Lt(y),p=Va(y);p&&Ai(p)&&ps(p).position==="static";)p=Va(p);return p&&(Zn(p)==="html"||Zn(p)==="body"&&ps(p).position==="static")?c:p||(function(w){var V=/firefox/i.test(xa());if(/Trident/i.test(xa())&&fn(w)&&ps(w).position==="fixed")return null;var F=Si(w);for(Cr(F)&&(F=F.host);fn(F)&&["html","body"].indexOf(Zn(F))<0;){var z=ps(F);if(z.transform!=="none"||z.perspective!=="none"||z.contain==="paint"||["transform","perspective"].indexOf(z.willChange)!==-1||V&&z.willChange==="filter"||V&&z.filter&&z.filter!=="none")return F;F=F.parentNode}return null})(y)||c}function Ps(y){return["top","bottom"].indexOf(y)>=0?"x":"y"}function Ri(y,c,p){return es(y,Cs(c,p))}function _c(y){return Object.assign({},{top:0,right:0,bottom:0,left:0},y)}function yc(y,c){return c.reduce(function(p,w){return p[w]=y,p},{})}const ms={name:"arrow",enabled:!0,phase:"main",fn:function(y){var c,p=y.state,w=y.name,V=y.options,F=p.elements.arrow,z=p.modifiersData.popperOffsets,te=Ke(p.placement),le=Ps(te),ge=[nn,hn].indexOf(te)>=0?"height":"width";if(F&&z){var _e=(function(mt,dt){return _c(typeof(mt=typeof mt=="function"?mt(Object.assign({},dt.rects,{placement:dt.placement})):mt)!="number"?mt:yc(mt,Rr))})(V.padding,p),de=Da(F),$e=le==="y"?tn:nn,Ce=le==="y"?un:hn,De=p.rects.reference[ge]+p.rects.reference[le]-z[le]-p.rects.popper[ge],Oe=z[le]-p.rects.reference[le],Ve=kr(F),pt=Ve?le==="y"?Ve.clientHeight||0:Ve.clientWidth||0:0,wt=De/2-Oe/2,He=_e[$e],rt=pt-de[ge]-_e[Ce],Be=pt/2-de[ge]/2+wt,Xe=Ri(He,Be,rt),ht=le;p.modifiersData[w]=((c={})[ht]=Xe,c.centerOffset=Xe-Be,c)}},effect:function(y){var c=y.state,p=y.options.element,w=p===void 0?"[data-popper-arrow]":p;w!=null&&(typeof w!="string"||(w=c.elements.popper.querySelector(w)))&&gc(c.elements.popper,w)&&(c.elements.arrow=w)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Or(y){return y.split("-")[1]}var Uh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ci(y){var c,p=y.popper,w=y.popperRect,V=y.placement,F=y.variation,z=y.offsets,te=y.position,le=y.gpuAcceleration,ge=y.adaptive,_e=y.roundOffsets,de=y.isFixed,$e=z.x,Ce=$e===void 0?0:$e,De=z.y,Oe=De===void 0?0:De,Ve=typeof _e=="function"?_e({x:Ce,y:Oe}):{x:Ce,y:Oe};Ce=Ve.x,Oe=Ve.y;var pt=z.hasOwnProperty("x"),wt=z.hasOwnProperty("y"),He=nn,rt=tn,Be=window;if(ge){var Xe=kr(p),ht="clientHeight",mt="clientWidth";Xe===Lt(p)&&ps(Xe=pn(p)).position!=="static"&&te==="absolute"&&(ht="scrollHeight",mt="scrollWidth"),(V===tn||(V===nn||V===hn)&&F===Js)&&(rt=un,Oe-=(de&&Xe===Be&&Be.visualViewport?Be.visualViewport.height:Xe[ht])-w.height,Oe*=le?1:-1),V!==nn&&(V!==tn&&V!==un||F!==Js)||(He=hn,Ce-=(de&&Xe===Be&&Be.visualViewport?Be.visualViewport.width:Xe[mt])-w.width,Ce*=le?1:-1)}var dt,Mt=Object.assign({position:te},ge&&Uh),Hn=_e===!0?(function(gs,xn){var rs=gs.x,is=gs.y,Nt=xn.devicePixelRatio||1;return{x:ts(rs*Nt)/Nt||0,y:ts(is*Nt)/Nt||0}})({x:Ce,y:Oe},Lt(p)):{x:Ce,y:Oe};return Ce=Hn.x,Oe=Hn.y,le?Object.assign({},Mt,((dt={})[rt]=wt?"0":"",dt[He]=pt?"0":"",dt.transform=(Be.devicePixelRatio||1)<=1?"translate("+Ce+"px, "+Oe+"px)":"translate3d("+Ce+"px, "+Oe+"px, 0)",dt)):Object.assign({},Mt,((c={})[rt]=wt?Oe+"px":"",c[He]=pt?Ce+"px":"",c.transform="",c))}const xr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(y){var c=y.state,p=y.options,w=p.gpuAcceleration,V=w===void 0||w,F=p.adaptive,z=F===void 0||F,te=p.roundOffsets,le=te===void 0||te,ge={placement:Ke(c.placement),variation:Or(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:V,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,Ci(Object.assign({},ge,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:z,roundOffsets:le})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,Ci(Object.assign({},ge,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:le})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var Pi={passive:!0};const Xs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(y){var c=y.state,p=y.instance,w=y.options,V=w.scroll,F=V===void 0||V,z=w.resize,te=z===void 0||z,le=Lt(c.elements.popper),ge=[].concat(c.scrollParents.reference,c.scrollParents.popper);return F&&ge.forEach(function(_e){_e.addEventListener("scroll",p.update,Pi)}),te&&le.addEventListener("resize",p.update,Pi),function(){F&&ge.forEach(function(_e){_e.removeEventListener("scroll",p.update,Pi)}),te&&le.removeEventListener("resize",p.update,Pi)}},data:{}};var ki={left:"right",right:"left",bottom:"top",top:"bottom"};function Oi(y){return y.replace(/left|right|bottom|top/g,function(c){return ki[c]})}var La={start:"end",end:"start"};function It(y){return y.replace(/start|end/g,function(c){return La[c]})}function Ma(y){var c=Lt(y);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function Fa(y){return Pr(pn(y)).left+Ma(y).scrollLeft}function Ao(y){var c=ps(y),p=c.overflow,w=c.overflowX,V=c.overflowY;return/auto|scroll|overlay|hidden/.test(p+V+w)}function Ua(y){return["html","body","#document"].indexOf(Zn(y))>=0?y.ownerDocument.body:fn(y)&&Ao(y)?y:Ua(Si(y))}function Nr(y,c){var p;c===void 0&&(c=[]);var w=Ua(y),V=w===((p=y.ownerDocument)==null?void 0:p.body),F=Lt(w),z=V?[F].concat(F.visualViewport||[],Ao(w)?w:[]):w,te=c.concat(z);return V?te:te.concat(Nr(Si(z)))}function Dr(y){return Object.assign({},y,{left:y.x,top:y.y,right:y.x+y.width,bottom:y.y+y.height})}function $a(y,c,p){return c===Ys?Dr((function(w,V){var F=Lt(w),z=pn(w),te=F.visualViewport,le=z.clientWidth,ge=z.clientHeight,_e=0,de=0;if(te){le=te.width,ge=te.height;var $e=Na();($e||!$e&&V==="fixed")&&(_e=te.offsetLeft,de=te.offsetTop)}return{width:le,height:ge,x:_e+Fa(w),y:de}})(y,p)):dn(c)?(function(w,V){var F=Pr(w,!1,V==="fixed");return F.top=F.top+w.clientTop,F.left=F.left+w.clientLeft,F.bottom=F.top+w.clientHeight,F.right=F.left+w.clientWidth,F.width=w.clientWidth,F.height=w.clientHeight,F.x=F.left,F.y=F.top,F})(c,p):Dr((function(w){var V,F=pn(w),z=Ma(w),te=(V=w.ownerDocument)==null?void 0:V.body,le=es(F.scrollWidth,F.clientWidth,te?te.scrollWidth:0,te?te.clientWidth:0),ge=es(F.scrollHeight,F.clientHeight,te?te.scrollHeight:0,te?te.clientHeight:0),_e=-z.scrollLeft+Fa(w),de=-z.scrollTop;return ps(te||F).direction==="rtl"&&(_e+=es(F.clientWidth,te?te.clientWidth:0)-le),{width:le,height:ge,x:_e,y:de}})(pn(y)))}function ns(y){var c,p=y.reference,w=y.element,V=y.placement,F=V?Ke(V):null,z=V?Or(V):null,te=p.x+p.width/2-w.width/2,le=p.y+p.height/2-w.height/2;switch(F){case tn:c={x:te,y:p.y-w.height};break;case un:c={x:te,y:p.y+p.height};break;case hn:c={x:p.x+p.width,y:le};break;case nn:c={x:p.x-w.width,y:le};break;default:c={x:p.x,y:p.y}}var ge=F?Ps(F):null;if(ge!=null){var _e=ge==="y"?"height":"width";switch(z){case Xn:c[ge]=c[ge]-(p[_e]/2-w[_e]/2);break;case Js:c[ge]=c[ge]+(p[_e]/2-w[_e]/2)}}return c}function Zs(y,c){c===void 0&&(c={});var p=c,w=p.placement,V=w===void 0?y.placement:w,F=p.strategy,z=F===void 0?y.strategy:F,te=p.boundary,le=te===void 0?vo:te,ge=p.rootBoundary,_e=ge===void 0?Ys:ge,de=p.elementContext,$e=de===void 0?Mn:de,Ce=p.altBoundary,De=Ce!==void 0&&Ce,Oe=p.padding,Ve=Oe===void 0?0:Oe,pt=_c(typeof Ve!="number"?Ve:yc(Ve,Rr)),wt=$e===Mn?wo:Mn,He=y.rects.popper,rt=y.elements[De?wt:$e],Be=(function(xn,rs,is,Nt){var ks=rs==="clippingParents"?(function(_t){var Nn=Nr(Si(_t)),os=["absolute","fixed"].indexOf(ps(_t).position)>=0&&fn(_t)?kr(_t):_t;return dn(os)?Nn.filter(function(jr){return dn(jr)&&gc(jr,os)&&Zn(jr)!=="body"}):[]})(xn):[].concat(rs),Os=[].concat(ks,[is]),Oo=Os[0],on=Os.reduce(function(_t,Nn){var os=$a(xn,Nn,Nt);return _t.top=es(os.top,_t.top),_t.right=Cs(os.right,_t.right),_t.bottom=Cs(os.bottom,_t.bottom),_t.left=es(os.left,_t.left),_t},$a(xn,Oo,Nt));return on.width=on.right-on.left,on.height=on.bottom-on.top,on.x=on.left,on.y=on.top,on})(dn(rt)?rt:rt.contextElement||pn(y.elements.popper),le,_e,z),Xe=Pr(y.elements.reference),ht=ns({reference:Xe,element:He,placement:V}),mt=Dr(Object.assign({},He,ht)),dt=$e===Mn?mt:Xe,Mt={top:Be.top-dt.top+pt.top,bottom:dt.bottom-Be.bottom+pt.bottom,left:Be.left-dt.left+pt.left,right:dt.right-Be.right+pt.right},Hn=y.modifiersData.offset;if($e===Mn&&Hn){var gs=Hn[V];Object.keys(Mt).forEach(function(xn){var rs=[hn,un].indexOf(xn)>=0?1:-1,is=[tn,un].indexOf(xn)>=0?"y":"x";Mt[xn]+=gs[is]*rs})}return Mt}function $h(y,c){c===void 0&&(c={});var p=c,w=p.placement,V=p.boundary,F=p.rootBoundary,z=p.padding,te=p.flipVariations,le=p.allowedAutoPlacements,ge=le===void 0?Eo:le,_e=Or(w),de=_e?te?Aa:Aa.filter(function(De){return Or(De)===_e}):Rr,$e=de.filter(function(De){return ge.indexOf(De)>=0});$e.length===0&&($e=de);var Ce=$e.reduce(function(De,Oe){return De[Oe]=Zs(y,{placement:Oe,boundary:V,rootBoundary:F,padding:z})[Ke(Oe)],De},{});return Object.keys(Ce).sort(function(De,Oe){return Ce[De]-Ce[Oe]})}const Vr={name:"flip",enabled:!0,phase:"main",fn:function(y){var c=y.state,p=y.options,w=y.name;if(!c.modifiersData[w]._skip){for(var V=p.mainAxis,F=V===void 0||V,z=p.altAxis,te=z===void 0||z,le=p.fallbackPlacements,ge=p.padding,_e=p.boundary,de=p.rootBoundary,$e=p.altBoundary,Ce=p.flipVariations,De=Ce===void 0||Ce,Oe=p.allowedAutoPlacements,Ve=c.options.placement,pt=Ke(Ve),wt=le||(pt!==Ve&&De?(function(_t){if(Ke(_t)===Ii)return[];var Nn=Oi(_t);return[It(_t),Nn,It(Nn)]})(Ve):[Oi(Ve)]),He=[Ve].concat(wt).reduce(function(_t,Nn){return _t.concat(Ke(Nn)===Ii?$h(c,{placement:Nn,boundary:_e,rootBoundary:de,padding:ge,flipVariations:De,allowedAutoPlacements:Oe}):Nn)},[]),rt=c.rects.reference,Be=c.rects.popper,Xe=new Map,ht=!0,mt=He[0],dt=0;dt<He.length;dt++){var Mt=He[dt],Hn=Ke(Mt),gs=Or(Mt)===Xn,xn=[tn,un].indexOf(Hn)>=0,rs=xn?"width":"height",is=Zs(c,{placement:Mt,boundary:_e,rootBoundary:de,altBoundary:$e,padding:ge}),Nt=xn?gs?hn:nn:gs?un:tn;rt[rs]>Be[rs]&&(Nt=Oi(Nt));var ks=Oi(Nt),Os=[];if(F&&Os.push(is[Hn]<=0),te&&Os.push(is[Nt]<=0,is[ks]<=0),Os.every(function(_t){return _t})){mt=Mt,ht=!1;break}Xe.set(Mt,Os)}if(ht)for(var Oo=function(_t){var Nn=He.find(function(os){var jr=Xe.get(os);if(jr)return jr.slice(0,_t).every(function(Oc){return Oc})});if(Nn)return mt=Nn,"break"},on=De?3:1;on>0&&Oo(on)!=="break";on--);c.placement!==mt&&(c.modifiersData[w]._skip=!0,c.placement=mt,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ja(y,c,p){return p===void 0&&(p={x:0,y:0}),{top:y.top-c.height-p.y,right:y.right-c.width+p.x,bottom:y.bottom-c.height+p.y,left:y.left-c.width-p.x}}function So(y){return[tn,hn,un,nn].some(function(c){return y[c]>=0})}const xi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(y){var c=y.state,p=y.name,w=c.rects.reference,V=c.rects.popper,F=c.modifiersData.preventOverflow,z=Zs(c,{elementContext:"reference"}),te=Zs(c,{altBoundary:!0}),le=ja(z,w),ge=ja(te,V,F),_e=So(le),de=So(ge);c.modifiersData[p]={referenceClippingOffsets:le,popperEscapeOffsets:ge,isReferenceHidden:_e,hasPopperEscaped:de},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":_e,"data-popper-escaped":de})}},Ba={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(y){var c=y.state,p=y.options,w=y.name,V=p.offset,F=V===void 0?[0,0]:V,z=Eo.reduce(function(_e,de){return _e[de]=(function($e,Ce,De){var Oe=Ke($e),Ve=[nn,tn].indexOf(Oe)>=0?-1:1,pt=typeof De=="function"?De(Object.assign({},Ce,{placement:$e})):De,wt=pt[0],He=pt[1];return wt=wt||0,He=(He||0)*Ve,[nn,hn].indexOf(Oe)>=0?{x:He,y:wt}:{x:wt,y:He}})(de,c.rects,F),_e},{}),te=z[c.placement],le=te.x,ge=te.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=le,c.modifiersData.popperOffsets.y+=ge),c.modifiersData[w]=z}},Lr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(y){var c=y.state,p=y.name;c.modifiersData[p]=ns({reference:c.rects.reference,element:c.rects.popper,placement:c.placement})},data:{}},vc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(y){var c=y.state,p=y.options,w=y.name,V=p.mainAxis,F=V===void 0||V,z=p.altAxis,te=z!==void 0&&z,le=p.boundary,ge=p.rootBoundary,_e=p.altBoundary,de=p.padding,$e=p.tether,Ce=$e===void 0||$e,De=p.tetherOffset,Oe=De===void 0?0:De,Ve=Zs(c,{boundary:le,rootBoundary:ge,padding:de,altBoundary:_e}),pt=Ke(c.placement),wt=Or(c.placement),He=!wt,rt=Ps(pt),Be=rt==="x"?"y":"x",Xe=c.modifiersData.popperOffsets,ht=c.rects.reference,mt=c.rects.popper,dt=typeof Oe=="function"?Oe(Object.assign({},c.rects,{placement:c.placement})):Oe,Mt=typeof dt=="number"?{mainAxis:dt,altAxis:dt}:Object.assign({mainAxis:0,altAxis:0},dt),Hn=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,gs={x:0,y:0};if(Xe){if(F){var xn,rs=rt==="y"?tn:nn,is=rt==="y"?un:hn,Nt=rt==="y"?"height":"width",ks=Xe[rt],Os=ks+Ve[rs],Oo=ks-Ve[is],on=Ce?-mt[Nt]/2:0,_t=wt===Xn?ht[Nt]:mt[Nt],Nn=wt===Xn?-mt[Nt]:-ht[Nt],os=c.elements.arrow,jr=Ce&&os?Da(os):{width:0,height:0},Oc=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},km=Oc[rs],Om=Oc[is],xc=Ri(0,ht[Nt],jr[Nt]),YI=He?ht[Nt]/2-on-xc-km-Mt.mainAxis:_t-xc-km-Mt.mainAxis,XI=He?-ht[Nt]/2+on+xc+Om+Mt.mainAxis:Nn+xc+Om+Mt.mainAxis,Xh=c.elements.arrow&&kr(c.elements.arrow),ZI=Xh?rt==="y"?Xh.clientTop||0:Xh.clientLeft||0:0,xm=(xn=Hn?.[rt])!=null?xn:0,eA=ks+XI-xm,Nm=Ri(Ce?Cs(Os,ks+YI-xm-ZI):Os,ks,Ce?es(Oo,eA):Oo);Xe[rt]=Nm,gs[rt]=Nm-ks}if(te){var Dm,tA=rt==="x"?tn:nn,nA=rt==="x"?un:hn,$i=Xe[Be],Nc=Be==="y"?"height":"width",Vm=$i+Ve[tA],Lm=$i-Ve[nA],Zh=[tn,nn].indexOf(pt)!==-1,Mm=(Dm=Hn?.[Be])!=null?Dm:0,Fm=Zh?Vm:$i-ht[Nc]-mt[Nc]-Mm+Mt.altAxis,Um=Zh?$i+ht[Nc]+mt[Nc]-Mm-Mt.altAxis:Lm,$m=Ce&&Zh?(function(sA,rA,ed){var jm=Ri(sA,rA,ed);return jm>ed?ed:jm})(Fm,$i,Um):Ri(Ce?Fm:Vm,$i,Ce?Um:Lm);Xe[Be]=$m,gs[Be]=$m-$i}c.modifiersData[w]=gs}},requiresIfExists:["offset"]};function wc(y,c,p){p===void 0&&(p=!1);var w,V,F=fn(c),z=fn(c)&&(function(de){var $e=de.getBoundingClientRect(),Ce=ts($e.width)/de.offsetWidth||1,De=ts($e.height)/de.offsetHeight||1;return Ce!==1||De!==1})(c),te=pn(c),le=Pr(y,z,p),ge={scrollLeft:0,scrollTop:0},_e={x:0,y:0};return(F||!F&&!p)&&((Zn(c)!=="body"||Ao(te))&&(ge=(w=c)!==Lt(w)&&fn(w)?{scrollLeft:(V=w).scrollLeft,scrollTop:V.scrollTop}:Ma(w)),fn(c)?((_e=Pr(c,!0)).x+=c.clientLeft,_e.y+=c.clientTop):te&&(_e.x=Fa(te))),{x:le.left+ge.scrollLeft-_e.x,y:le.top+ge.scrollTop-_e.y,width:le.width,height:le.height}}function Ni(y){var c=new Map,p=new Set,w=[];function V(F){p.add(F.name),[].concat(F.requires||[],F.requiresIfExists||[]).forEach(function(z){if(!p.has(z)){var te=c.get(z);te&&V(te)}}),w.push(F)}return y.forEach(function(F){c.set(F.name,F)}),y.forEach(function(F){p.has(F.name)||V(F)}),w}var qa={placement:"bottom",modifiers:[],strategy:"absolute"};function Ha(){for(var y=arguments.length,c=new Array(y),p=0;p<y;p++)c[p]=arguments[p];return!c.some(function(w){return!(w&&typeof w.getBoundingClientRect=="function")})}function Mr(y){y===void 0&&(y={});var c=y,p=c.defaultModifiers,w=p===void 0?[]:p,V=c.defaultOptions,F=V===void 0?qa:V;return function(z,te,le){le===void 0&&(le=F);var ge,_e,de={placement:"bottom",orderedModifiers:[],options:Object.assign({},qa,F),modifiersData:{},elements:{reference:z,popper:te},attributes:{},styles:{}},$e=[],Ce=!1,De={state:de,setOptions:function(Ve){var pt=typeof Ve=="function"?Ve(de.options):Ve;Oe(),de.options=Object.assign({},F,de.options,pt),de.scrollParents={reference:dn(z)?Nr(z):z.contextElement?Nr(z.contextElement):[],popper:Nr(te)};var wt,He,rt=(function(Be){var Xe=Ni(Be);return Oa.reduce(function(ht,mt){return ht.concat(Xe.filter(function(dt){return dt.phase===mt}))},[])})((wt=[].concat(w,de.options.modifiers),He=wt.reduce(function(Be,Xe){var ht=Be[Xe.name];return Be[Xe.name]=ht?Object.assign({},ht,Xe,{options:Object.assign({},ht.options,Xe.options),data:Object.assign({},ht.data,Xe.data)}):Xe,Be},{}),Object.keys(He).map(function(Be){return He[Be]})));return de.orderedModifiers=rt.filter(function(Be){return Be.enabled}),de.orderedModifiers.forEach(function(Be){var Xe=Be.name,ht=Be.options,mt=ht===void 0?{}:ht,dt=Be.effect;if(typeof dt=="function"){var Mt=dt({state:de,name:Xe,instance:De,options:mt});$e.push(Mt||function(){})}}),De.update()},forceUpdate:function(){if(!Ce){var Ve=de.elements,pt=Ve.reference,wt=Ve.popper;if(Ha(pt,wt)){de.rects={reference:wc(pt,kr(wt),de.options.strategy==="fixed"),popper:Da(wt)},de.reset=!1,de.placement=de.options.placement,de.orderedModifiers.forEach(function(dt){return de.modifiersData[dt.name]=Object.assign({},dt.data)});for(var He=0;He<de.orderedModifiers.length;He++)if(de.reset!==!0){var rt=de.orderedModifiers[He],Be=rt.fn,Xe=rt.options,ht=Xe===void 0?{}:Xe,mt=rt.name;typeof Be=="function"&&(de=Be({state:de,options:ht,name:mt,instance:De})||de)}else de.reset=!1,He=-1}}},update:(ge=function(){return new Promise(function(Ve){De.forceUpdate(),Ve(de)})},function(){return _e||(_e=new Promise(function(Ve){Promise.resolve().then(function(){_e=void 0,Ve(ge())})})),_e}),destroy:function(){Oe(),Ce=!0}};if(!Ha(z,te))return De;function Oe(){$e.forEach(function(Ve){return Ve()}),$e=[]}return De.setOptions(le).then(function(Ve){!Ce&&le.onFirstUpdate&&le.onFirstUpdate(Ve)}),De}}var za=Mr(),Ec=Mr({defaultModifiers:[Xs,Lr,xr,Io]}),Fr=Mr({defaultModifiers:[Xs,Lr,xr,Io,Ba,Vr,vc,ms,xi]});const Wa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Pa,afterRead:bo,afterWrite:ka,applyStyles:Io,arrow:ms,auto:Ii,basePlacements:Rr,beforeMain:To,beforeRead:Sa,beforeWrite:pc,bottom:un,clippingParents:vo,computeStyles:xr,createPopper:Fr,createPopperBase:za,createPopperLite:Ec,detectOverflow:Zs,end:Js,eventListeners:Xs,flip:Vr,hide:xi,left:nn,main:Ca,modifierPhases:Oa,offset:Ba,placements:Eo,popper:Mn,popperGenerator:Mr,popperOffsets:Lr,preventOverflow:vc,read:Ra,reference:wo,right:hn,start:Xn,top:tn,variationPlacements:Aa,viewport:Ys,write:mc},Symbol.toStringTag,{value:"Module"})),Ka="dropdown",kn=".bs.dropdown",Ro=".data-api",bc="ArrowUp",Ga="ArrowDown",Tc=`hide${kn}`,Co=`hidden${kn}`,On=`show${kn}`,Ic=`shown${kn}`,Qa=`click${kn}${Ro}`,er=`keydown${kn}${Ro}`,a=`keyup${kn}${Ro}`,f="show",g='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',E=`${g}.${f}`,j=".dropdown-menu",H=x()?"top-end":"top-start",ae=x()?"top-start":"top-end",ut=x()?"bottom-end":"bottom-start",Yt=x()?"bottom-start":"bottom-end",tt=x()?"left-start":"right-start",sn=x()?"right-start":"left-start",rn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ur={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class kt extends W{constructor(c,p){super(c,p),this._popper=null,this._parent=this._element.parentNode,this._menu=K.next(this._element,j)[0]||K.prev(this._element,j)[0]||K.findOne(j,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return rn}static get DefaultType(){return Ur}static get NAME(){return Ka}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!G.trigger(this._element,On,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))G.on(p,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(f),this._element.classList.add(f),G.trigger(this._element,Ic,c)}}hide(){if(m(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!G.trigger(this._element,Tc,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))G.off(p,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(f),this._element.classList.remove(f),this._element.setAttribute("aria-expanded","false"),Rt.removeDataAttribute(this._menu,"popper"),G.trigger(this._element,Co,c)}}_getConfig(c){if(typeof(c=super._getConfig(c)).reference=="object"&&!u(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${Ka.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(Wa===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let c=this._element;this._config.reference==="parent"?c=this._parent:u(this._config.reference)?c=h(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const p=this._getPopperConfig();this._popper=Fr(c,this._menu,p)}_isShown(){return this._menu.classList.contains(f)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return tt;if(c.classList.contains("dropstart"))return sn;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains("dropup")?p?ae:H:p?Yt:ut}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(p=>Number.parseInt(p,10)):typeof c=="function"?p=>c(p,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Rt.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...B(this._config.popperConfig,[void 0,c])}}_selectMenuItem({key:c,target:p}){const w=K.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(V=>d(V));w.length&&Y(w,p,c===Ga,!w.includes(p)).focus()}static jQueryInterface(c){return this.each(function(){const p=kt.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}static clearMenus(c){if(c.button===2||c.type==="keyup"&&c.key!=="Tab")return;const p=K.find(E);for(const w of p){const V=kt.getInstance(w);if(!V||V._config.autoClose===!1)continue;const F=c.composedPath(),z=F.includes(V._menu);if(F.includes(V._element)||V._config.autoClose==="inside"&&!z||V._config.autoClose==="outside"&&z||V._menu.contains(c.target)&&(c.type==="keyup"&&c.key==="Tab"||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const te={relatedTarget:V._element};c.type==="click"&&(te.clickEvent=c),V._completeHide(te)}}static dataApiKeydownHandler(c){const p=/input|textarea/i.test(c.target.tagName),w=c.key==="Escape",V=[bc,Ga].includes(c.key);if(!V&&!w||p&&!w)return;c.preventDefault();const F=this.matches(g)?this:K.prev(this,g)[0]||K.next(this,g)[0]||K.findOne(g,c.delegateTarget.parentNode),z=kt.getOrCreateInstance(F);if(V)return c.stopPropagation(),z.show(),void z._selectMenuItem(c);z._isShown()&&(c.stopPropagation(),z.hide(),F.focus())}}G.on(document,er,g,kt.dataApiKeydownHandler),G.on(document,er,j,kt.dataApiKeydownHandler),G.on(document,Qa,kt.clearMenus),G.on(document,a,kt.clearMenus),G.on(document,Qa,g,function(y){y.preventDefault(),kt.getOrCreateInstance(this).toggle()}),$(kt);const Di="backdrop",Po="show",em=`mousedown.bs.${Di}`,UT={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},$T={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class tm extends Ht{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return UT}static get DefaultType(){return $T}static get NAME(){return Di}show(c){if(!this._config.isVisible)return void B(c);this._append();const p=this._getElement();this._config.isAnimated&&T(p),p.classList.add(Po),this._emulateAnimation(()=>{B(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove(Po),this._emulateAnimation(()=>{this.dispose(),B(c)})):B(c)}dispose(){this._isAppended&&(G.off(this._element,em),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=h(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),G.on(c,em,()=>{B(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){L(c,this._getElement(),this._config.isAnimated)}}const Ac=".bs.focustrap",jT=`focusin${Ac}`,BT=`keydown.tab${Ac}`,nm="backward",qT={autofocus:!0,trapElement:null},HT={autofocus:"boolean",trapElement:"element"};class sm extends Ht{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return qT}static get DefaultType(){return HT}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),G.off(document,Ac),G.on(document,jT,c=>this._handleFocusin(c)),G.on(document,BT,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,G.off(document,Ac))}_handleFocusin(c){const{trapElement:p}=this._config;if(c.target===document||c.target===p||p.contains(c.target))return;const w=K.focusableChildren(p);w.length===0?p.focus():this._lastTabNavDirection===nm?w[w.length-1].focus():w[0].focus()}_handleKeydown(c){c.key==="Tab"&&(this._lastTabNavDirection=c.shiftKey?nm:"forward")}}const rm=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",im=".sticky-top",Sc="padding-right",om="margin-right";class jh{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Sc,p=>p+c),this._setElementAttributes(rm,Sc,p=>p+c),this._setElementAttributes(im,om,p=>p-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Sc),this._resetElementAttributes(rm,Sc),this._resetElementAttributes(im,om)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,p,w){const V=this.getWidth();this._applyManipulationCallback(c,F=>{if(F!==this._element&&window.innerWidth>F.clientWidth+V)return;this._saveInitialAttribute(F,p);const z=window.getComputedStyle(F).getPropertyValue(p);F.style.setProperty(p,`${w(Number.parseFloat(z))}px`)})}_saveInitialAttribute(c,p){const w=c.style.getPropertyValue(p);w&&Rt.setDataAttribute(c,p,w)}_resetElementAttributes(c,p){this._applyManipulationCallback(c,w=>{const V=Rt.getDataAttribute(w,p);V!==null?(Rt.removeDataAttribute(w,p),w.style.setProperty(p,V)):w.style.removeProperty(p)})}_applyManipulationCallback(c,p){if(u(c))p(c);else for(const w of K.find(c,this._element))p(w)}}const ss=".bs.modal",zT=`hide${ss}`,WT=`hidePrevented${ss}`,am=`hidden${ss}`,lm=`show${ss}`,KT=`shown${ss}`,GT=`resize${ss}`,QT=`click.dismiss${ss}`,JT=`mousedown.dismiss${ss}`,YT=`keydown.dismiss${ss}`,XT=`click${ss}.data-api`,cm="modal-open",um="show",Bh="modal-static",ZT={backdrop:!0,focus:!0,keyboard:!0},eI={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Vi extends W{constructor(c,p){super(c,p),this._dialog=K.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new jh,this._addEventListeners()}static get Default(){return ZT}static get DefaultType(){return eI}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||G.trigger(this._element,lm,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(cm),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){this._isShown&&!this._isTransitioning&&(G.trigger(this._element,zT).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(um),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){G.off(window,ss),G.off(this._dialog,ss),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new tm({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new sm({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=K.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),T(this._element),this._element.classList.add(um),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,G.trigger(this._element,KT,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){G.on(this._element,YT,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),G.on(window,GT,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),G.on(this._element,JT,c=>{G.one(this._element,QT,p=>{this._element===c.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(cm),this._resetAdjustments(),this._scrollBar.reset(),G.trigger(this._element,am)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(G.trigger(this._element,WT).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(Bh)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(Bh),this._queueCallback(()=>{this._element.classList.remove(Bh),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),w=p>0;if(w&&!c){const V=x()?"paddingLeft":"paddingRight";this._element.style[V]=`${p}px`}if(!w&&c){const V=x()?"paddingRight":"paddingLeft";this._element.style[V]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,p){return this.each(function(){const w=Vi.getOrCreateInstance(this,c);if(typeof c=="string"){if(w[c]===void 0)throw new TypeError(`No method named "${c}"`);w[c](p)}})}}G.on(document,XT,'[data-bs-toggle="modal"]',function(y){const c=K.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&y.preventDefault(),G.one(c,lm,w=>{w.defaultPrevented||G.one(c,am,()=>{d(this)&&this.focus()})});const p=K.findOne(".modal.show");p&&Vi.getInstance(p).hide(),Vi.getOrCreateInstance(c).toggle(this)}),me(Vi),$(Vi);const tr=".bs.offcanvas",hm=".data-api",tI=`load${tr}${hm}`,dm="show",fm="showing",pm="hiding",mm=".offcanvas.show",nI=`show${tr}`,sI=`shown${tr}`,rI=`hide${tr}`,gm=`hidePrevented${tr}`,_m=`hidden${tr}`,iI=`resize${tr}`,oI=`click${tr}${hm}`,aI=`keydown.dismiss${tr}`,lI={backdrop:!0,keyboard:!0,scroll:!1},cI={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class nr extends W{constructor(c,p){super(c,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lI}static get DefaultType(){return cI}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||G.trigger(this._element,nI,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new jh().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(fm),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(dm),this._element.classList.remove(fm),G.trigger(this._element,sI,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&(G.trigger(this._element,rI).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(pm),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(dm,pm),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new jh().reset(),G.trigger(this._element,_m)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new tm({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{this._config.backdrop!=="static"?this.hide():G.trigger(this._element,gm)}:null})}_initializeFocusTrap(){return new sm({trapElement:this._element})}_addEventListeners(){G.on(this._element,aI,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():G.trigger(this._element,gm))})}static jQueryInterface(c){return this.each(function(){const p=nr.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c](this)}})}}G.on(document,oI,'[data-bs-toggle="offcanvas"]',function(y){const c=K.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),m(this))return;G.one(c,_m,()=>{d(this)&&this.focus()});const p=K.findOne(mm);p&&p!==c&&nr.getInstance(p).hide(),nr.getOrCreateInstance(c).toggle(this)}),G.on(window,tI,()=>{for(const y of K.find(mm))nr.getOrCreateInstance(y).show()}),G.on(window,iI,()=>{for(const y of K.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(y).position!=="fixed"&&nr.getOrCreateInstance(y).hide()}),me(nr),$(nr);const ym={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},uI=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),hI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,dI=(y,c)=>{const p=y.nodeName.toLowerCase();return c.includes(p)?!uI.has(p)||!!hI.test(y.nodeValue):c.filter(w=>w instanceof RegExp).some(w=>w.test(p))},fI={allowList:ym,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},pI={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},mI={entry:"(string|element|function|null)",selector:"(string|element)"};class gI extends Ht{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return fI}static get DefaultType(){return pI}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[V,F]of Object.entries(this._config.content))this._setContent(c,F,V);const p=c.children[0],w=this._resolvePossibleFunction(this._config.extraClass);return w&&p.classList.add(...w.split(" ")),p}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[p,w]of Object.entries(c))super._typeCheckConfig({selector:p,entry:w},mI)}_setContent(c,p,w){const V=K.findOne(w,c);V&&((p=this._resolvePossibleFunction(p))?u(p)?this._putElementInTemplate(h(p),V):this._config.html?V.innerHTML=this._maybeSanitize(p):V.textContent=p:V.remove())}_maybeSanitize(c){return this._config.sanitize?(function(p,w,V){if(!p.length)return p;if(V&&typeof V=="function")return V(p);const F=new window.DOMParser().parseFromString(p,"text/html"),z=[].concat(...F.body.querySelectorAll("*"));for(const te of z){const le=te.nodeName.toLowerCase();if(!Object.keys(w).includes(le)){te.remove();continue}const ge=[].concat(...te.attributes),_e=[].concat(w["*"]||[],w[le]||[]);for(const de of ge)dI(de,_e)||te.removeAttribute(de.nodeName)}return F.body.innerHTML})(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return B(c,[void 0,this])}_putElementInTemplate(c,p){if(this._config.html)return p.innerHTML="",void p.append(c);p.textContent=c.textContent}}const _I=new Set(["sanitize","allowList","sanitizeFn"]),qh="fade",Rc="show",yI=".tooltip-inner",vm=".modal",wm="hide.bs.modal",Ja="hover",Hh="focus",zh="click",vI={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},wI={allowList:ym,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},EI={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Li extends W{constructor(c,p){if(Wa===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(c,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return wI}static get DefaultType(){return EI}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),G.off(this._element.closest(vm),wm,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=G.trigger(this._element,this.constructor.eventName("show")),p=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!p)return;this._disposePopper();const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:V}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(w),G.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(w),w.classList.add(Rc),"ontouchstart"in document.documentElement)for(const F of[].concat(...document.body.children))G.on(F,"mouseover",v);this._queueCallback(()=>{G.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!G.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Rc),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))G.off(c,"mouseover",v);this._activeTrigger[zh]=!1,this._activeTrigger[Hh]=!1,this._activeTrigger[Ja]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),G.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const p=this._getTemplateFactory(c).toHtml();if(!p)return null;p.classList.remove(qh,Rc),p.classList.add(`bs-${this.constructor.NAME}-auto`);const w=(V=>{do V+=Math.floor(1e6*Math.random());while(document.getElementById(V));return V})(this.constructor.NAME).toString();return p.setAttribute("id",w),this._isAnimated()&&p.classList.add(qh),p}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new gI({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[yI]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(qh)}_isShown(){return this.tip&&this.tip.classList.contains(Rc)}_createPopper(c){const p=B(this._config.placement,[this,c,this._element]),w=vI[p.toUpperCase()];return Fr(this._element,c,this._getPopperConfig(w))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(p=>Number.parseInt(p,10)):typeof c=="function"?p=>c(p,this._element):c}_resolvePossibleFunction(c){return B(c,[this._element,this._element])}_getPopperConfig(c){const p={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:w=>{this._getTipElement().setAttribute("data-popper-placement",w.state.placement)}}]};return{...p,...B(this._config.popperConfig,[void 0,p])}}_setListeners(){const c=this._config.trigger.split(" ");for(const p of c)if(p==="click")G.on(this._element,this.constructor.eventName("click"),this._config.selector,w=>{const V=this._initializeOnDelegatedTarget(w);V._activeTrigger[zh]=!(V._isShown()&&V._activeTrigger[zh]),V.toggle()});else if(p!=="manual"){const w=p===Ja?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),V=p===Ja?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");G.on(this._element,w,this._config.selector,F=>{const z=this._initializeOnDelegatedTarget(F);z._activeTrigger[F.type==="focusin"?Hh:Ja]=!0,z._enter()}),G.on(this._element,V,this._config.selector,F=>{const z=this._initializeOnDelegatedTarget(F);z._activeTrigger[F.type==="focusout"?Hh:Ja]=z._element.contains(F.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},G.on(this._element.closest(vm),wm,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,p){clearTimeout(this._timeout),this._timeout=setTimeout(c,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const p=Rt.getDataAttributes(this._element);for(const w of Object.keys(p))_I.has(w)&&delete p[w];return c={...p,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:h(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[p,w]of Object.entries(this._config))this.constructor.Default[p]!==w&&(c[p]=w);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const p=Li.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}}$(Li);const bI=".popover-header",TI=".popover-body",II={...Li.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},AI={...Li.DefaultType,content:"(null|string|element|function)"};class Cc extends Li{static get Default(){return II}static get DefaultType(){return AI}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[bI]:this._getTitle(),[TI]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const p=Cc.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c]()}})}}$(Cc);const Wh=".bs.scrollspy",SI=`activate${Wh}`,Em=`click${Wh}`,RI=`load${Wh}.data-api`,ko="active",Kh="[href]",bm=".nav-link",CI=`${bm}, .nav-item > ${bm}, .list-group-item`,PI={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},kI={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ya extends W{constructor(c,p){super(c,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return PI}static get DefaultType(){return kI}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=h(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(p=>Number.parseFloat(p))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(G.off(this._config.target,Em),G.on(this._config.target,Em,Kh,c=>{const p=this._observableSections.get(c.target.hash);if(p){c.preventDefault();const w=this._rootElement||window,V=p.offsetTop-this._element.offsetTop;if(w.scrollTo)return void w.scrollTo({top:V,behavior:"smooth"});w.scrollTop=V}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),c)}_observerCallback(c){const p=z=>this._targetLinks.get(`#${z.target.id}`),w=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(p(z))},V=(this._rootElement||document.documentElement).scrollTop,F=V>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=V;for(const z of c){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(z));continue}const te=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(F&&te){if(w(z),!V)return}else F||te||w(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=K.find(Kh,this._config.target);for(const p of c){if(!p.hash||m(p))continue;const w=K.findOne(decodeURI(p.hash),this._element);d(w)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,w))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(ko),this._activateParents(c),G.trigger(this._element,SI,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))K.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(ko);else for(const p of K.parents(c,".nav, .list-group"))for(const w of K.prev(p,CI))w.classList.add(ko)}_clearActiveClass(c){c.classList.remove(ko);const p=K.find(`${Kh}.${ko}`,c);for(const w of p)w.classList.remove(ko)}static jQueryInterface(c){return this.each(function(){const p=Ya.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}})}}G.on(window,RI,()=>{for(const y of K.find('[data-bs-spy="scroll"]'))Ya.getOrCreateInstance(y)}),$(Ya);const Mi=".bs.tab",OI=`hide${Mi}`,xI=`hidden${Mi}`,NI=`show${Mi}`,DI=`shown${Mi}`,VI=`click${Mi}`,LI=`keydown${Mi}`,MI=`load${Mi}`,FI="ArrowLeft",Tm="ArrowRight",UI="ArrowUp",Im="ArrowDown",Gh="Home",Am="End",Fi="active",Sm="fade",Qh="show",Rm=".dropdown-toggle",Jh=`:not(${Rm})`,Cm='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Yh=`.nav-link${Jh}, .list-group-item${Jh}, [role="tab"]${Jh}, ${Cm}`,$I=`.${Fi}[data-bs-toggle="tab"], .${Fi}[data-bs-toggle="pill"], .${Fi}[data-bs-toggle="list"]`;class Ui extends W{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),G.on(this._element,LI,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const p=this._getActiveElem(),w=p?G.trigger(p,OI,{relatedTarget:c}):null;G.trigger(c,NI,{relatedTarget:p}).defaultPrevented||w&&w.defaultPrevented||(this._deactivate(p,c),this._activate(c,p))}_activate(c,p){c&&(c.classList.add(Fi),this._activate(K.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),G.trigger(c,DI,{relatedTarget:p})):c.classList.add(Qh)},c,c.classList.contains(Sm)))}_deactivate(c,p){c&&(c.classList.remove(Fi),c.blur(),this._deactivate(K.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),G.trigger(c,xI,{relatedTarget:p})):c.classList.remove(Qh)},c,c.classList.contains(Sm)))}_keydown(c){if(![FI,Tm,UI,Im,Gh,Am].includes(c.key))return;c.stopPropagation(),c.preventDefault();const p=this._getChildren().filter(V=>!m(V));let w;if([Gh,Am].includes(c.key))w=p[c.key===Gh?0:p.length-1];else{const V=[Tm,Im].includes(c.key);w=Y(p,c.target,V,!0)}w&&(w.focus({preventScroll:!0}),Ui.getOrCreateInstance(w).show())}_getChildren(){return K.find(Yh,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,p){this._setAttributeIfNotExists(c,"role","tablist");for(const w of p)this._setInitialAttributesOnChild(w)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const p=this._elemIsActive(c),w=this._getOuterElement(c);c.setAttribute("aria-selected",p),w!==c&&this._setAttributeIfNotExists(w,"role","presentation"),p||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const p=K.getElementFromSelector(c);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,p){const w=this._getOuterElement(c);if(!w.classList.contains("dropdown"))return;const V=(F,z)=>{const te=K.findOne(F,w);te&&te.classList.toggle(z,p)};V(Rm,Fi),V(".dropdown-menu",Qh),w.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(c,p,w){c.hasAttribute(p)||c.setAttribute(p,w)}_elemIsActive(c){return c.classList.contains(Fi)}_getInnerElement(c){return c.matches(Yh)?c:K.findOne(Yh,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const p=Ui.getOrCreateInstance(this);if(typeof c=="string"){if(p[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);p[c]()}})}}G.on(document,VI,Cm,function(y){["A","AREA"].includes(this.tagName)&&y.preventDefault(),m(this)||Ui.getOrCreateInstance(this).show()}),G.on(window,MI,()=>{for(const y of K.find($I))Ui.getOrCreateInstance(y)}),$(Ui);const $r=".bs.toast",jI=`mouseover${$r}`,BI=`mouseout${$r}`,qI=`focusin${$r}`,HI=`focusout${$r}`,zI=`hide${$r}`,WI=`hidden${$r}`,KI=`show${$r}`,GI=`shown${$r}`,Pm="hide",Pc="show",kc="showing",QI={animation:"boolean",autohide:"boolean",delay:"number"},JI={animation:!0,autohide:!0,delay:5e3};class Xa extends W{constructor(c,p){super(c,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return JI}static get DefaultType(){return QI}static get NAME(){return"toast"}show(){G.trigger(this._element,KI).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Pm),T(this._element),this._element.classList.add(Pc,kc),this._queueCallback(()=>{this._element.classList.remove(kc),G.trigger(this._element,GI),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(G.trigger(this._element,zI).defaultPrevented||(this._element.classList.add(kc),this._queueCallback(()=>{this._element.classList.add(Pm),this._element.classList.remove(kc,Pc),G.trigger(this._element,WI)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Pc),super.dispose()}isShown(){return this._element.classList.contains(Pc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,p){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const w=c.relatedTarget;this._element===w||this._element.contains(w)||this._maybeScheduleHide()}_setListeners(){G.on(this._element,jI,c=>this._onInteraction(c,!0)),G.on(this._element,BI,c=>this._onInteraction(c,!1)),G.on(this._element,qI,c=>this._onInteraction(c,!0)),G.on(this._element,HI,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const p=Xa.getOrCreateInstance(this,c);if(typeof c=="string"){if(p[c]===void 0)throw new TypeError(`No method named "${c}"`);p[c](this)}})}}return me(Xa),$(Xa),{Alert:U,Button:Z,Carousel:xt,Collapse:Qs,Dropdown:kt,Modal:Vi,Offcanvas:nr,Popover:Cc,ScrollSpy:Ya,Tab:Ui,Toast:Xa,Tooltip:Li}})})(cu)),cu.exports}AU();const SU=NR(),RU=[{path:"/",component:eL},{path:"/FireLogin",name:"FireLogin",component:cL},{path:"/FireRegister",name:"FireRegister",component:DL},{path:"/Profile",name:"Profile",component:zL},{path:"/Browse",name:"Browse",component:yM},{path:"/EventDetails",name:"EventDetails",component:HM},{path:"/CreateEvent",name:"CreateEvent",component:f2},{path:"/AdminDashboard",name:"AdminDashBoard",component:EU},{path:"/Denied",name:"PermissionDenied",component:TU}],FT=OR({history:oR(),routes:RU});R0(JV).use(FT).use(SU).mount("#app");const Hc=rc();FT.beforeEach(async(t,e,n)=>{if(Hc.userRole||await Hc.fetchUserRole(Hc.firebaseUser?.uid),t.name==="AdminDashBoard"&&Hc.userRole!=="admin")return n({name:"PermissionDenied"});n()});
